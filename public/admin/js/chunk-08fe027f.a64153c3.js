(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-08fe027f"],{"144e":function(e,t,a){"use strict";var n=a("f22c"),i=a.n(n);i.a},"3bbb":function(e,t,a){"use strict";a("b0c0"),a("ac1f"),a("1276");var n=a("5530"),i=(a("96cf"),a("1da1")),r=a("5089"),s=a("c0d6"),o=a("f4d6"),d=a("9d8f"),c=a.n(d),u={id:{type:o["IKDataEntity"].Types.Integer,displayName:"id",tableConfig:{align:"start"},form:!1},photo:{displayName:"image",type:o["IKDataEntity"].Types.Image,formConfig:{type:{root:function(){return s["a"].getters.rootUrl+r["b"].servantRoot}},requiredEdit:!1,requiredNew:!1,md:12},header:!1},name:{displayName:"servantName"},password:{},permission:{type:o["IKDataEntity"].Types.Boolean},isPartTime:{type:o["IKDataEntity"].Types.Boolean}},p={add:function(e){return c.a.postWithUploadFile("Servant.php?op=add",e,{showLoading:!0})},edit:function(e){return e.file&&(e.imageExt=e.file.name.split(".").lastItem),c.a.postWithUploadFile("Servant.php?op=update",e,{showLoading:!0})},remove:function(e){return c.a.post("Servant.php?op=delete",{id:e})},load:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.a.get("Servant.php",Object(n["a"])({lang:r["b"].getLang()},t));case 2:return e.abrupt("return",e.sent.content);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()};t["a"]=o["IKDataEntity"].ModelFactory(u,p)},"789a":function(e,t,a){"use strict";a("d81d");var n=a("5530"),i=(a("96cf"),a("1da1")),r=a("f4d6"),s=a("9d8f"),o=a.n(s),d=a("caae"),c={id:{type:r["IKDataEntity"].Types.Integer,displayName:"id",tableConfig:{align:"start"},form:!1},name:{displayName:"RulesName"},dayOfWeek:{type:r["IKDataEntity"].Types.Option,formConfig:{type:{selectItems:d["a"].getList(),itemText:"name"}}},startTime:{type:r["IKDataEntity"].Types.Time},endTime:{type:r["IKDataEntity"].Types.Time},tempDiscountStr:{},priority:{formConfig:{default:20}},isActive:{type:r["IKDataEntity"].Types.Boolean}},u={add:function(e){return 7===e.dayOfWeek&&(e.dayOfWeek=0),o.a.post("DiscountRule.php?op=add",e,{showLoading:!0})},edit:function(e){return 7===e.dayOfWeek&&(e.dayOfWeek=0),o.a.postWithUploadFile("DiscountRule.php?op=change",e,{showLoading:!0})},remove:function(e){return o.a.post("DiscountRule.php?op=delete",{id:e})},load:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("DiscountRule.php?op=getList",Object(n["a"])({},t));case 2:return e.abrupt("return",e.sent.content.map((function(e){return"0"===e.dayOfWeek&&(e.dayOfWeek="7"),e})));case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()};t["a"]=r["IKDataEntity"].ModelFactory(c,u)},"8a91":function(e,t,a){"use strict";var n=a("5530"),i=(a("96cf"),a("1da1")),r=a("5089"),s=a("f4d6"),o=a("9d8f"),d=a.n(o),c=a("3bbb"),u=a("c0d6"),p={id:{type:s["IKDataEntity"].Types.Integer,displayName:"id",tableConfig:{align:"start"}},name:{displayName:"sectionName"},image:{type:s["IKDataEntity"].Types.Image,formConfig:{type:{root:function(){return u["a"].getters.rootUrl}},required:!1},displayName:"sectionImg"},servantIds:{displayName:"servantName",type:s["IKDataEntity"].Types.Option,formConfig:{type:{selectItems:c["a"].getList,multiple:!0}}},tableCount:{form:!1}},l={add:function(e){return e.servantIds=JSON.stringify(e.servantIds),d.a.postWithUploadFile("Section.php?op=add",e,{showLoading:!0})},edit:function(e){return e.servantIds=JSON.stringify(e.servantIds),d.a.postWithUploadFile("Section.php?op=update",e,{showLoading:!0})},remove:function(e){return d.a.post("Section.php?op=delete",{id:e})},load:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("Section.php",Object(n["a"])({op:"view",lang:r["b"].getLang()},t));case 2:return e.abrupt("return",e.sent.content);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()};t["a"]=s["IKDataEntity"].ModelFactory(p,l)},caae:function(e,t,a){"use strict";var n=a("9225");t["a"]={list:[{id:1,name:n["a"].t("Monday")},{id:2,name:n["a"].t("Tuesday")},{id:3,name:n["a"].t("Wednesday")},{id:4,name:n["a"].t("Thursday")},{id:5,name:n["a"].t("Friday")},{id:6,name:n["a"].t("Saturday")},{id:7,name:n["a"].t("Sunday")}],getList:function(){return this.list}}},f22c:function(e,t,a){},fcb1:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"fill-height align-start",attrs:{id:"data-tables",fluid:"",tag:"section"}},[a("v-card",{staticClass:"cardItem",staticStyle:{width:"100%"}},[a("v-toolbar",{attrs:{dense:"",color:"primary",dark:""}},[a("v-toolbar-title",{on:{click:e.goback}},[a("v-icon",[e._v("mdi-arrow-left")]),e._v(e._s(e.$t("返回"))+" ")],1),a("v-spacer")],1),a("v-card-text",[a("v-data-table",{attrs:{"fixed-header":"",dense:"",height:"calc(100vh - 72px)",loading:e.loading,headers:e.headers,items:e.tableData},scopedSlots:e._u([e._l(e.sectionHeaders,(function(t,n){return{key:"item."+t.name,fn:function(i){var r=i.item;return[a("v-checkbox",{key:n,attrs:{disabled:e.loading,"input-value":r[t.name]},on:{click:function(a){return e.updateDishDiscount(r,t)}}})]}}}))],null,!0)})],1)],1)],1)},i=[],r=(a("99af"),a("c740"),a("4160"),a("d81d"),a("45fc"),a("a434"),a("b0c0"),a("159b"),a("96cf"),a("1da1")),s=a("8a91"),o=a("789a"),d=a("0a61"),c=a("9225"),u={data:function(){return{model:s["a"],displayData:[],loading:!0,fixedHeader:[{text:c["a"].t("code"),value:"code",align:"center"},{text:c["a"].t("name"),value:"dishName"}],sectionHeaders:[],dishesRuleList:[]}},computed:{headers:function(){return this.fixedHeader.concat(this.sectionHeaders)},tableData:function(){var e=this,t=[];return this.displayData.forEach((function(a){e.sectionHeaders.forEach((function(t){var n=!1;n=e.dishesRuleList.some((function(e,n){if(a.dishesId===e.dishesId&&t.id===parseInt(e.discountRuleId))return!0})),a[t.name]=n})),t.push(a)})),this.displayData}},mounted:function(){this.loadData()},methods:{goback:function(){this.$router.history.go(-1)},updateDishDiscount:function(e,t){var a=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var i,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a.loading=!1,e[t.name]=!e[t.name],i={dishesId:e.dishesId,discountRuleId:t.id},e[t.name]?a.dishesRuleList.push(i):(r=a.dishesRuleList.findIndex((function(a){return a.dishesId===e.dishesId&&a.discountRuleId===t.id})),a.dishesRuleList.splice(r,1)),n.next=6,Object(d["L"])(a.dishesRuleList);case 6:case"end":return n.stop()}}),n)})))()},loadData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o["a"].getList();case 2:return e.sectionHeaders=t.sent.map((function(e){return e.text=e.name,e.value=e.name,e})),t.next=5,Object(d["t"])().then((function(t){e.dishesRuleList=t.content}));case 5:return t.next=7,Object(d["l"])().then((function(t){e.loading=!1,e.displayData=t.content.map((function(e){var t={dishName:"",dishesId:"",code:""};return t.dishesId=e.dishId,t.dishName=e.dishName,t.code=e.code,t}))}));case 7:case"end":return t.stop()}}),t)})))()}}},p=u,l=(a("144e"),a("2877")),f=a("6544"),m=a.n(f),h=a("b0af"),y=a("99d9"),g=a("ac7c"),v=a("a523"),b=a("8fea"),I=a("132d"),D=a("2fa4"),w=a("71d9"),x=a("2a7f"),R=Object(l["a"])(p,n,i,!1,null,"cf376d70",null);t["default"]=R.exports;m()(R,{VCard:h["a"],VCardText:y["c"],VCheckbox:g["a"],VContainer:v["a"],VDataTable:b["a"],VIcon:I["a"],VSpacer:D["a"],VToolbar:w["a"],VToolbarTitle:x["b"]})}}]);
//# sourceMappingURL=chunk-08fe027f.a64153c3.js.map