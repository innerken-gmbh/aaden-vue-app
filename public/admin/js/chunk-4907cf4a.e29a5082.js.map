{"version":3,"sources":["webpack:///./node_modules/aaden-base-model/lib/Models/Allergen.js","webpack:///./node_modules/aaden-base-model/lib/Models/CategoryType.js","webpack:///./node_modules/aaden-base-model/lib/Models/ParentCategoty.js","webpack:///./node_modules/aaden-base-model/lib/Models/Category.js","webpack:///./src/model/Attribute.js","webpack:///./node_modules/aaden-base-model/lib/Models/Dish.js","webpack:///./src/views/dishes/SalesInsight.vue?99e7","webpack:///./src/model/ParentCategoty.js","webpack:///./src/model/Category.js","webpack:///./node_modules/aaden-base-model/lib/Models/AadenBase.js","webpack:///./src/model/PrinterGroup.js","webpack:///./src/model/Allergen.js","webpack:///./node_modules/aaden-base-model/lib/Models/AttributeGroup.js","webpack:///./src/model/StringEntity.js","webpack:///./node_modules/aaden-base-model/lib/Models/PrinterGroup.js","webpack:///./src/model/AttributeGroup.js","webpack:///./node_modules/aaden-base-model/lib/Models/StringEntity.js","webpack:///./src/model/Dish.js","webpack:///./src/components/Utlis/Utils.js","webpack:///./src/model/CategoryType.js","webpack:///./src/views/dishes/SalesInsight.vue?b203","webpack:///src/views/dishes/SalesInsight.vue","webpack:///./src/views/dishes/SalesInsight.vue?82a1","webpack:///./src/views/dishes/SalesInsight.vue?b20a","webpack:///./src/common/common.js"],"names":["Object","defineProperty","exports","value","default","_metaflowJs","_hillo","_interopRequireDefault","obj","__esModule","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","configurable","writable","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","err","undefined","entity","id","type","IKDataEntity","Types","Integer","displayName","tableConfig","align","form","name","icon","shortName","displayText","config","add","item","postWithUploadFile","showLoading","edit","remove","post","load","_load","get","op","content","_x","_default","ModelFactory","_GlobalSettings","formConfig","requiredNew","lang","getLang","_StringEntity","_langsname","langs","Group","groupName","supportLang","childLabelKey","displayCondition","toUpperCase","displayChild","childKey","labelKey","children","header","_CategoryType","_AttributeGroup","_ConsumeType","_ParentCategoty","appliedAttributeGroup","attributeGroupId","join","catTypeId","dishesCategoryTypeId","appliedConsumeTypeIds","consumeTypeIds","appliedFreeInConsumeTypeIds","freeInConsumeTypeIds","JSON","stringify","categorySort","required","Option","selectItems","getList","multiple","color","Color","printOrder","requiredEdit","rule","v","test","parentId","itemText","AttributeGroup","forceGetList","isMultiChosen","Boolean","printMod","priceMod","Float","overwriteRule","CategoryType","isAsDefault","hillo","GlobalSettings","_Category","_PrinterGroup","_Allergen","isShowOnTable","code","image","Image","root","getEndPoint","dishImageRoot","dishName","price","printGroupId","categoryId","AllergenId","merge","disabledItem","editedItem","inheritAttributeGroupId","disabled","includes","localAttributeGroupId","inNew","inEdit","dishWeight","isActive","dishAlias","printText","attributeGroup","allergenGroup","params","file","imageExt","split","map","dishId","flat","desc","description","DishModel","getBuffet","StringEntity","colorList","console","log","response","randomColor","list","IKUtils","Math","round","random","toast","removeAllColor","removeCategoryImage","dcImage","store","getters","rootUrl","dcImageRoot","width","ParentCategoty","calculatePriceWithDiscount","calculateDiscountPrice","calculateDiscountMod","StandardDishesListFactory","getDishesInfo","getDishes","_Dish","_innerkenJsUtils","defaultDish","note","modShow","forceFormat","formatApplyInfo","dish","_dish$apply","_dish$agName","displayApply","agName","mod","modInfo","find","groupId","selectId","reduce","arr","index","selectValue","indexOf","concat","selectName","priceInfo","hash","agNameArr","aNameArr","priceInfoArr","agIdArr","aIdArr","aName","agId","aId","ag","getAddPrice","ap","_ap$priceInfo","parseFloat","buildApplyString","applyArr","dishIdentity","tempDiscountStr","currentName","overrideConsumeTypeId","processApplyInfo","_dish$note","_ref","_dish$originPrice","_dish$tempDiscountMod","_dish$price","_dish$currentName","_dish$overrideConsume","addPrice","originPrice","realPrice","tempDiscountMod","identity","discountStr","timesMod","minusMod","discountPattern","finish","endsWith","slice","dishDictionary","orderDictionary","counter","addDishToList","count","newDish","deepCopy","sumCount","change","changeNumber","setDishList","dishList","assign","preProcessDishNoCopy","rawDish","preProcessDish","_ref2","_dish$count","_ref3","_ref4","_dish$name","copy","parseInt","toLowerCase","wellFormat","getDishList","k","dicDish","listDish","splice","formatList","total","t","d","loadTTDishList","ttDishList","loadList","_list","clear","_k","DCT","Category","Dishes","ParsedDCTInfo","rearrangeDish","categories","dishes","dct","c","_dct","sort","a","b","Manger","_getDishesInfo","consumeTypeId","all","_getDishes","isSingleLinePrint","isSingleOrderPrint","upsideDown","printerCount","defaultRetryCount","totalDishesCount","printTitle","multiSelect","attrubuteCount","i18n","PrinterGroup","extraPrintGroupIds","Allergen","multipleAdd","onlyActive","render","_vm","_h","$createElement","_c","_self","attrs","ref","dates","on","$event","scopedSlots","_u","_g","_b","$t","model","callback","$$v","expression","datePickerDialog","_v","$refs","dialog","save","hourStart","timeStartPickerDialog","timeDialog","hourEnd","timeEndPickerDialog","timeEndDialog","realAttributes","selectAttributes","fixedHideAttributes","clearFixedHideAttribute","hideAttributes","allFixedDishesData","selectFixedDishes","fixedHideDishes","clearFixedHideDishes","allDishData","selectDishes","hideDishes","tableData","showSalesTable","_s","staticClass","print","computeClass","headers","staticRenderFns","component","VBtn","VCard","VCardText","VCol","VContainer","VDataTable","VDatePicker","VDialog","VIcon","VRow","VSelect","VSpacer","VTextField","VTimePicker","VToolbar","VToolbarTitle","formatDate","num","now","Date","nowTime","getTime","oneDayTime","ShowTime","myDate","y","getFullYear","m","getMonth","getDate"],"mappings":"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","file":"js/chunk-4907cf4a.e29a5082.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _metaflowJs = require(\"metaflow-js\");\n\nvar _hillo = _interopRequireDefault(require(\"hillo\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar entity = {\n  id: {\n    type: _metaflowJs.IKDataEntity.Types.Integer,\n    displayName: 'id',\n    tableConfig: {\n      align: 'start'\n    },\n    form: false\n  },\n  name: {\n    displayName: 'allergName'\n  },\n  icon: {\n    displayName: 'icon'\n  },\n  shortName: {\n    displayName: 'shortName'\n  },\n  displayText: {\n    displayName: 'displayText'\n  }\n};\nvar config = {\n  add: function add(item) {\n    return _hillo.default.postWithUploadFile('Dishes.php?op=addAllergen', item, {\n      showLoading: true\n    });\n  },\n  edit: function edit(item) {\n    return _hillo.default.postWithUploadFile('Dishes.php?op=updateAllergen', item, {\n      showLoading: true\n    });\n  },\n  remove: function remove(id) {\n    return _hillo.default.post('Dishes.php?op=deleteAllergen', {\n      id: id\n    });\n  },\n  load: function () {\n    var _load = _asyncToGenerator(function* (filter) {\n      return (yield _hillo.default.get('Dishes.php', _objectSpread({\n        op: 'showAllAllergen'\n      }, filter))).content;\n    });\n\n    function load(_x) {\n      return _load.apply(this, arguments);\n    }\n\n    return load;\n  }()\n};\n\nvar _default = _metaflowJs.IKDataEntity.ModelFactory(entity, config);\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _GlobalSettings = _interopRequireDefault(require(\"./GlobalSettings\"));\n\nvar _metaflowJs = require(\"metaflow-js\");\n\nvar _hillo = _interopRequireDefault(require(\"hillo\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar entity = {\n  id: {\n    type: _metaflowJs.IKDataEntity.Types.Integer,\n    displayName: 'id',\n    tableConfig: {\n      align: 'start'\n    },\n    formConfig: {\n      requiredNew: false\n    }\n  },\n  name: {},\n  lang: {}\n};\nvar config = {\n  load: function () {\n    var _load = _asyncToGenerator(function* (filter) {\n      return (yield _hillo.default.get('CategoryType.php', _objectSpread({\n        lang: _GlobalSettings.default.getLang()\n      }, filter))).content;\n    });\n\n    function load(_x) {\n      return _load.apply(this, arguments);\n    }\n\n    return load;\n  }()\n};\n\nvar _default = _metaflowJs.IKDataEntity.ModelFactory(entity, config);\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _metaflowJs = require(\"metaflow-js\");\n\nvar _hillo = _interopRequireDefault(require(\"hillo\"));\n\nvar _StringEntity = _interopRequireDefault(require(\"./StringEntity\"));\n\nvar _GlobalSettings = _interopRequireDefault(require(\"./GlobalSettings\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar config = {\n  load: function () {\n    var _load = _asyncToGenerator(function* (filter) {\n      return (yield _hillo.default.get('Category.php', _objectSpread({}, filter))).content;\n    });\n\n    function load(_x) {\n      return _load.apply(this, arguments);\n    }\n\n    return load;\n  }()\n};\nvar entity = {\n  id: {\n    type: _metaflowJs.IKDataEntity.Types.Integer,\n    displayName: 'id',\n    tableConfig: {\n      align: 'start'\n    },\n    formConfig: {\n      requiredNew: false\n    }\n  },\n  _langsname: {\n    displayName: 'labelName',\n    form: false\n  },\n  langs: {\n    displayName: 'labelName',\n    type: _metaflowJs.IKDataEntity.Types.Group,\n    formConfig: {\n      groupName: 'labelName',\n      default: _GlobalSettings.default.supportLang,\n      childLabelKey: 'lang',\n      type: {}\n    },\n    tableConfig: {\n      displayCondition: item => {\n        return item.lang.toUpperCase() === _GlobalSettings.default.getLang();\n      },\n      displayChild: key => {\n        return key === 'name';\n      }\n    },\n    childKey: ['name', 'desc'],\n    labelKey: 'lang',\n    children: [_StringEntity.default, _StringEntity.default, _StringEntity.default],\n    header: false\n  }\n};\n\nvar _default = _metaflowJs.IKDataEntity.ModelFactory(entity, config);\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _metaflowJs = require(\"metaflow-js\");\n\nvar _hillo = _interopRequireDefault(require(\"hillo\"));\n\nvar _CategoryType = _interopRequireDefault(require(\"./CategoryType\"));\n\nvar _AttributeGroup = _interopRequireDefault(require(\"./AttributeGroup\"));\n\nvar _StringEntity = _interopRequireDefault(require(\"./StringEntity\"));\n\nvar _GlobalSettings = _interopRequireDefault(require(\"./GlobalSettings\"));\n\nvar _ConsumeType = _interopRequireDefault(require(\"./ConsumeType\"));\n\nvar _ParentCategoty = _interopRequireDefault(require(\"./ParentCategoty\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar config = {\n  add: function add(item) {\n    item.appliedAttributeGroup = item.attributeGroupId.join(',');\n    item.catTypeId = item.dishesCategoryTypeId;\n    item.appliedConsumeTypeIds = item.consumeTypeIds.join(',');\n    item.appliedFreeInConsumeTypeIds = item.freeInConsumeTypeIds.join(',');\n    return _hillo.default.post('Category.php?op=add', _objectSpread(_objectSpread({}, item), {}, {\n      langs: JSON.stringify(item.langs)\n    }), {\n      showLoading: true\n    });\n  },\n  edit: function edit(item) {\n    item.appliedAttributeGroup = item.attributeGroupId.join(',');\n    item.catTypeId = item.dishesCategoryTypeId;\n    item.appliedConsumeTypeIds = item.consumeTypeIds.join(',');\n    item.appliedFreeInConsumeTypeIds = item.freeInConsumeTypeIds.join(',');\n    return _hillo.default.postWithUploadFile('Category.php?op=update', _objectSpread(_objectSpread({}, item), {}, {\n      langs: JSON.stringify(item.langs)\n    }), {\n      showLoading: true\n    });\n  },\n  remove: function remove(id) {\n    return _hillo.default.post('Category.php?op=delete', {\n      id: id\n    });\n  },\n  load: function () {\n    var _load = _asyncToGenerator(function* (filter) {\n      return (yield _hillo.default.get('Category.php', _objectSpread({}, filter))).content;\n    });\n\n    function load(_x) {\n      return _load.apply(this, arguments);\n    }\n\n    return load;\n  }()\n};\nvar entity = {\n  id: {\n    type: _metaflowJs.IKDataEntity.Types.Integer,\n    displayName: 'id',\n    tableConfig: {\n      align: 'start'\n    },\n    formConfig: {\n      requiredNew: false\n    }\n  },\n  categorySort: {\n    type: _metaflowJs.IKDataEntity.Types.Integer,\n    displayName: 'sectionSort',\n    formConfig: {\n      default: 50,\n      required: false\n    }\n  },\n  _langsname: {\n    displayName: 'labelName',\n    form: false\n  },\n  langs: {\n    displayName: 'labelName',\n    type: _metaflowJs.IKDataEntity.Types.Group,\n    formConfig: {\n      groupName: 'labelName',\n      default: _GlobalSettings.default.supportLang,\n      childLabelKey: 'lang',\n      type: {}\n    },\n    tableConfig: {\n      displayCondition: item => {\n        return item.lang.toUpperCase() === _GlobalSettings.default.getLang();\n      },\n      displayChild: key => {\n        return key === 'name';\n      }\n    },\n    childKey: ['name', 'desc'],\n    labelKey: 'lang',\n    children: [_StringEntity.default, _StringEntity.default, _StringEntity.default],\n    header: false\n  },\n  dishesCategoryTypeId: {\n    displayName: 'labelType',\n    type: _metaflowJs.IKDataEntity.Types.Option,\n    formConfig: {\n      type: {\n        selectItems: _CategoryType.default.getList\n      }\n    }\n  },\n  attributeGroupId: {\n    displayName: 'attributeGroupNames',\n    type: _metaflowJs.IKDataEntity.Types.Option,\n    formConfig: {\n      required: false,\n      type: {\n        selectItems: _AttributeGroup.default.getList,\n        multiple: true\n      }\n    }\n  },\n  consumeTypeIds: {\n    type: _metaflowJs.IKDataEntity.Types.Option,\n    formConfig: {\n      required: false,\n      type: {\n        selectItems: _ConsumeType.default.getList,\n        multiple: true\n      }\n    }\n  },\n  freeInConsumeTypeIds: {\n    type: _metaflowJs.IKDataEntity.Types.Option,\n    formConfig: {\n      required: false,\n      type: {\n        selectItems: _ConsumeType.default.getList,\n        multiple: true\n      }\n    }\n  },\n  color: {\n    type: _metaflowJs.IKDataEntity.Types.Color,\n    formConfig: {\n      required: false\n    }\n  },\n  printOrder: {\n    type: _metaflowJs.IKDataEntity.Types.Integer,\n    required: false,\n    formConfig: {\n      default: 50,\n      requiredNew: false,\n      requiredEdit: false,\n      rule: [// ^-[1-9]\\d*$\n      v => /^[0-9]\\d*$/.test(v) || 'Bitte geben Sie die ganze Zahl ein']\n    }\n  },\n  parentId: {\n    type: _metaflowJs.IKDataEntity.Types.Option,\n    formConfig: {\n      required: false,\n      type: {\n        selectItems: _ParentCategoty.default.getList,\n        itemText: '_langsname'\n      }\n    }\n  }\n};\n\nvar _default = _metaflowJs.IKDataEntity.ModelFactory(entity, config);\n\nexports.default = _default;","import GlobalSettings from '@/GlobalSettings'\nimport { IKDataEntity } from 'metaflow-js'\nimport hillo from 'hillo'\nimport AttributeGroup from './AttributeGroup'\nimport CategoryType from './CategoryType'\n\nconst entity = {\n  id: {\n    type: IKDataEntity.Types.Integer,\n    displayName: 'id',\n    tableConfig: {\n      align: 'start',\n    },\n    form: false,\n  },\n  name: {\n    displayName: 'name',\n  },\n  attributeGroupId: {\n    displayName: 'groupName',\n    type: IKDataEntity.Types.Option,\n    formConfig: {\n      type: {\n        selectItems: AttributeGroup.forceGetList,\n      },\n    },\n  },\n  isMultiChosen: {\n    type: IKDataEntity.Types.Boolean,\n  },\n  value: {\n    displayName: 'value',\n  },\n  printMod: {\n    displayName: 'printMod',\n  },\n  priceMod: {\n    type: IKDataEntity.Types.Float,\n    displayName: 'priceMod',\n    formConfig: {\n      overwriteRule: true,\n      rule: [\n        v => /^(-)?[0-9]+\\.{0,1}[0-9]{0,2}$/.test(v) || 'please enter the correct price',\n      ],\n    },\n  },\n  dishesCategoryTypeId: {\n    displayName: 'labelType',\n    type: IKDataEntity.Types.Option,\n    formConfig: {\n      type: {\n        selectItems: CategoryType.getList,\n      },\n    },\n  },\n  isAsDefault: {\n    type: IKDataEntity.Types.Boolean,\n  },\n}\nconst config = {\n  add: function (item) {\n    return hillo.postWithUploadFile('Category.php?op=addAttribute', item, {\n      showLoading: true,\n    })\n  },\n  edit: function (item) {\n    return hillo.postWithUploadFile('Category.php?op=updateAttribute', item, {\n      showLoading: true,\n    })\n  },\n  remove: function (id) {\n    return hillo.post('Category.php?op=deleteAttribute', { id: id })\n  },\n  load: async function (filter) {\n    return (await hillo.get('Category.php', {\n      op: 'showAttribute',\n      lang: GlobalSettings.getLang(),\n      ...filter,\n    }))\n      .content\n  },\n}\n\nexport default IKDataEntity.ModelFactory(entity, config)\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _metaflowJs = require(\"metaflow-js\");\n\nvar _hillo = _interopRequireDefault(require(\"hillo\"));\n\nvar _GlobalSettings = _interopRequireDefault(require(\"./GlobalSettings\"));\n\nvar _Category = _interopRequireDefault(require(\"./Category\"));\n\nvar _PrinterGroup = _interopRequireDefault(require(\"./PrinterGroup\"));\n\nvar _Allergen = _interopRequireDefault(require(\"./Allergen\"));\n\nvar _StringEntity = _interopRequireDefault(require(\"./StringEntity\"));\n\nvar _AttributeGroup = _interopRequireDefault(require(\"./AttributeGroup\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar i = Boolean(_GlobalSettings.default.isShowOnTable === '0');\nvar entity = {\n  id: {\n    type: _metaflowJs.IKDataEntity.Types.Integer,\n    displayName: 'id',\n    tableConfig: {\n      align: 'start'\n    },\n    form: false\n  },\n  code: {},\n  image: {\n    type: _metaflowJs.IKDataEntity.Types.Image,\n    formConfig: {\n      type: {\n        root: () => _GlobalSettings.default.getEndPoint() + _GlobalSettings.default.dishImageRoot\n      },\n      required: false\n    },\n    displayName: 'image',\n    header: i\n  },\n  dishName: {\n    displayName: 'name',\n    form: false\n  },\n  price: {\n    type: _metaflowJs.IKDataEntity.Types.Float,\n    formConfig: {\n      default: '',\n      overwriteRule: true,\n      rule: [v => /^[0-9]+\\.{0,1}[0-9]{0,2}$/.test(v) || 'Bitte geben Sie den richtigen Preis ein']\n    }\n  },\n  langs: {\n    displayName: 'name',\n    type: _metaflowJs.IKDataEntity.Types.Group,\n    formConfig: {\n      groupName: 'name',\n      default: _GlobalSettings.default.supportLang,\n      childLabelKey: 'lang',\n      type: {}\n    },\n    tableConfig: {\n      displayCondition: item => {\n        return item.lang.toUpperCase() === _GlobalSettings.default.getLang();\n      },\n      displayChild: key => {\n        return key === 'name';\n      }\n    },\n    childKey: ['name', 'desc'],\n    labelKey: 'lang',\n    children: [_StringEntity.default, _StringEntity.default, _StringEntity.default],\n    header: false\n  },\n  printGroupId: {\n    displayName: 'printCatName',\n    type: _metaflowJs.IKDataEntity.Types.Option,\n    formConfig: {\n      default: 1,\n      type: {\n        selectItems: _PrinterGroup.default.getList\n      }\n    }\n  },\n  categoryId: {\n    displayName: 'labelName',\n    type: _metaflowJs.IKDataEntity.Types.Option,\n    formConfig: {\n      type: {\n        selectItems: _Category.default.getList,\n        itemText: '_langsname'\n      }\n    }\n  },\n  AllergenId: {\n    type: _metaflowJs.IKDataEntity.Types.Option,\n    formConfig: {\n      type: {\n        selectItems: _Allergen.default.getList,\n        multiple: true\n      },\n      required: false\n    },\n    displayName: '过敏源'\n  },\n  attributeGroupId: {\n    displayName: 'attributeGroupNames',\n    type: _metaflowJs.IKDataEntity.Types.Option,\n    formConfig: {\n      merge: false,\n      required: false,\n      type: {\n        selectItems: _AttributeGroup.default.getList,\n        multiple: true,\n        disabledItem: (item, editedItem) => {\n          if (editedItem.inheritAttributeGroupId) {\n            return _objectSpread(_objectSpread({}, item), {}, {\n              disabled: editedItem.inheritAttributeGroupId.includes(item.id)\n            });\n          } else {\n            return item;\n          }\n        }\n      }\n    }\n  },\n  localAttributeGroupId: {\n    type: _metaflowJs.IKDataEntity.Types.Option,\n    formConfig: {\n      type: {\n        selectItems: _AttributeGroup.default.getList,\n        multiple: true\n      },\n      inNew: false,\n      inEdit: false\n    },\n    header: false\n  },\n  inheritAttributeGroupId: {\n    displayName: 'AttributeGroupName',\n    type: _metaflowJs.IKDataEntity.Types.Option,\n    formConfig: {\n      type: {\n        selectItems: _AttributeGroup.default.getList,\n        multiple: true\n      },\n      inNew: false,\n      inEdit: false\n    },\n    header: false\n  },\n  dishWeight: {\n    displayName: 'DishWeight',\n    type: _metaflowJs.IKDataEntity.Types.Integer,\n    formConfig: {\n      default: 1,\n      required: false,\n      rule: [// ^-[1-9]\\d*$\n      v => /^[0-9]\\d*$/.test(v) || 'Bitte geben Sie die ganze Zahl ein']\n    }\n  },\n  isActive: {\n    type: _metaflowJs.IKDataEntity.Types.Boolean,\n    displayName: 'isActive',\n    formConfig: {\n      default: 1,\n      required: false\n    }\n  },\n  dishAlias: {\n    required: false,\n    formConfig: {\n      requiredNew: false,\n      requiredEdit: false\n    }\n  },\n  printText: {\n    displayName: 'printTitle',\n    required: false,\n    formConfig: {\n      requiredNew: false,\n      requiredEdit: false\n    }\n  }\n};\nvar config = {\n  add: function add(item) {\n    item.attributeGroup = item.attributeGroupId.filter(i => !item.inheritAttributeGroupId.includes(i)).join(',');\n    item.allergenGroup = item.AllergenId.join(',');\n    return _hillo.default.postWithUploadFile('Dishes.php?op=add', _objectSpread(_objectSpread({}, item), {}, {\n      params: JSON.stringify(item)\n    }), {\n      showLoading: true\n    });\n  },\n  edit: function edit(item) {\n    item.attributeGroup = item.attributeGroupId.filter(i => !item.inheritAttributeGroupId.includes(i)).join(',');\n    item.allergenGroup = item.AllergenId.join(',');\n\n    if (item.file) {\n      item.imageExt = item.file.name.split('.')[1];\n    }\n\n    return _hillo.default.postWithUploadFile('Dishes.php?op=update', _objectSpread(_objectSpread({}, item), {}, {\n      params: JSON.stringify(item)\n    }), {\n      showLoading: true\n    });\n  },\n  remove: function remove(id) {\n    return _hillo.default.post('Dishes.php?op=delete', {\n      id: id\n    });\n  },\n  load: function () {\n    var _load = _asyncToGenerator(function* (filter) {\n      return (yield _hillo.default.get('Dishes.php', _objectSpread({\n        lang: _GlobalSettings.default.getLang()\n      }, filter))).content.map(function (item) {\n        item.id = item.dishId;\n        item.attributeGroupId = [item.inheritAttributeGroupId ? item.inheritAttributeGroupId.split(',') : [], item.localAttributeGroupId ? item.localAttributeGroupId.split(',') : []].flat().join(',');\n        item.langs = item.langs.map(i => {\n          return _objectSpread(_objectSpread({}, i), {}, {\n            desc: i.description\n          });\n        });\n        return item;\n      });\n    });\n\n    function load(_x) {\n      return _load.apply(this, arguments);\n    }\n\n    return load;\n  }()\n};\n\nvar DishModel = _metaflowJs.IKDataEntity.ModelFactory(entity, config);\n\nDishModel.getBuffet = /*#__PURE__*/_asyncToGenerator(function* () {\n  return (yield DishModel.getList()).filter(i => i.dishesCategoryTypeId === '8');\n});\nvar _default = DishModel;\nexports.default = _default;","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SalesInsight.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SalesInsight.vue?vue&type=style&index=0&lang=css&\"","import { IKDataEntity } from 'metaflow-js'\nimport hillo from 'hillo'\nimport StringEntity from './StringEntity'\nimport GlobalSettings from '@/GlobalSettings'\n\nconst config = {\n  load: async function (filter) {\n    return (await hillo.get('Category.php', {\n      ...filter,\n    })).content\n  },\n}\n\nconst entity = {\n  id: {\n    type: IKDataEntity.Types.Integer,\n    displayName: 'id',\n    tableConfig: {\n      align: 'start',\n    },\n    formConfig: {\n      requiredNew: false,\n    },\n  },\n  _langsname: {\n    displayName: 'labelName',\n    form: false,\n  },\n  langs: {\n    displayName: 'labelName',\n    type: IKDataEntity.Types.Group,\n    formConfig: {\n      groupName: 'labelName',\n      default: GlobalSettings.supportLang,\n      childLabelKey: 'lang',\n      type: {},\n    },\n    tableConfig: {\n      displayCondition: (item) => {\n        return item.lang.toUpperCase() === GlobalSettings.getLang()\n      },\n      displayChild: (key) => {\n        return key === 'name'\n      },\n    },\n    childKey: ['name', 'desc'],\n    labelKey: 'lang',\n    children: [\n      StringEntity, StringEntity, StringEntity,\n    ],\n    header: false,\n  },\n}\n\nexport default IKDataEntity.ModelFactory(entity, config)\n","import { IKDataEntity } from 'metaflow-js'\nimport hillo from 'hillo'\nimport CategoryType from './CategoryType'\nimport AttributeGroup from './AttributeGroup'\nimport StringEntity from './StringEntity'\nimport GlobalSettings from '@/GlobalSettings'\nimport ParentCategoty from './ParentCategoty'\nimport IKUtils from 'innerken-js-utils'\nimport store from '../store'\n\nconst i = Boolean(GlobalSettings.isShowOnTable === '0')\n\nconst colorList = ['#FFCDD2', '#F8BBD0', '#E1BEE7',\n                    '#D1C4E9', '#C5CAE9', '#BBDEFB',\n                    '#B3E5FC', '#B2EBF2', '#B2DFDB',\n                    '#C8E6C9', '#DCEDC8', '#F0F4C3',\n                    '#FFF9C4', '#FFECB3', '#FFE0B2',\n                    '#FFCCBC', '#D7CCC8', '#CFD8DC']\n\nconst config = {\n\n  add: function (item) {\n    item.appliedAttributeGroup = item.attributeGroupId.join(',')\n    item.catTypeId = item.dishesCategoryTypeId\n    return hillo.post('Category.php?op=add', {\n      ...item,\n      langs: JSON.stringify(item.langs),\n    }, {\n      showLoading: true,\n    })\n  },\n  edit: function (item) {\n    item.appliedAttributeGroup = item.attributeGroupId.join(',')\n    item.catTypeId = item.dishesCategoryTypeId\n\n    console.log('label-manage: item()', item)\n    return hillo.postWithUploadFile('Category.php?op=update', {\n      ...item,\n      langs: JSON.stringify(item.langs),\n    }, {\n      showLoading: true,\n    })\n  },\n  remove: function (id) {\n    return hillo.post('Category.php?op=delete', { id: id })\n  },\n  load: async function (filter) {\n    const response = (await hillo.get('Category.php', filter)).content\n    console.log(response, 'cate response')\n    return response\n  },\n  randomColor: async function (list) {\n    IKUtils.showLoading(true)\n    for (const item of list) {\n      item.appliedAttributeGroup = item.attributeGroupId.join(',')\n      item.catTypeId = item.dishesCategoryTypeId\n\n      item.color = colorList[Math.round(Math.random() * 18)]\n\n      await hillo.postWithUploadFile('Category.php?op=update', {\n        ...item,\n        langs: JSON.stringify(item.langs),\n      }, {\n        showLoading: false,\n      })\n    }\n    IKUtils.toast('OK')\n  },\n\n  removeAllColor: async function (list) {\n    IKUtils.showLoading(true)\n    for (const item of list) {\n      item.appliedAttributeGroup = item.attributeGroupId.join(',')\n      item.catTypeId = item.dishesCategoryTypeId\n\n      item.color = '#FFFFFF'\n      hillo.postWithUploadFile('Category.php?op=update', {\n        ...item,\n        langs: JSON.stringify(item.langs),\n      }, {\n        showLoading: false,\n      })\n    }\n    IKUtils.toast('OK')\n  },\n\n  removeCategoryImage: async function (categoryId) {\n    await hillo.post('Category.php?op=removeCategoryImage', {\n      ...categoryId,\n    }, {\n        showLoading: true,\n    })\n  },\n\n}\n\nconst entity = {\n  id: {\n    type: IKDataEntity.Types.Integer,\n    displayName: 'id',\n    tableConfig: {\n      align: 'start',\n    },\n    formConfig: {\n      requiredNew: false,\n    },\n  },\n  _langsname: {\n    displayName: 'labelName',\n    form: false,\n  },\n  dcImage: {\n    type: IKDataEntity.Types.Image,\n    formConfig: {\n      required: false,\n      type: {\n        root: () => store.getters.rootUrl + GlobalSettings.dcImageRoot,\n      },\n    },\n    displayName: 'Label Image',\n    header: i,\n  },\n  langs: {\n    displayName: 'labelName',\n    type: IKDataEntity.Types.Group,\n    formConfig: {\n      groupName: 'labelName',\n      default: GlobalSettings.supportLang,\n      childLabelKey: 'lang',\n      type: {},\n    },\n    tableConfig: {\n      displayCondition: (item) => {\n        return item.lang.toUpperCase() === GlobalSettings.getLang().toUpperCase()\n      },\n      displayChild: (key) => {\n        console.log(key)\n        return key === 'name'\n      },\n    },\n    childKey: ['name', 'desc'],\n    labelKey: 'lang',\n    children: [\n      StringEntity, StringEntity, StringEntity,\n    ],\n    header: false,\n  },\n  dishesCategoryTypeId: {\n    displayName: 'labelType',\n    type: IKDataEntity.Types.Option,\n    formConfig: {\n      type: {\n        selectItems: CategoryType.getList,\n      },\n    },\n  },\n  attributeGroupId: {\n    displayName: 'attributeGroupNames',\n    type: IKDataEntity.Types.Option,\n    tableConfig: {\n      width: '100px',\n    },\n    formConfig: {\n      required: false,\n      type: {\n        selectItems: AttributeGroup.getList,\n        multiple: true,\n      },\n    },\n  },\n  // color: {\n  //   type: IKDataEntity.Types.Color,\n  //   formConfig: {\n  //     required: false,\n  //   },\n  // },\n  printOrder: {\n    type: IKDataEntity.Types.Integer,\n    required: false,\n    formConfig: {\n      default: 50,\n      requiredNew: false,\n      requiredEdit: false,\n      rule: [ // ^-[1-9]\\d*$\n        v => /^[0-9]\\d*$/.test(v) || 'Bitte geben Sie die ganze Zahl ein',\n      ],\n    },\n  },\n  parentId: {\n    type: IKDataEntity.Types.Option,\n    formConfig: {\n      required: false,\n      type: {\n        selectItems: ParentCategoty.getList,\n        itemText: '_langsname',\n      },\n    },\n    header: false,\n  },\n}\n\nexport default IKDataEntity.ModelFactory(entity, config)\n// export const Category = IKDataEntity.ModelFactory(entity, config)\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.calculatePriceWithDiscount = calculatePriceWithDiscount;\nexports.calculateDiscountPrice = calculateDiscountPrice;\nexports.calculateDiscountMod = calculateDiscountMod;\nexports.StandardDishesListFactory = StandardDishesListFactory;\nexports.getDishesInfo = getDishesInfo;\nexports.getDishes = getDishes;\n\nvar _Dish = _interopRequireDefault(require(\"./Dish\"));\n\nvar _CategoryType = _interopRequireDefault(require(\"./CategoryType\"));\n\nvar _Category = _interopRequireDefault(require(\"./Category\"));\n\nvar _innerkenJsUtils = _interopRequireDefault(require(\"innerken-js-utils\"));\n\nvar _hillo = _interopRequireDefault(require(\"hillo\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar defaultDish = {\n  // basicInfo*/\n  note: '',\n  apply: [],\n  modShow: false,\n  forceFormat: false\n};\n\nfunction formatApplyInfo(dish) {\n  var _dish$apply, _dish$agName;\n\n  var displayApply = [];\n\n  if (!(dish.apply || dish.agName)) {\n    return displayApply;\n  }\n\n  if ((dish === null || dish === void 0 ? void 0 : (_dish$apply = dish.apply) === null || _dish$apply === void 0 ? void 0 : _dish$apply.length) > 0) {\n    dish.apply.forEach(mod => {\n      var modInfo = dish.modInfo.find(i => i.id === mod.groupId);\n      var groupName = modInfo.name;\n      var item = [mod.selectId].flat().reduce((arr, id) => {\n        if (!id) {\n          return arr;\n        }\n\n        var index = modInfo.selectValue.indexOf(id);\n        var value = \"\".concat(modInfo.selectName[index]);\n        var priceInfo = modInfo.priceInfo[index];\n        arr.push({\n          groupName,\n          value,\n          priceInfo,\n          hash: groupName + ':' + value + 'p' + priceInfo\n        });\n        return arr;\n      }, []);\n      displayApply = displayApply.concat(item);\n    });\n  } else if ((dish === null || dish === void 0 ? void 0 : (_dish$agName = dish.agName) === null || _dish$agName === void 0 ? void 0 : _dish$agName.length) > 0) {\n    [dish.agNameArr, dish.aNameArr, dish.priceInfoArr, dish.agIdArr, dish.aIdArr] = [dish.agName, dish.aName, dish.priceInfo, dish.agId, dish.aId].map(i => i.split(','));\n    dish.agNameArr.forEach((ag, i) => {\n      displayApply.push({\n        agId: dish.agIdArr[i],\n        aId: dish.aIdArr[i],\n        groupName: ag,\n        value: dish.aNameArr[i],\n        priceInfo: dish.priceInfoArr[i],\n        hash: ag + ':' + dish.aNameArr[i] + 'p' + dish.priceInfoArr[i] + 'g' + dish.agIdArr[i]\n      });\n    });\n  }\n\n  return displayApply;\n}\n\nfunction getAddPrice(dish) {\n  var price = 0;\n  dish.displayApply.forEach(ap => {\n    var _ap$priceInfo;\n\n    price += parseFloat((_ap$priceInfo = ap.priceInfo) !== null && _ap$priceInfo !== void 0 ? _ap$priceInfo : 0);\n  });\n  return price;\n}\n\nfunction buildApplyString(applyArr) {\n  return applyArr.reduce((arr, i) => {\n    arr.push(i.hash);\n    return arr;\n  }, []).join('/');\n}\n\nfunction dishIdentity(code, apply, note, tempDiscountStr, price, currentName, overrideConsumeTypeId) {\n  return code + '&' + buildApplyString(apply) + '-&-' + note + '-&-' + tempDiscountStr + '-&-' + price + '-&' + currentName + '-&' + overrideConsumeTypeId;\n}\n\nfunction processApplyInfo(dish) {\n  var _dish$note, _ref, _dish$originPrice, _dish$tempDiscountMod, _dish$price, _dish$currentName, _dish$overrideConsume;\n\n  dish.note = (_dish$note = dish.note) !== null && _dish$note !== void 0 ? _dish$note : '';\n  dish.displayApply = formatApplyInfo(dish);\n  dish.addPrice = getAddPrice(dish);\n  dish.originPrice = parseFloat(parseFloat(dish.price) === 0 ? 0 : (_ref = (_dish$originPrice = dish.originPrice) !== null && _dish$originPrice !== void 0 ? _dish$originPrice : dish.price) !== null && _ref !== void 0 ? _ref : 0);\n  dish.realPrice = parseFloat(dish.originPrice) + parseFloat(dish.addPrice) + parseFloat((_dish$tempDiscountMod = dish.tempDiscountMod) !== null && _dish$tempDiscountMod !== void 0 ? _dish$tempDiscountMod : 0);\n\n  if (dish.code.includes('ea')) {\n    dish.realPrice = dish.price;\n  }\n\n  dish.identity = dishIdentity(dish.code, dish.displayApply, dish.note, dish.tempDiscountStr, (_dish$price = dish.price) !== null && _dish$price !== void 0 ? _dish$price : dish.realPrice, (_dish$currentName = dish.currentName) !== null && _dish$currentName !== void 0 ? _dish$currentName : '', (_dish$overrideConsume = dish.overrideConsumeTypeId) !== null && _dish$overrideConsume !== void 0 ? _dish$overrideConsume : '');\n}\n\nfunction calculatePriceWithDiscount(price, discountStr) {\n  var {\n    timesMod,\n    minusMod\n  } = calculateDiscountMod(discountStr);\n  return parseFloat(price) * timesMod - minusMod;\n}\n\nfunction calculateDiscountPrice(price, discountStr) {\n  var {\n    timesMod,\n    minusMod\n  } = calculateDiscountMod(discountStr);\n  return parseFloat(price) - (parseFloat(price) * timesMod - minusMod);\n}\n\nfunction calculateDiscountMod(discountStr) {\n  var timesMod = 1;\n  var minusMod = 0;\n  var discountPattern = /^([0-9]+(\\.[0-9]+)?)?((p)+([kg])?)?$/;\n\n  var finish = () => {\n    return {\n      minusMod,\n      timesMod\n    };\n  };\n\n  if (!discountPattern.test(discountStr)) {\n    return finish();\n  }\n\n  if (discountStr.endsWith('p')) {\n    timesMod = 1 - parseFloat(discountStr.slice(0, -1)) * 0.01;\n  } else {\n    minusMod = parseFloat(discountStr);\n  }\n\n  return finish();\n}\n\nfunction StandardDishesListFactory() {\n  var list = [];\n  var dishDictionary = {}; // code as key\n\n  var orderDictionary = {}; // identity as key\n\n  var counter = 0;\n\n  var addDishToList = function addDishToList(dish, count) {\n    var newDish = _innerkenJsUtils.default.deepCopy(dish);\n\n    newDish.count = count !== null && count !== void 0 ? count : dish.count;\n    newDish.sumCount = newDish.count; // TODO: 兼容性同步，将移除\n\n    newDish.hash = counter;\n    processApplyInfo(newDish);\n    counter++;\n    orderDictionary[newDish.identity] = newDish;\n\n    newDish.change = function (count) {\n      changeNumber(newDish, count);\n    };\n\n    list.push(newDish);\n  };\n\n  function setDishList() {\n    var dishList = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    if ((dishList === null || dishList === void 0 ? void 0 : dishList.length) > 0) {\n      Object.assign(dishDictionary, dishList.reduce((obj, i) => {\n        obj[i.code] = i;\n        return obj;\n      }, {}));\n    }\n  }\n\n  function preProcessDishNoCopy(rawDish) {\n    return preProcessDish(rawDish, false);\n  }\n\n  function preProcessDish(rawDish) {\n    var _ref2, _dish$count, _ref3, _ref4, _dish$name;\n\n    var copy = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var dish = copy ? _innerkenJsUtils.default.deepCopy(rawDish) : rawDish;\n    dish.count = parseInt((_ref2 = (_dish$count = dish.count) !== null && _dish$count !== void 0 ? _dish$count : dish.sumCount) !== null && _ref2 !== void 0 ? _ref2 : 0);\n    dish.name = (_ref3 = (_ref4 = (_dish$name = dish.name) !== null && _dish$name !== void 0 ? _dish$name : dish.dishName) !== null && _ref4 !== void 0 ? _ref4 : dish._langsname) !== null && _ref3 !== void 0 ? _ref3 : dish.currentName;\n\n    if (dish.code.toLowerCase().includes('ea')) {\n      dish.name = dish.currentName;\n    }\n\n    processApplyInfo(dish);\n    dish.wellFormat = true;\n    return Object.assign({}, defaultDish, dish);\n  }\n\n  function getDishList() {\n    return Object.keys(dishDictionary).reduce((arr, k) => {\n      arr.push(dishDictionary[k]);\n      return arr;\n    }, []);\n  }\n\n  var changeNumber = function changeNumber(dish, count) {\n    var dicDish = dishDictionary[dish.code];\n\n    if (dicDish) {\n      if (parseInt(dicDish.count) + parseInt(count) > 0) {\n        dicDish.count += count;\n      } else {\n        dicDish.count = 0;\n      }\n    }\n\n    if (!dish.wellFormat || dish.forceFormat) {\n      dish.forceFormat = false;\n      dish = preProcessDish(dish);\n    }\n\n    var listDish = orderDictionary[dish.identity];\n\n    if (listDish) {\n      // we found a dish in the list\n      if (listDish.count + count > 0) {\n        listDish.count += count;\n        listDish.sumCount = listDish.count;\n      } else {\n        list.splice(list.indexOf(listDish), 1);\n        delete orderDictionary[dish.identity];\n      }\n    } else {\n      // we found no dish in the list\n      if (count >= 0 || dish.count >= 0) {\n        addDishToList(dish, count);\n      }\n    }\n  };\n\n  var formatList = function formatList(list) {\n    return list.map(preProcessDishNoCopy);\n  };\n\n  var add = function add(dish, count) {\n    changeNumber(dish, count);\n  };\n\n  var remove = function remove(dish, count) {\n    changeNumber(dish, count);\n  };\n\n  var total = function total() {\n    return list.reduce((t, d) => {\n      return t + parseFloat(d.realPrice * d.count);\n    }, 0);\n  };\n\n  var count = function count() {\n    return parseInt(list.reduce((t, d) => {\n      return t + parseInt(d.count);\n    }, 0));\n  };\n\n  var loadTTDishList = function loadTTDishList(ttDishList) {\n    loadList(ttDishList);\n  };\n\n  var loadList = function loadList(_list) {\n    clear();\n\n    for (var d of _list) {\n      add(d);\n    }\n  };\n\n  var clear = function clear() {\n    for (var k of Object.keys(dishDictionary)) {\n      dishDictionary[k].count = 0;\n    }\n\n    for (var _k of Object.keys(orderDictionary)) {\n      delete orderDictionary[_k];\n    }\n\n    list.splice(0, list.length);\n  };\n\n  return {\n    orderDictionary,\n    setDishList,\n    dishDictionary,\n    list,\n    getDishList,\n    add,\n    remove,\n    total,\n    count,\n    loadTTDishList,\n    formatList,\n    loadList,\n    clear\n  };\n}\n/* Dishes Information */\n\n\nvar DCT = [];\nvar Category = [];\nvar Dishes = [];\nvar ParsedDCTInfo = [];\n\nfunction rearrangeDish(categories, dishes, dct) {\n  categories = categories.map(c => {\n    c.dishes = dishes.filter(d => parseInt(d.categoryId) === parseInt(c.id)).map(d => {\n      d.count = 0;\n      d.note = '';\n      return d;\n    });\n    return c;\n  }).filter(c => c.dishes.length > 0);\n  return dct.map(_dct => {\n    _dct.categories = categories.filter(c => parseInt(_dct.id) === parseInt(c.dishesCategoryTypeId));\n    return _dct;\n  }).sort((a, b) => {\n    if (parseInt(b.id) === 9) {\n      return -1;\n    }\n\n    if (parseInt(a.id) === 9) {\n      return 1;\n    }\n\n    if (parseInt(a.id) < parseInt(b.id)) {\n      return -1;\n    }\n\n    if (parseInt(a.id) > parseInt(b.id)) {\n      return 1;\n    }\n\n    return 0;\n  });\n}\n\nvar Manger = StandardDishesListFactory();\n\nfunction getDishesInfo() {\n  return _getDishesInfo.apply(this, arguments);\n}\n\nfunction _getDishesInfo() {\n  _getDishesInfo = _asyncToGenerator(function* () {\n    var consumeTypeId = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var lang = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'DE';\n\n    if (ParsedDCTInfo.length === 0) {\n      [Dishes, Category, DCT] = yield Promise.all([getDishes(), _Category.default.getList(), _CategoryType.default.getList()]);\n\n      if (consumeTypeId !== false) {\n        Category = (yield _hillo.default.get('Category.php?op=withConsumeType', {\n          lang,\n          consumeTypeId\n        })).content;\n      }\n\n      ParsedDCTInfo = rearrangeDish(Category, Dishes, DCT);\n    }\n\n    return ParsedDCTInfo;\n  });\n  return _getDishesInfo.apply(this, arguments);\n}\n\nfunction getDishes() {\n  return _getDishes.apply(this, arguments);\n}\n\nfunction _getDishes() {\n  _getDishes = _asyncToGenerator(function* () {\n    if (Dishes.length === 0) {\n      Dishes = Manger.formatList(yield _Dish.default.getList());\n    }\n\n    return Dishes;\n  });\n  return _getDishes.apply(this, arguments);\n}","import { IKDataEntity } from 'metaflow-js'\nimport hillo from 'hillo'\n\nconst entity = {\n  id: {\n    type: IKDataEntity.Types.Integer,\n    displayName: 'id',\n    tableConfig: {\n      align: 'start',\n    },\n    form: false,\n  },\n  name: {\n    displayName: 'sectionName',\n  },\n  isSingleLinePrint: {\n    type: IKDataEntity.Types.Boolean,\n    displayName: 'isSingleLinePrint',\n  },\n  isSingleOrderPrint: {\n    type: IKDataEntity.Types.Boolean,\n    displayName: 'isSingleOrderPrint',\n  },\n  upsideDown: {\n    type: IKDataEntity.Types.Boolean,\n  },\n  printerCount: {\n    displayName: 'printerCount',\n    formConfig: {\n      inEdit: false,\n      inNew: false,\n    },\n  },\n  defaultRetryCount: {\n    formConfig: {\n      default: '0',\n    },\n  },\n  totalDishesCount: {\n    formConfig: {\n      inEdit: false,\n      inNew: false,\n    },\n  },\n}\nconst config = {\n  load: async function (filter) {\n    return (await hillo.get('Printer.php', {\n      op: 'showPrinterGroups',\n      ...filter,\n    }))\n      .content\n  },\n  add: function (item) {\n    return hillo.postWithUploadFile('Printer.php?op=addPrinterGroups', item, {\n      showLoading: true,\n    })\n  },\n  edit: function (item) {\n    return hillo.postWithUploadFile('Printer.php?op=updatePrinterGroups', item, {\n      showLoading: true,\n    })\n  },\n  remove: function (id) {\n    return hillo.post('Printer.php?op=deletePrinterGroup', { id: id })\n  },\n}\n\nexport default IKDataEntity.ModelFactory(entity, config)\n","import { IKDataEntity } from 'metaflow-js'\nimport hillo from 'hillo'\n\nconst entity = {\n  id: {\n    type: IKDataEntity.Types.Integer,\n    displayName: 'id',\n    tableConfig: {\n      align: 'start',\n    },\n    form: false,\n  },\n  name: {\n    displayName: 'allergName',\n  },\n  icon: {\n    displayName: 'icon',\n  },\n  shortName: {\n    displayName: 'shortName',\n  },\n  displayText: {\n    displayName: 'displayText',\n  },\n}\nconst config = {\n  add: function (item) {\n    return hillo.postWithUploadFile('Dishes.php?op=addAllergen', item, {\n      showLoading: true,\n    })\n  },\n  edit: function (item) {\n    return hillo.postWithUploadFile('Dishes.php?op=updateAllergen', item, {\n      showLoading: true,\n    })\n  },\n  remove: function (id) {\n    return hillo.post('Dishes.php?op=deleteAllergen', { id: id })\n  },\n  load: async function (filter) {\n    return (await hillo.get('Dishes.php', {\n      op: 'showAllAllergen',\n      ...filter,\n    }))\n      .content\n  },\n}\n\nexport default IKDataEntity.ModelFactory(entity, config)\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _GlobalSettings = _interopRequireDefault(require(\"./GlobalSettings\"));\n\nvar _metaflowJs = require(\"metaflow-js\");\n\nvar _hillo = _interopRequireDefault(require(\"hillo\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar entity = {\n  id: {\n    type: _metaflowJs.IKDataEntity.Types.Integer,\n    displayName: 'id',\n    tableConfig: {\n      align: 'start'\n    },\n    form: false\n  },\n  name: {},\n  printTitle: {},\n  required: {\n    type: _metaflowJs.IKDataEntity.Types.Boolean\n  },\n  multiSelect: {\n    type: _metaflowJs.IKDataEntity.Types.Boolean\n  },\n  attrubuteCount: {\n    type: _metaflowJs.IKDataEntity.Types.Integer,\n    form: false\n  }\n};\nvar config = {\n  load: function () {\n    var _load = _asyncToGenerator(function* (filter) {\n      return (yield _hillo.default.get('Category.php', _objectSpread({\n        op: 'showAttributeGroup',\n        lang: _GlobalSettings.default.getLang()\n      }, filter))).content;\n    });\n\n    function load(_x) {\n      return _load.apply(this, arguments);\n    }\n\n    return load;\n  }(),\n  add: function add(item) {\n    return _hillo.default.postWithUploadFile('Category.php?op=addAttributeGroup', item, {\n      showLoading: true\n    });\n  },\n  edit: function edit(item) {\n    return _hillo.default.postWithUploadFile('Category.php?op=updateAttributeGroup', item, {\n      showLoading: true\n    });\n  },\n  remove: function remove(id) {\n    return _hillo.default.post('Category.php?op=deleteAttributeGroup', {\n      id: id\n    });\n  }\n};\n\nvar _default = _metaflowJs.IKDataEntity.ModelFactory(entity, config);\n\nexports.default = _default;","import { IKDataEntity } from 'metaflow-js'\n\nconst entity = {\n  id: {\n    type: IKDataEntity.Types.Integer,\n    displayName: 'id',\n    tableConfig: {\n      align: 'start',\n    },\n    formConfig: {\n      requiredNew: false,\n    },\n  },\n  name: {\n    displayName: 'Name',\n  },\n  lang: {},\n  desc: {\n    displayName: 'Beschreibung',\n    formConfig: {\n      required: false,\n    },\n  },\n}\nexport default IKDataEntity.ModelFactory(entity, {})\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _metaflowJs = require(\"metaflow-js\");\n\nvar _hillo = _interopRequireDefault(require(\"hillo\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar entity = {\n  id: {\n    type: _metaflowJs.IKDataEntity.Types.Integer,\n    displayName: 'id',\n    tableConfig: {\n      align: 'start'\n    },\n    form: false\n  },\n  name: {\n    displayName: 'sectionName'\n  },\n  isSingleLinePrint: {\n    type: _metaflowJs.IKDataEntity.Types.Boolean,\n    displayName: 'isSingleLinePrint'\n  },\n  isSingleOrderPrint: {\n    type: _metaflowJs.IKDataEntity.Types.Boolean,\n    displayName: 'isSingleOrderPrint'\n  },\n  printerCount: {\n    displayName: 'printerCount',\n    formConfig: {\n      inEdit: false,\n      inNew: false\n    }\n  },\n  defaultRetryCount: {\n    formConfig: {\n      default: '0'\n    }\n  },\n  totalDishesCount: {\n    formConfig: {\n      inEdit: false,\n      inNew: false\n    }\n  }\n};\nvar config = {\n  load: function () {\n    var _load = _asyncToGenerator(function* (filter) {\n      return (yield _hillo.default.get('Printer.php', _objectSpread({\n        op: 'showPrinterGroups'\n      }, filter))).content;\n    });\n\n    function load(_x) {\n      return _load.apply(this, arguments);\n    }\n\n    return load;\n  }(),\n  add: function add(item) {\n    return _hillo.default.postWithUploadFile('Printer.php?op=addPrinterGroups', item, {\n      showLoading: true\n    });\n  },\n  edit: function edit(item) {\n    return _hillo.default.postWithUploadFile('Printer.php?op=updatePrinterGroups', item, {\n      showLoading: true\n    });\n  },\n  remove: function remove(id) {\n    return _hillo.default.post('Printer.php?op=deletePrinterGroup', {\n      id: id\n    });\n  }\n};\n\nvar _default = _metaflowJs.IKDataEntity.ModelFactory(entity, config);\n\nexports.default = _default;","import GlobalSettings from '@/GlobalSettings'\n\nimport { IKDataEntity } from 'metaflow-js'\nimport hillo from 'hillo'\n\nconst entity = {\n  id: {\n    type: IKDataEntity.Types.Integer,\n    displayName: 'id',\n    tableConfig: {\n      align: 'start',\n    },\n    form: false,\n  },\n  name: {},\n  printTitle: {},\n  required: {\n    type: IKDataEntity.Types.Boolean,\n  },\n  multiSelect: {\n    type: IKDataEntity.Types.Boolean,\n  },\n  attrubuteCount: {\n    type: IKDataEntity.Types.Integer,\n    form: false,\n  },\n}\nconst config = {\n  load: async function (filter) {\n    return (await hillo.get('Category.php', {\n      op: 'showAttributeGroup',\n      lang: GlobalSettings.getLang(),\n      ...filter,\n    }))\n      .content\n  },\n  add: function (item) {\n    return hillo.postWithUploadFile('Category.php?op=addAttributeGroup', item, {\n      showLoading: true,\n    })\n  },\n  edit: function (item) {\n    return hillo.postWithUploadFile('Category.php?op=updateAttributeGroup', item, {\n      showLoading: true,\n    })\n  },\n  remove: function (id) {\n    return hillo.post('Category.php?op=deleteAttributeGroup', { id: id })\n  },\n}\n\nexport default IKDataEntity.ModelFactory(entity, config)\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _metaflowJs = require(\"metaflow-js\");\n\nvar entity = {\n  id: {\n    type: _metaflowJs.IKDataEntity.Types.Integer,\n    displayName: 'id',\n    tableConfig: {\n      align: 'start'\n    },\n    formConfig: {\n      requiredNew: false\n    }\n  },\n  name: {\n    displayName: 'Name'\n  },\n  lang: {},\n  desc: {\n    displayName: 'Beschreibung',\n    formConfig: {\n      required: false\n    }\n  }\n};\n\nvar _default = _metaflowJs.IKDataEntity.ModelFactory(entity, {});\n\nexports.default = _default;","import { IKDataEntity } from 'metaflow-js'\nimport hillo from 'hillo'\nimport GlobalSettings from '@/GlobalSettings'\nimport store from '../store'\nimport Category from './Category'\nimport PrinterGroup from './PrinterGroup'\nimport Allergen from './Allergen'\nimport StringEntity from './StringEntity'\nimport AttributeGroup from './AttributeGroup'\nimport i18n from '../i18n'\n\nconst i = Boolean(GlobalSettings.isShowOnTable === '0')\n\nconst entity = {\n  id: {\n    type: IKDataEntity.Types.Integer,\n    displayName: 'id',\n    form: false,\n  },\n  code: {},\n  image: {\n    type: IKDataEntity.Types.Image,\n    formConfig: {\n      type: {\n        root: () => store.getters.rootUrl + GlobalSettings.dishImageRoot,\n      },\n      required: false,\n    },\n    displayName: 'image',\n    header: i,\n  },\n  dishName: {\n    displayName: 'name',\n    form: false,\n  },\n  price: {\n    type: IKDataEntity.Types.Float,\n    formConfig: {\n      default: '',\n      overwriteRule: true,\n      rule: [\n        v => /^[0-9]+\\.{0,1}[0-9]{0,2}$/.test(v) || 'Bitte geben Sie den richtigen Preis ein',\n      ],\n    },\n  },\n  langs: {\n    displayName: 'name',\n    type: IKDataEntity.Types.Group,\n    formConfig: {\n      groupName: 'name',\n      default: GlobalSettings.supportLang,\n      childLabelKey: 'lang',\n      type: {},\n    },\n    tableConfig: {\n      displayCondition: (item) => {\n        return item.lang.toLowerCase() === GlobalSettings.getLang().toLowerCase()\n      },\n      displayChild: (key) => {\n        return key === 'name'\n      },\n    },\n    childKey: ['name', 'desc'],\n    labelKey: 'lang',\n    children: [\n      StringEntity, StringEntity, StringEntity,\n    ],\n    header: false,\n  },\n  printGroupId: {\n    displayName: i18n.t('printCatName'),\n    type: IKDataEntity.Types.Option,\n    formConfig: {\n      default: 1,\n      type: {\n        selectItems: PrinterGroup.getList,\n      },\n    },\n  },\n  extraPrintGroupIds: {\n    displayName: i18n.t('extraPrintGroup'),\n    type: IKDataEntity.Types.Option,\n    formConfig: {\n      type: {\n        multiple: true,\n        selectItems: PrinterGroup.getList,\n      },\n      required: false,\n    },\n    header: false,\n  },\n  categoryId: {\n    displayName: 'labelName',\n    type: IKDataEntity.Types.Option,\n    formConfig: {\n      type: {\n        selectItems: Category.getList,\n        itemText: '_langsname',\n      },\n    },\n  },\n  AllergenId: {\n    displayName: i18n.t('过敏源'),\n    type: IKDataEntity.Types.Option,\n    formConfig: {\n      type: {\n        selectItems: Allergen.getList,\n        multiple: true,\n      },\n      required: false,\n    },\n    header: false,\n  },\n  attributeGroupId: {\n    displayName: i18n.t('attributeGroupNames'),\n    type: IKDataEntity.Types.Option,\n    formConfig: {\n      merge: false,\n      required: false,\n      type: {\n        selectItems: AttributeGroup.getList,\n        multiple: true,\n        disabledItem: (item, editedItem) => {\n          if (editedItem.inheritAttributeGroupId) {\n            return ({\n              ...item,\n              disabled: editedItem.inheritAttributeGroupId.includes(item.id),\n            })\n          } else {\n            return item\n          }\n        },\n      },\n    },\n    header: false,\n  },\n  localAttributeGroupId: {\n    type: IKDataEntity.Types.Option,\n    formConfig: {\n      type: {\n        selectItems: AttributeGroup.getList,\n        multiple: true,\n      },\n    },\n    form: false,\n    header: false,\n  },\n  inheritAttributeGroupId: {\n    displayName: 'AttributeGroupName',\n    type: IKDataEntity.Types.Option,\n    formConfig: {\n      type: {\n        selectItems: AttributeGroup.getList,\n        multiple: true,\n      },\n    },\n    form: false,\n    header: false,\n  },\n  dishWeight: {\n    displayName: 'DishWeight',\n    type: IKDataEntity.Types.Integer,\n    formConfig: {\n      default: 1,\n      required: false,\n      rule: [ // ^-[1-9]\\d*$\n        v => /^[0-9]\\d*$/.test(v) || 'Bitte geben Sie die ganze Zahl ein',\n      ],\n    },\n    header: false,\n  },\n  isActive: {\n    type: IKDataEntity.Types.Boolean,\n    displayName: 'isActive',\n    formConfig: {\n      default: 1,\n      required: false,\n    },\n  },\n  dishAlias: {\n    required: false,\n    formConfig: {\n      requiredNew: false,\n      requiredEdit: false,\n    },\n    header: false,\n  },\n  color: {\n    type: IKDataEntity.Types.Color,\n    formConfig: {\n      required: false,\n    },\n  },\n}\nconst config = {\n  multipleAdd: function (item) {\n    return hillo.postWithUploadFile('Dishes.php?op=add', {\n      ...item,\n      params: JSON.stringify(item),\n    }, { showLoading: false })\n  },\n  add: function (item) {\n    item.attributeGroup = item.attributeGroupId\n      .filter(i => !item.inheritAttributeGroupId.includes(i)).join(',')\n    item.allergenGroup = item.AllergenId.join(',')\n    item.extraPrintGroupIds = item.extraPrintGroupIds.join(',')\n    return hillo.postWithUploadFile('Dishes.php?op=add', {\n      ...item,\n      params: JSON.stringify(item),\n    }, { showLoading: true })\n  },\n  edit: function (item) {\n    item.attributeGroup = item.attributeGroupId\n      .filter(i => !item.inheritAttributeGroupId.includes(i)).join(',')\n    item.allergenGroup = item.AllergenId.join(',')\n    item.extraPrintGroupIds = item.extraPrintGroupIds.join(',')\n    if (item.file) {\n      item.imageExt = item.file.name.split('.')[1]\n    }\n    item.isActive = item.isActive ? 1 : 0\n    return hillo.postWithUploadFile('Dishes.php?op=update', {\n      ...item,\n      params: JSON.stringify(item),\n    }, { showLoading: true })\n  },\n  remove: function (id) {\n    return hillo.post('Dishes.php?op=delete', { id: id })\n  },\n  load: async function (filter) {\n    return (await hillo.get('Dishes.php', {\n      lang: GlobalSettings.getLang(),\n      onlyActive: 0,\n      ...filter,\n    }))\n      .content.map(function (item) {\n        item.id = item.dishId\n        item.attributeGroupId = [\n          item.inheritAttributeGroupId ? item.inheritAttributeGroupId.split(',') : [],\n          item.localAttributeGroupId ? item.localAttributeGroupId.split(',') : [],\n        ].flat().join(',')\n        item.langs = item.langs.map(i => {\n          return {\n            ...i,\n            desc: i.description,\n          }\n        })\n        return item\n      })\n  },\n}\nconst DishModel = IKDataEntity.ModelFactory(entity, config)\nDishModel.getBuffet = async function () {\n  return (await DishModel.getList()).filter(i => i.dishesCategoryTypeId === '8')\n}\nexport default DishModel\n","import IKUtils from 'innerken-js-utils'\n\nexport default {\n  ...IKUtils,\n}\n","import GlobalSettings from '@/GlobalSettings'\nimport { IKDataEntity } from 'metaflow-js'\nimport hillo from 'hillo'\n\nconst entity = {\n  id: {\n    type: IKDataEntity.Types.Integer,\n    displayName: 'id',\n    tableConfig: {\n      align: 'start',\n    },\n    formConfig: {\n      requiredNew: false,\n    },\n  },\n  name: {},\n  lang: {},\n}\nconst config = {\n  load: async function (filter) {\n    return (await hillo.get('CategoryType.php', {\n      lang: GlobalSettings.getLang(),\n      ...filter,\n    }))\n      .content\n  },\n}\n\nexport default IKDataEntity.ModelFactory(entity, config)\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-card',[_c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-dialog',{ref:\"dialog\",attrs:{\"return-value\":_vm.dates,\"persistent\":\"\",\"width\":\"290px\"},on:{\"update:returnValue\":function($event){_vm.dates=$event},\"update:return-value\":function($event){_vm.dates=$event}},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":_vm.$t('日期筛选'),\"prepend-icon\":\"mdi-calendar\",\"readonly\":\"\"},model:{value:(_vm.dates),callback:function ($$v) {_vm.dates=$$v},expression:\"dates\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.datePickerDialog),callback:function ($$v) {_vm.datePickerDialog=$$v},expression:\"datePickerDialog\"}},[_c('v-date-picker',{attrs:{\"range\":\"\",\"scrollable\":\"\"},model:{value:(_vm.dates),callback:function ($$v) {_vm.dates=$$v},expression:\"dates\"}},[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.datePickerDialog = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$refs.dialog.save(_vm.dates)}}},[_vm._v(\" OK \")])],1)],1)],1),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-dialog',{ref:\"timeDialog\",attrs:{\"return-value\":_vm.hourStart,\"persistent\":\"\",\"width\":\"290px\"},on:{\"update:returnValue\":function($event){_vm.hourStart=$event},\"update:return-value\":function($event){_vm.hourStart=$event}},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":_vm.$t('startTime'),\"prepend-icon\":\"mdi-calendar\",\"readonly\":\"\"},model:{value:(_vm.hourStart),callback:function ($$v) {_vm.hourStart=$$v},expression:\"hourStart\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.timeStartPickerDialog),callback:function ($$v) {_vm.timeStartPickerDialog=$$v},expression:\"timeStartPickerDialog\"}},[_c('v-time-picker',{attrs:{\"range\":\"\",\"scrollable\":\"\"},model:{value:(_vm.hourStart),callback:function ($$v) {_vm.hourStart=$$v},expression:\"hourStart\"}},[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.timeStartPickerDialog = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$refs.timeDialog.save(_vm.hourStart)}}},[_vm._v(\" OK \")])],1)],1)],1),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-dialog',{ref:\"timeEndDialog\",attrs:{\"return-value\":_vm.hourEnd,\"persistent\":\"\",\"width\":\"290px\"},on:{\"update:returnValue\":function($event){_vm.hourEnd=$event},\"update:return-value\":function($event){_vm.hourEnd=$event}},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":_vm.$t('endTime'),\"prepend-icon\":\"mdi-calendar\",\"readonly\":\"\"},model:{value:(_vm.hourEnd),callback:function ($$v) {_vm.hourEnd=$$v},expression:\"hourEnd\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.timeEndPickerDialog),callback:function ($$v) {_vm.timeEndPickerDialog=$$v},expression:\"timeEndPickerDialog\"}},[_c('v-time-picker',{attrs:{\"range\":\"\",\"scrollable\":\"\"},model:{value:(_vm.hourEnd),callback:function ($$v) {_vm.hourEnd=$$v},expression:\"hourEnd\"}},[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.timeEndPickerDialog = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$refs.timeEndDialog.save(_vm.hourEnd)}}},[_vm._v(\" OK \")])],1)],1)],1),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-select',{attrs:{\"label\":_vm.$t('永久隐藏属性'),\"item-text\":\"name\",\"item-value\":\"id\",\"multiple\":\"\",\"clearable\":\"\",\"items\":_vm.realAttributes},on:{\"change\":function($event){return _vm.selectAttributes(_vm.fixedHideAttributes)},\"click:clear\":_vm.clearFixedHideAttribute},model:{value:(_vm.fixedHideAttributes),callback:function ($$v) {_vm.fixedHideAttributes=$$v},expression:\"fixedHideAttributes\"}})],1),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-select',{attrs:{\"label\":_vm.$t('隐藏属性'),\"item-text\":\"name\",\"item-value\":\"id\",\"multiple\":\"\",\"clearable\":\"\",\"items\":_vm.realAttributes},model:{value:(_vm.hideAttributes),callback:function ($$v) {_vm.hideAttributes=$$v},expression:\"hideAttributes\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-select',{attrs:{\"label\":_vm.$t('永久隐藏菜品'),\"item-text\":\"dishName\",\"item-value\":\"dishName\",\"multiple\":\"\",\"clearable\":\"\",\"items\":_vm.allFixedDishesData},on:{\"change\":function($event){return _vm.selectFixedDishes(_vm.fixedHideDishes)},\"click:clear\":_vm.clearFixedHideDishes},model:{value:(_vm.fixedHideDishes),callback:function ($$v) {_vm.fixedHideDishes=$$v},expression:\"fixedHideDishes\"}})],1),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-select',{attrs:{\"label\":_vm.$t('选择菜品(不选即为选择所有菜品)'),\"item-text\":\"dishName\",\"item-value\":\"dishName\",\"multiple\":\"\",\"items\":_vm.allDishData},on:{\"change\":function($event){return _vm.selectDishes(_vm.hideDishes)}},model:{value:(_vm.hideDishes),callback:function ($$v) {_vm.hideDishes=$$v},expression:\"hideDishes\"}})],1),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-btn',{attrs:{\"disabled\":_vm.tableData.length<2,\"x-large\":\"\",\"color\":\"primary\",\"block\":\"\"},on:{\"click\":function($event){_vm.showSalesTable=true}}},[_vm._v(\" \"+_vm._s(_vm.$t('查看分析报告'))+\" \")])],1)],1)],1)],1),_c('v-dialog',{attrs:{\"fullscreen\":\"\",\"scrollable\":\"\"},model:{value:(_vm.showSalesTable),callback:function ($$v) {_vm.showSalesTable=$$v},expression:\"showSalesTable\"}},[_c('v-card',[_c('v-toolbar',{attrs:{\"dense\":\"\",\"dark\":\"\"}},[_c('v-toolbar-title',[_vm._v(\" \"+_vm._s(_vm.$t('销售统计'))+\" \")]),_c('v-spacer'),_c('v-btn',{staticClass:\"mr-4\",on:{\"click\":_vm.print}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\" mdi-printer \")]),_vm._v(\" \"+_vm._s(_vm.$t('打印统计单'))+\" \")],1),_c('v-icon',{on:{\"click\":function($event){_vm.showSalesTable=!_vm.showSalesTable}}},[_vm._v(\" mdi-close \")])],1),_c('v-card-text',[_c('v-data-table',{attrs:{\"fixed-header\":\"\",\"dense\":\"\",\"hide-default-footer\":\"\",\"disable-pagination\":\"\",\"height\":\"calc(100vh - 72px)\",\"item-class\":_vm.computeClass,\"headers\":_vm.headers,\"items\":_vm.tableData,\"items-per-page\":100}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container fluid>\n    <v-card>\n      <v-container>\n        <v-row>\n          <v-col cols=\"4\">\n            <v-dialog\n              ref=\"dialog\"\n              v-model=\"datePickerDialog\"\n              :return-value.sync=\"dates\"\n              persistent\n              width=\"290px\"\n            >\n              <template v-slot:activator=\"{ on, attrs }\">\n                <v-text-field\n                  v-model=\"dates\"\n                  :label=\"$t('日期筛选')\"\n                  prepend-icon=\"mdi-calendar\"\n                  readonly\n                  v-bind=\"attrs\"\n                  v-on=\"on\"\n                />\n              </template>\n              <v-date-picker\n                v-model=\"dates\"\n                range\n                scrollable\n              >\n                <v-spacer/>\n                <v-btn\n                  text\n                  color=\"primary\"\n                  @click=\"datePickerDialog = false\"\n                >\n                  Cancel\n                </v-btn>\n                <v-btn\n                  text\n                  color=\"primary\"\n                  @click=\"$refs.dialog.save(dates)\"\n                >\n                  OK\n                </v-btn>\n              </v-date-picker>\n            </v-dialog>\n          </v-col>\n          <v-col cols=\"4\">\n            <v-dialog\n              ref=\"timeDialog\"\n              v-model=\"timeStartPickerDialog\"\n              :return-value.sync=\"hourStart\"\n              persistent\n              width=\"290px\"\n            >\n              <template v-slot:activator=\"{ on, attrs }\">\n                <v-text-field\n                  v-model=\"hourStart\"\n                  :label=\"$t('startTime')\"\n                  prepend-icon=\"mdi-calendar\"\n                  readonly\n                  v-bind=\"attrs\"\n                  v-on=\"on\"\n                />\n              </template>\n              <v-time-picker\n                v-model=\"hourStart\"\n                range\n                scrollable\n              >\n                <v-spacer/>\n                <v-btn\n                  text\n                  color=\"primary\"\n                  @click=\"timeStartPickerDialog = false\"\n                >\n                  Cancel\n                </v-btn>\n                <v-btn\n                  text\n                  color=\"primary\"\n                  @click=\"$refs.timeDialog.save(hourStart)\"\n                >\n                  OK\n                </v-btn>\n              </v-time-picker>\n            </v-dialog>\n          </v-col>\n          <v-col cols=\"4\">\n            <v-dialog\n              ref=\"timeEndDialog\"\n              v-model=\"timeEndPickerDialog\"\n              :return-value.sync=\"hourEnd\"\n              persistent\n              width=\"290px\"\n            >\n              <template v-slot:activator=\"{ on, attrs }\">\n                <v-text-field\n                  v-model=\"hourEnd\"\n                  :label=\"$t('endTime')\"\n                  prepend-icon=\"mdi-calendar\"\n                  readonly\n                  v-bind=\"attrs\"\n                  v-on=\"on\"\n                />\n              </template>\n              <v-time-picker\n                v-model=\"hourEnd\"\n                range\n                scrollable\n              >\n                <v-spacer/>\n                <v-btn\n                  text\n                  color=\"primary\"\n                  @click=\"timeEndPickerDialog = false\"\n                >\n                  Cancel\n                </v-btn>\n                <v-btn\n                  text\n                  color=\"primary\"\n                  @click=\"$refs.timeEndDialog.save(hourEnd)\"\n                >\n                  OK\n                </v-btn>\n              </v-time-picker>\n            </v-dialog>\n          </v-col>\n          <v-col cols=\"4\">\n            <v-select\n              v-model=\"fixedHideAttributes\"\n              :label=\"$t('永久隐藏属性')\"\n              item-text=\"name\"\n              item-value=\"id\"\n              multiple\n              clearable\n              :items=\"realAttributes\"\n              @change=\"selectAttributes(fixedHideAttributes)\"\n              @click:clear=\"clearFixedHideAttribute\"\n            />\n          </v-col>\n          <v-col cols=\"4\">\n            <v-select\n              v-model=\"hideAttributes\"\n              :label=\"$t('隐藏属性')\"\n              item-text=\"name\"\n              item-value=\"id\"\n              multiple\n              clearable\n              :items=\"realAttributes\"\n            />\n          </v-col>\n        </v-row>\n        <v-row>\n          <v-col cols=\"4\">\n            <v-select\n              v-model=\"fixedHideDishes\"\n              :label=\"$t('永久隐藏菜品')\"\n              item-text=\"dishName\"\n              item-value=\"dishName\"\n              multiple\n              clearable\n              :items=\"allFixedDishesData\"\n              @change=\"selectFixedDishes(fixedHideDishes)\"\n              @click:clear=\"clearFixedHideDishes\"\n            />\n          </v-col>\n          <v-col cols=\"4\">\n            <v-select\n              v-model=\"hideDishes\"\n              :label=\"$t('选择菜品(不选即为选择所有菜品)')\"\n              item-text=\"dishName\"\n              item-value=\"dishName\"\n              multiple\n              :items=\"allDishData\"\n              @change=\"selectDishes(hideDishes)\"\n            />\n          </v-col>\n          <v-col cols=\"4\">\n            <v-btn\n              :disabled=\"tableData.length<2\"\n              x-large\n              color=\"primary\"\n              block\n              @click=\"showSalesTable=true\"\n            >\n              {{ $t('查看分析报告') }}\n            </v-btn>\n          </v-col>\n        </v-row>\n      </v-container>\n    </v-card>\n    <v-dialog\n      v-model=\"showSalesTable\"\n      fullscreen\n      scrollable\n    >\n      <v-card>\n        <v-toolbar\n          dense\n          dark\n        >\n          <v-toolbar-title>\n            {{ $t('销售统计') }}\n          </v-toolbar-title>\n          <v-spacer/>\n          <v-btn\n            class=\"mr-4\"\n            @click=\"print\"\n          >\n            <v-icon left>\n              mdi-printer\n            </v-icon>\n            {{ $t('打印统计单') }}\n          </v-btn>\n          <v-icon @click=\"showSalesTable=!showSalesTable\">\n            mdi-close\n          </v-icon>\n        </v-toolbar>\n        <v-card-text>\n          <v-data-table\n            fixed-header\n            dense\n            hide-default-footer\n            disable-pagination\n            height=\"calc(100vh - 72px)\"\n            :item-class=\"computeClass\"\n            :headers=\"headers\"\n            :items=\"tableData\"\n            :items-per-page=\"100\"\n          />\n        </v-card-text>\n      </v-card>\n    </v-dialog>\n  </v-container>\n</template>\n<script>\n  import { PrinterSalesInSightBon, salesInsight } from '../../components/Utlis/api'\n  import { StandardDishesListFactory } from 'aaden-base-model/lib/Models/AadenBase'\n  import Attribute from '../../model/Attribute'\n  import AttributeGroup from '../../model/AttributeGroup'\n  import Dish from '../../model/Dish'\n  import { IKUtils } from 'innerken-js-utils'\n  import { formatDate } from '../../common/common'\n  import Utils from '../../components/Utlis/Utils'\n\n  export default {\n    name: 'SalesInsight',\n    data: function () {\n      return {\n        datePickerDialog: null,\n        timeStartPickerDialog: null,\n        timeEndPickerDialog: null,\n        hourStart: '',\n        hourEnd: '',\n        dates: [],\n        showSalesTable: null,\n        unfilteredData: [],\n        displayData: [],\n        attributeData: [],\n        hideDishes: [],\n        filterDishesData: [],\n        hideAttributes: [],\n        fixedHideAttributes: [],\n        fixedHideDishes: [],\n        mergedGroup: [],\n        allDishData: [],\n        allFixedDishesData: [],\n        fixedHeader: [\n          {\n            text: 'name',\n            value: 'name',\n          },\n          {\n            text: 'price',\n            value: 'price',\n          },\n          {\n            text: 'amount',\n            value: 'amount',\n          },\n        ],\n      }\n    },\n    computed: {\n      headers () {\n        return this.fixedHeader.concat(this.attributeHeader)\n      },\n      realAttributes () {\n        return this.attributeData.reduce((arr, a) => {\n          if (a.childAttributes) {\n            a.childAttributes.forEach(c => arr.push(c))\n          }\n\n          return arr\n        }, [])\n      },\n      attributeHeader () {\n        return this.realAttributes\n          .filter(i => !(this.hideAttributes.includes(i.id) || this.fixedHideAttributes.includes(i.id)))\n          .map(a => {\n            a.text = a.name\n            a.value = 'attr' + a.id\n            return a\n          })\n      },\n      tableData () {\n        const tableData = []\n        const formatDish = (d) => {\n          d.isDish = true\n          d.price = `${d.originPrice} (avg:€${(d.totalPrice / d.totalCount).toFixed(2)})`\n          d.amount = d.totalCount\n          d.groupData.forEach(g => {\n            d['attr' + g.id] = g.count\n          })\n          return d\n        }\n        const formatVariant = (v, i) => {\n          v.name = 'v:' + i\n          v.amount = v.count\n          v.groupData.forEach(g => {\n            v['attr' + g.id] = g.count\n          })\n          return v\n        }\n        if (this.hideDishes.length > 0) {\n          this.filterDishesData.forEach(d => {\n            tableData.push(d)\n            d.variants.forEach((v, i) => {\n              tableData.push(formatVariant(v, i))\n            })\n          })\n        } else {\n          this.displayData.forEach(d => {\n            tableData.push(formatDish(d))\n            d.variants.forEach((v, i) => {\n              tableData.push(formatVariant(v, i))\n            })\n          })\n        }\n        return tableData\n      },\n    },\n    watch: {\n      dates (val) {\n        this.loadSalesData(val)\n      },\n      hourStart (val) {\n        this.loadSalesData(this.dates, val, this.hourEnd)\n      },\n      hourEnd (val) {\n        this.loadSalesData(this.dates, this.hourStart, val)\n      },\n    },\n    async mounted () {\n      await this.loadData()\n    },\n    methods: {\n      clearFixedHideAttribute () {\n        localStorage.removeItem('fixedHideAttribute')\n      },\n      clearFixedHideDishes () {\n        localStorage.removeItem('fixedHideDishes')\n      },\n      selectDishes (hideDishes) {\n        this.filterDishesData = this.displayData.filter(item => (hideDishes.includes(item.name)))\n      },\n      selectFixedDishes (fixedHideDishes) {\n        const fixedHideDishGroups = JSON.stringify(fixedHideDishes)\n        localStorage.setItem('fixedHideDishes', fixedHideDishGroups)\n        this.allDishData = this.allFixedDishesData.filter(item => !(fixedHideDishes.includes(item.dishName)))\n        this.displayData = this.unfilteredData.filter(item => !(fixedHideDishes.includes(item.name)))\n      },\n      selectAttributes (attributeId) {\n        const attributeIds = JSON.stringify(attributeId)\n        localStorage.setItem('fixedHideAttribute', attributeIds)\n      },\n      computeClass (item) {\n        return item.isDish ? 'dishRow normal' : 'normal'\n      },\n      groupElement (childList, childMatchKey) {\n        const on = function (parentList, matchKey) {\n          const _parentList = IKUtils.deepCopy(parentList)\n          const saveIn = function (resultKey) {\n            childList.forEach(c => {\n              const target = _parentList.find(p => c[childMatchKey] === p[matchKey])\n              if (target) {\n                if (!target[resultKey]) {\n                  target[resultKey] = []\n                }\n                target[resultKey].push(c)\n              }\n            })\n            return _parentList\n          }\n          return { saveIn }\n        }\n        return { on }\n      },\n      async getAllAttribute () {\n        return (await Attribute.getList())\n          .filter(a => a.optattributeGroupId.length > 0)\n      },\n      async getAttributeGrouped () {\n        const attributeGroup = await AttributeGroup.getList()\n        const attribute = await this.getAllAttribute()\n        return this.groupElement(attribute, 'attributeGroupId')\n          .on(attributeGroup, 'id').saveIn('childAttributes')\n      },\n      async getSalesInfo (timeSpan, hourStart, hourEnd) {\n        const data = await salesInsight(timeSpan, hourStart, hourEnd)\n        if (data.length === 0) {\n          return []\n        }\n        const dishList = StandardDishesListFactory()\n          .formatList((data).content)\n        const displayList = dishList.reduce((obj, i) => {\n          let dict = obj[i.code]\n          if (!dict) {\n            obj[i.code] = {\n              categoryId: parseInt(i.categoryId),\n              categoryTypeId: parseInt(i.categoryTypeId),\n              code: i.code,\n              // name: i.code + '/' + i.name,\n              name: i.name,\n              totalCount: i.count,\n              originPrice: i.originPrice,\n              totalPrice: i.realPrice * i.count,\n              variants: [],\n            }\n            dict = obj[i.code]\n          } else {\n            dict.totalCount += i.count\n            dict.totalPrice += i.realPrice * i.count\n          }\n          const variant = dict.variants.find(v => v.identity === i.identity)\n          if (variant) {\n            variant.count += i.count\n          } else {\n            dict.variants.push({\n              identity: i.identity,\n              count: parseInt(i.count),\n              displayApply: i.displayApply,\n              price: i.realPrice,\n            })\n          }\n          return obj\n        }, {})\n        return Object.values(displayList).map(u => {\n          u.group = this.groupAttribute(u)\n          return u\n        })\n      },\n      groupAttribute (dish) {\n        // group key\n        dish.groupData = IKUtils.deepCopy(this.realAttributes)\n        dish.variants.forEach(v => {\n          v.groupData = IKUtils.deepCopy(this.realAttributes)\n          v.displayApply.forEach(displayApply => {\n            const child = dish.groupData.find(x => x.id === parseInt(displayApply.aId))\n            const selfChild = v.groupData.find(x => x.id === parseInt(displayApply.aId))\n            if (!child || !selfChild) {\n              return\n            }\n            if (!selfChild.count) {\n              selfChild.count = 0\n            }\n            selfChild.count++\n            if (!child.count) {\n              child.count = 0\n            }\n            child.count++\n          })\n        })\n        return dish.variants.reduce((arr, v) => {\n          v.displayApply.forEach(displayApply => {\n            let group = arr.find(a => a.agId === displayApply.agId)\n            if (!group) {\n              group = {\n                ...displayApply,\n                values: [],\n              }\n              arr.push(group)\n            }\n            const child = group.values.find(x => x.aId === displayApply.aId)\n            if (child) {\n              child.count++\n            } else {\n              group.values.push({\n                ...displayApply,\n                count: 1,\n              })\n            }\n          })\n          return arr\n        }, [])\n      },\n      async loadSalesData (timeSpan, hourStart, hourEnd) {\n        const salesData = await this.getSalesInfo(timeSpan, hourStart, hourEnd)\n        const totalData = salesData.reduce((obj, i) => {\n          obj.totalPrice += i.totalPrice\n          obj.groupData.forEach((g, t) => {\n            if (!g.count) {\n              g.count = 0\n            }\n            g.count += (i.groupData[t].count ?? 0)\n          })\n          obj.totalCount += i.totalCount\n          return obj\n        }, {\n          code: '-',\n          name: 'Alle',\n          totalPrice: 0,\n          originPrice: 0,\n          totalCount: 0,\n          groupData: IKUtils.deepCopy(this.realAttributes),\n          variants: [],\n        })\n        this.unfilteredData = [totalData].concat(salesData)\n        this.displayData = this.unfilteredData.filter(item => !(this.fixedHideDishes.includes(item.name)))\n      },\n      async loadData () {\n        this.dates = [formatDate(0), formatDate(0)]\n        this.attributeData = await this.getAttributeGrouped()\n        this.allFixedDishesData = await Dish.getList()\n        this.hourStart = this.hourStart === '' ? '00:00:00' : this.hourStart\n        this.hourEnd = this.hourEnd === '' ? '23:59:59' : this.hourEnd\n        await this.loadSalesData(this.dates, this.hourStart, this.hourEnd)\n        if (localStorage.getItem('fixedHideAttribute')) {\n          this.fixedHideAttributes = JSON.parse(localStorage.getItem('fixedHideAttribute'))\n        }\n        if (localStorage.getItem('fixedHideDishes')) {\n          this.fixedHideDishes = JSON.parse(localStorage.getItem('fixedHideDishes'))\n        }\n        if (this.fixedHideDishes.length > 0) {\n          this.allDishData = this.allFixedDishesData.filter(item => !(this.fixedHideDishes.includes(item.dishName)))\n        } else {\n          this.allDishData = IKUtils.deepCopy(this.allFixedDishesData)\n        }\n      },\n      print () {\n        if (Date.parse(this.dates[0]) > Date.parse(this.dates[1])) {\n          [this.dates[0], this.dates[1]] = [this.dates[1], this.dates[0]]\n        }\n        const timeSpan = [this.dates[0] + ' ' + this.hourStart, this.dates[1] + ' ' + this.hourEnd]\n        Utils.showConfirm('Bist du sicher?', 'Möchten Sie die Statistike Bon drucken?', () => {\n          PrinterSalesInSightBon(timeSpan).then(() => {\n            Utils.toast('Erfolgreich drucken!')\n          })\n        })\n      },\n    },\n  }\n</script>\n\n<style>\n  .bigHeadHorizontal {\n    background: #367aeb;\n    font-size: 24px;\n    padding: 8px 2px;\n    color: white;\n    grid-row: 1 / span 2;\n  }\n\n  .agHead {\n    background: #4caf50;\n    color: white;\n    padding: 8px 2px;\n  }\n\n  .dishRow > td{\n    font-weight: bold !important;\n    font-size: 18px !important;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  th{\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    font-size: 18px !important;\n  }\n  .dishRow {\n    background: #f6f6f6;\n    color: black;\n  }\n\n  .variantRow {\n    padding: 4px;\n  }\n\n  .attributeGrid {\n    border-right: 1px dotted #333333;\n  }\n\n  .aHead {\n    padding: 2px;\n\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SalesInsight.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SalesInsight.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SalesInsight.vue?vue&type=template&id=2fb41e7e&\"\nimport script from \"./SalesInsight.vue?vue&type=script&lang=js&\"\nexport * from \"./SalesInsight.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SalesInsight.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTimePicker } from 'vuetify/lib/components/VTimePicker';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCardText,VCol,VContainer,VDataTable,VDatePicker,VDialog,VIcon,VRow,VSelect,VSpacer,VTextField,VTimePicker,VToolbar,VToolbarTitle})\n","export function formatDate (num) {\n  const now = new Date()\n  const nowTime = now.getTime()\n  const oneDayTime = 24 * 60 * 60 * 1000\n  const ShowTime = nowTime + num * oneDayTime\n  const myDate = new Date(ShowTime)\n  const y = myDate.getFullYear()\n  const m = myDate.getMonth() + 1\n  const d = myDate.getDate()\n  return [y, m, d].join('-')\n}\n\nexport function formatFullData (num) {\n  const now = new Date()\n  const nowTime = now.getTime()\n  const oneDayTime = 24 * 60 * 60 * 1000\n  const ShowTime = nowTime + num * oneDayTime\n  const myDate = new Date(ShowTime)\n  const y = myDate.getFullYear() + '-'\n  const m = myDate.getMonth() + 1\n  const d = myDate.getDate()\n  const h = myDate.getHours() < 10 ? '0' + myDate.getHours() : myDate.getHours()\n  const mm = myDate.getMinutes() < 10 ? '0' + myDate.getMinutes() : myDate.getMinutes()\n  const s = myDate.getSeconds() < 10 ? '0' + myDate.getSeconds() : myDate.getSeconds()\n  return y + m + '-' + d + ' ' + h + ':' + mm + ':' + s\n}\n"],"sourceRoot":""}