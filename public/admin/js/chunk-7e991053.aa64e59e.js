(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7e991053"],{ccdd:function(e,t,n){"use strict";var a=n("5530"),r=n("641f"),s=n.n(r);t["a"]=Object(a["a"])({},s.a)},cfca:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{height:"100vh",flat:""}},[n("v-card",{attrs:{flat:""}},[n("v-card-title",{staticClass:"pb-2"},[e._v(" "+e._s(e.$t("Datev"))+" ")]),n("v-card-text",[n("v-row",[e._l(e.datevForm,(function(t,a){return[n("v-col",{key:a,attrs:{cols:"12",md:"4",sm:"6"}},[n("v-text-field",{attrs:{label:t.fieldName,placeholder:t.description,rules:"1"===t.isRequired?[function(){return!!t.value||"This field should not be empty"}]:[]},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"item.value"}})],1)]})),n("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[n("v-btn",{staticClass:"green",attrs:{block:""},on:{click:e.saveConfirm}},[n("v-icon",{attrs:{left:""}},[e._v(" mdi-content-save-outline ")]),e._v(" "+e._s(e.$t("保存"))+" ")],1)],1)],2)],1),n("v-card-text")],1),n("v-spacer"),n("v-card",{attrs:{flat:""}},[n("v-card-text",[n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("v-text-field",{attrs:{label:"The previous month's Datev will be sent to the tax preparer on the 1st of each month",disabled:""}}),n("v-text-field",{attrs:{label:e.sendStatus,disabled:""}})],1),n("v-col",{attrs:{cols:"6"}},[n("v-text-field",{attrs:{value:e.emailAddress,disabled:"",label:"E-Mail-Adresse des CSV Empfänger"}}),n("v-btn",{staticClass:"primary pt-13",attrs:{block:""},on:{click:e.sendDatevToEmail}},[n("v-icon",{attrs:{left:""}},[e._v(" mdi-send ")]),e._v(" "+e._s(e.$t("发送"))+" ")],1)],1)],1)],1)],1)],1)},r=[],s=(n("7db0"),n("13d5"),n("96cf"),n("1da1")),i=n("f4d6"),o={id:{type:i["IKDataEntity"].Types.Integer,displayName:"id",tableConfig:{align:"start"},formConfig:{requiredNew:!1}},sendDatum:{}},c={load:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},u=i["IKDataEntity"].ModelFactory(o,c),l=n("ff51"),d=n("0a61"),m=n("5a0c"),f=n.n(m),h=n("ccdd"),v={name:"Datev",data:function(){return{modelDatevTime:u,datevForm:null,emailAddress:null,sendStatus:null,DateFormLabel:["E-Mail:","Beratenummer:","Mandantennummer:","Datum: (MMTT)","Kleinste Sachkontennummemlänge:","Name:","Verarbeitungskennzeichen:","Konto Für 7% USt:","Konto Für 19% USt:","Konto Für 0% USt:"]}},computed:{filter:function(){if(Date.parse(this.dates[0])>Date.parse(this.dates[1])){var e=[this.dates[1],this.dates[0]];this.dates[0]=e[0],this.dates[1]=e[1]}return{start:this.dates[0],end:this.dates[1]}},filterCashBook:function(){if(Date.parse(this.datesCashBook[0])>Date.parse(this.datesCashBook[1])){var e=[this.datesCashBook[1],this.datesCashBook[0]];this.datesCashBook[0]=e[0],this.datesCashBook[1]=e[1]}return{fromDate:this.datesCashBook[0],toDate:this.datesCashBook[1]}}},watch:{},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.datesCashBook=[f()().format("YYYY-MM-DD"),Object(l["a"])(0)],t.next=3,Object(d["s"])();case 3:return e.currentAmount=t.sent,t.next=6,e.initialize();case 6:case"end":return t.stop()}}),t)})))()},methods:{sendDatevToEmail:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return h["a"].showLoading(!0),t.next=3,Object(d["N"])();case 3:return n=t.sent,e.sendStatus=n.content.length<=0?"Sent sucessfully!".toUpperCase():n.content[0].toUpperCase(),n.content.length<=0?h["a"].hideLoading(e.sendStatus):h["a"].showError(e.sendStatus,""),t.abrupt("return",!1);case 7:case"end":return t.stop()}}),t)})))()},saveConfirm:function(){var e=this,t=!1;if(this.datevForm.find((function(e){return"1"===e.isRequired&&""===e.value})))return t=!0,h["a"].showError("some field is empty"),!1;t||(console.log("hasEmptyItem",t),Object(d["S"])(this.datevForm).then((function(){h["a"].toast("提交成功"),e.initialize()})))},initialize:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getDatevSettings();case 2:e.datevForm=t.sent,e.emailAddress=e.datevForm.find((function(e){return"sendingToEmail"===e.key})).value;case 4:case"end":return t.stop()}}),t)})))()},clear:function(){this.dates=[Object(l["a"])(0),Object(l["a"])(0)],this.datesCashBook=[Object(l["a"])(0),Object(l["a"])(0)]},calculateTotalPrice:function(e){return parseFloat(this.calculateIncomePrice(e))-parseFloat(this.calculateOutcomePrice(e))},calculateIncomePrice:function(e){return e?e.reduce((function(e,t){return 2!==t.type?e+parseFloat(t.amount):e}),0):0},calculateOutcomePrice:function(e){return e?e.reduce((function(e,t){return 1!==t.type?e+parseFloat(t.amount):e}),0):0},getDatevSettings:function(){return Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["Q"])().then((function(e){return e.content}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))()}}},p=v,g=n("2877"),b=n("6544"),w=n.n(b),D=n("8336"),k=n("b0af"),x=n("99d9"),C=n("62ad"),T=n("132d"),F=n("0fd9"),O=n("2fa4"),S=n("8654"),j=Object(g["a"])(p,a,r,!1,null,null,null);t["default"]=j.exports;w()(j,{VBtn:D["a"],VCard:k["a"],VCardText:x["b"],VCardTitle:x["c"],VCol:C["a"],VIcon:T["a"],VRow:F["a"],VSpacer:O["a"],VTextField:S["a"]})},ff51:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s}));n("a15b");function a(e){var t=new Date,n=t.getTime(),a=864e5,r=n+e*a,s=new Date(r),i=s.getFullYear(),o=s.getMonth()+1,c=s.getDate();return[i,o,c].join("-")}function r(e){var t=new Date,n=t.getTime(),a=864e5,r=n+e*a,s=new Date(r),i=s.getFullYear()+"-",o=s.getMonth()+1,c=s.getDate(),u=s.getHours()<10?"0"+s.getHours():s.getHours(),l=s.getMinutes()<10?"0"+s.getMinutes():s.getMinutes(),d=s.getSeconds()<10?"0"+s.getSeconds():s.getSeconds();return i+o+"-"+c+" "+u+":"+l+":"+d}function s(e){var t=e;return t.maxDineTime&&(t.maxDineTime=t.maxDineTime/60),t.roundTime&&(t.roundTime=t.roundTime/60),t}}}]);
//# sourceMappingURL=chunk-7e991053.aa64e59e.js.map