(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b6a5061"],{"4c03":function(t,e,n){"use strict";n("a15b");var a=n("b85c"),r=(n("96cf"),n("1da1")),i=n("5530"),o=n("f4d6"),s=n("9d8f"),u=n.n(s),c=n("ebc9"),d=n("b0d9"),l=n("a86d"),p=n("5089"),f={load:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u.a.get("Category.php",Object(i["a"])({},e));case 2:return t.abrupt("return",t.sent.content);case 3:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},h={id:{type:o["IKDataEntity"].Types.Integer,displayName:"id",tableConfig:{align:"start"},formConfig:{requiredNew:!1}},_langsname:{displayName:"labelName",form:!1},langs:{displayName:"labelName",type:o["IKDataEntity"].Types.Group,formConfig:{groupName:"labelName",default:p["b"].supportLang,childLabelKey:"lang",type:{}},tableConfig:{displayCondition:function(t){return t.lang.toUpperCase()===p["b"].getLang()},displayChild:function(t){return"name"===t}},childKey:["name","desc"],labelKey:"lang",children:[l["a"],l["a"],l["a"]],header:!1}},y=o["IKDataEntity"].ModelFactory(h,f),g=n("641f"),m=n.n(g),b=n("c0d6"),v=Boolean("0"===p["b"].isShowOnTable),C=["#FFCDD2","#F8BBD0","#E1BEE7","#D1C4E9","#C5CAE9","#BBDEFB","#B3E5FC","#B2EBF2","#B2DFDB","#C8E6C9","#DCEDC8","#F0F4C3","#FFF9C4","#FFECB3","#FFE0B2","#FFCCBC","#D7CCC8","#CFD8DC"],D={add:function(t){return t.appliedAttributeGroup=t.attributeGroupId.join(","),t.catTypeId=t.dishesCategoryTypeId,u.a.post("Category.php?op=add",Object(i["a"])(Object(i["a"])({},t),{},{langs:JSON.stringify(t.langs)}),{showLoading:!0})},edit:function(t){return t.appliedAttributeGroup=t.attributeGroupId.join(","),t.catTypeId=t.dishesCategoryTypeId,console.log("label-manage: item()",t),u.a.postWithUploadFile("Category.php?op=update",Object(i["a"])(Object(i["a"])({},t),{},{langs:JSON.stringify(t.langs)}),{showLoading:!0})},remove:function(t){return u.a.post("Category.php?op=delete",{id:t})},load:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u.a.get("Category.php",e);case 2:return n=t.sent.content,console.log(n,"cate response"),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),randomColor:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:m.a.showLoading(!0),n=Object(a["a"])(e),t.prev=2,n.s();case 4:if((r=n.n()).done){t.next=13;break}return o=r.value,o.appliedAttributeGroup=o.attributeGroupId.join(","),o.catTypeId=o.dishesCategoryTypeId,o.color=C[Math.round(18*Math.random())],t.next=11,u.a.postWithUploadFile("Category.php?op=update",Object(i["a"])(Object(i["a"])({},o),{},{langs:JSON.stringify(o.langs)}),{showLoading:!1});case 11:t.next=4;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](2),n.e(t.t0);case 18:return t.prev=18,n.f(),t.finish(18);case 21:m.a.toast("OK");case 22:case"end":return t.stop()}}),t,null,[[2,15,18,21]])})));function e(e){return t.apply(this,arguments)}return e}(),removeAllColor:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:m.a.showLoading(!0),n=Object(a["a"])(e);try{for(n.s();!(r=n.n()).done;)o=r.value,o.appliedAttributeGroup=o.attributeGroupId.join(","),o.catTypeId=o.dishesCategoryTypeId,o.color="#FFFFFF",u.a.postWithUploadFile("Category.php?op=update",Object(i["a"])(Object(i["a"])({},o),{},{langs:JSON.stringify(o.langs)}),{showLoading:!1})}catch(s){n.e(s)}finally{n.f()}m.a.toast("OK");case 4:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),removeCategoryImage:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u.a.post("Category.php?op=removeCategoryImage",Object(i["a"])({},e),{showLoading:!0});case 2:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},$={id:{type:o["IKDataEntity"].Types.Integer,displayName:"id",tableConfig:{align:"start"},formConfig:{requiredNew:!1}},_langsname:{displayName:"labelName",form:!1},dcImage:{type:o["IKDataEntity"].Types.Image,formConfig:{required:!1,type:{root:function(){return b["a"].getters.rootUrl+p["b"].dcImageRoot}}},displayName:"Label Image",header:v},langs:{displayName:"labelName",type:o["IKDataEntity"].Types.Group,formConfig:{groupName:"labelName",default:p["b"].supportLang,childLabelKey:"lang",type:{}},tableConfig:{displayCondition:function(t){return t.lang.toUpperCase()===p["b"].getLang().toUpperCase()},displayChild:function(t){return console.log(t),"name"===t}},childKey:["name","desc"],labelKey:"lang",children:[l["a"],l["a"],l["a"]],header:!1},dishesCategoryTypeId:{displayName:"labelType",type:o["IKDataEntity"].Types.Option,formConfig:{type:{selectItems:c["a"].getList}}},attributeGroupId:{displayName:"attributeGroupNames",type:o["IKDataEntity"].Types.Option,tableConfig:{width:"100px"},formConfig:{required:!1,type:{selectItems:d["a"].getList,multiple:!0}}},printOrder:{type:o["IKDataEntity"].Types.Integer,required:!1,formConfig:{default:50,requiredNew:!1,requiredEdit:!1,rule:[function(t){return/^[0-9]\d*$/.test(t)||"Bitte geben Sie die ganze Zahl ein"}]}},parentId:{type:o["IKDataEntity"].Types.Option,formConfig:{required:!1,type:{selectItems:y.getList,itemText:"_langsname"}},header:!1},categorySort:{type:o["IKDataEntity"].Types.Integer,displayName:"sectionSort",formConfig:{required:!0}}};e["a"]=o["IKDataEntity"].ModelFactory($,D)},"5a0c":function(t,e,n){!function(e,n){t.exports=n()}(0,(function(){"use strict";var t=1e3,e=6e4,n=36e5,a="millisecond",r="second",i="minute",o="hour",s="day",u="week",c="month",d="quarter",l="year",p="date",f="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},m=function(t,e,n){var a=String(t);return!a||a.length>=e?t:""+Array(e+1-a.length).join(n)+t},b={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),a=Math.floor(n/60),r=n%60;return(e<=0?"+":"-")+m(a,2,"0")+":"+m(r,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var a=12*(n.year()-e.year())+(n.month()-e.month()),r=e.clone().add(a,c),i=n-r<0,o=e.clone().add(a+(i?-1:1),c);return+(-(a+(n-r)/(i?r-o:o-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:l,w:u,d:s,D:p,h:o,m:i,s:r,ms:a,Q:d}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},v="en",C={};C[v]=g;var D=function(t){return t instanceof O},$=function(t,e,n){var a;if(!t)return v;if("string"==typeof t)C[t]&&(a=t),e&&(C[t]=e,a=t);else{var r=t.name;C[r]=t,a=r}return!n&&a&&(v=a),a||!n&&v},I=function(t,e){if(D(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new O(n)},w=b;w.l=$,w.i=D,w.w=function(t,e){return I(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var O=function(){function g(t){this.$L=$(t.locale,null,!0),this.parse(t)}var m=g.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(w.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var a=e.match(h);if(a){var r=a[2]-1||0,i=(a[7]||"0").substring(0,3);return n?new Date(Date.UTC(a[1],r,a[3]||1,a[4]||0,a[5]||0,a[6]||0,i)):new Date(a[1],r,a[3]||1,a[4]||0,a[5]||0,a[6]||0,i)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return w},m.isValid=function(){return!(this.$d.toString()===f)},m.isSame=function(t,e){var n=I(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return I(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<I(t)},m.$g=function(t,e,n){return w.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,a=!!w.u(e)||e,d=w.p(t),f=function(t,e){var r=w.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return a?r:r.endOf(s)},h=function(t,e){return w.w(n.toDate()[t].apply(n.toDate("s"),(a?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,g=this.$M,m=this.$D,b="set"+(this.$u?"UTC":"");switch(d){case l:return a?f(1,0):f(31,11);case c:return a?f(1,g):f(0,g+1);case u:var v=this.$locale().weekStart||0,C=(y<v?y+7:y)-v;return f(a?m-C:m+(6-C),g);case s:case p:return h(b+"Hours",0);case o:return h(b+"Minutes",1);case i:return h(b+"Seconds",2);case r:return h(b+"Milliseconds",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,u=w.p(t),d="set"+(this.$u?"UTC":""),f=(n={},n[s]=d+"Date",n[p]=d+"Date",n[c]=d+"Month",n[l]=d+"FullYear",n[o]=d+"Hours",n[i]=d+"Minutes",n[r]=d+"Seconds",n[a]=d+"Milliseconds",n)[u],h=u===s?this.$D+(e-this.$W):e;if(u===c||u===l){var y=this.clone().set(p,1);y.$d[f](h),y.init(),this.$d=y.set(p,Math.min(this.$D,y.daysInMonth())).$d}else f&&this.$d[f](h);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[w.p(t)]()},m.add=function(a,d){var p,f=this;a=Number(a);var h=w.p(d),y=function(t){var e=I(f);return w.w(e.date(e.date()+Math.round(t*a)),f)};if(h===c)return this.set(c,this.$M+a);if(h===l)return this.set(l,this.$y+a);if(h===s)return y(1);if(h===u)return y(7);var g=(p={},p[i]=e,p[o]=n,p[r]=t,p)[h]||1,m=this.$d.getTime()+a*g;return w.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||f;var a=t||"YYYY-MM-DDTHH:mm:ssZ",r=w.z(this),i=this.$H,o=this.$m,s=this.$M,u=n.weekdays,c=n.months,d=function(t,n,r,i){return t&&(t[n]||t(e,a))||r[n].substr(0,i)},l=function(t){return w.s(i%12||12,t,"0")},p=n.meridiem||function(t,e,n){var a=t<12?"AM":"PM";return n?a.toLowerCase():a},h={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:w.s(s+1,2,"0"),MMM:d(n.monthsShort,s,c,3),MMMM:d(c,s),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:d(n.weekdaysMin,this.$W,u,2),ddd:d(n.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(i),HH:w.s(i,2,"0"),h:l(1),hh:l(2),a:p(i,o,!0),A:p(i,o,!1),m:String(o),mm:w.s(o,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:r};return a.replace(y,(function(t,e){return e||h[t]||r.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(a,p,f){var h,y=w.p(p),g=I(a),m=(g.utcOffset()-this.utcOffset())*e,b=this-g,v=w.m(this,g);return v=(h={},h[l]=v/12,h[c]=v,h[d]=v/3,h[u]=(b-m)/6048e5,h[s]=(b-m)/864e5,h[o]=b/n,h[i]=b/e,h[r]=b/t,h)[y]||b,f?v:w.a(v)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return C[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),a=$(t,e,!0);return a&&(n.$L=a),n},m.clone=function(){return w.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},g}(),M=O.prototype;return I.prototype=M,[["$ms",a],["$s",r],["$m",i],["$H",o],["$W",s],["$M",c],["$y",l],["$D",p]].forEach((function(t){M[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),I.extend=function(t,e){return t.$i||(t(e,O,I),t.$i=!0),I},I.locale=$,I.isDayjs=D,I.unix=function(t){return I(1e3*t)},I.en=C[v],I.Ls=C,I.p={},I}))},"8c9d":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"fill-height align-start",attrs:{id:"data-tables",fluid:"",tag:"section"}},[n("v-container",{attrs:{fluid:""}},[n("v-card",{attrs:{color:"basil"}},[n("ik-data-table",{ref:"statisticTable",attrs:{model:t.model,"use-action":!1,"use-select":!1,icon:"mdi-calculator-variant","entity-name":t.$t("菜品出库统计"),filter:t.filter},scopedSlots:t._u([{key:"filterLeft",fn:function(){return[n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.dates,"offset-y":""},on:{"update:returnValue":function(e){t.dates=e},"update:return-value":function(e){t.dates=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-text-field",t._g({staticClass:"ml-auto",staticStyle:{"max-width":"250px"},attrs:{"hide-details":"",label:t.$t("日期筛选"),"prepend-icon":"mdi-calendar",readonly:"","single-line":"","append-icon":"mdi-close"},on:{"click:append":function(e){t.dates=[]}},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}},a))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[n("v-date-picker",{attrs:{range:"",locale:"de"},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}},[n("v-spacer"),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v(" "+t._s(t.$t("Cancel"))+" ")]),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.dates)}}},[t._v(" "+t._s(t.$t("OK"))+" ")])],1)],1)]},proxy:!0}])})],1)],1)],1)},r=[],i=n("f4d6"),o=(n("4de4"),n("d81d"),n("13d5"),n("96cf"),n("1da1")),s=n("5089"),u=n("9d8f"),c=n.n(u),d=n("4c03"),l=n("ebc9"),p=n("5a0c"),f=n.n(p),h={dishId:{type:i["IKDataEntity"].Types.Integer,displayName:"id",tableConfig:{align:"start"}},code:{displayName:"code"},name:{displayName:"name"},categoryId:{displayName:"labelName",type:i["IKDataEntity"].Types.Option,formConfig:{type:{selectItems:d["a"].getList,itemText:"_langsname"}}},categoryTypeId:{displayName:"labelType",type:i["IKDataEntity"].Types.Option,formConfig:{type:{selectItems:l["a"].getList}}},totalCount:{displayName:"totalMoneyCount"},totalDelivery:{displayName:"totalDelivery"}},y={load:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var n,a,r,i,o,u,d,l,p,h;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("time filter",e),o=f()().format("YYYY-MM-DD"),u=Object.assign({},{from:null!==(n=e[0].start)&&void 0!==n?n:o,to:null!==(a=e[0].end)&&void 0!==a?a:o}),t.next=5,c.a.get("DCache.php",Object.assign({op:"showAllDCache",lang:s["b"].getLang()},u));case 5:return d=t.sent.content,l=d.filter((function(t){return t.amount<0})).reduce((function(t,e){return t[e.id]?t[e.id]+=-1*parseInt(e.amount):t[e.id]=-1*parseInt(e.amount),t}),{}),p=Object.assign({},{start:null!==(r=e[0].start)&&void 0!==r?r:o,end:null!==(i=e[0].end)&&void 0!==i?i:o}),t.next=10,c.a.get("BackendData.php",Object.assign({op:"dishStatistic",lang:s["b"].getLang()},p));case 10:return h=t.sent.content.map((function(t){var e=t;return l[e.dishId]?e.totalDelivery=l[e.dishId]:e.totalDelivery=0,e})),t.abrupt("return",h);case 12:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},g=i["IKDataEntity"].ModelFactory(h,y),m={components:{IkDataTable:i["IkDataTable"]},data:function(){return{model:g,dates:[],menu:!1}},computed:{filter:function(){if(Date.parse(this.dates[0])>Date.parse(this.dates[1])){var t=[this.dates[1],this.dates[0]];this.dates[0]=t[0],this.dates[1]=t[1]}return{start:this.dates[0],end:this.dates[1]}}},mounted:function(){},methods:{}},b=m,v=n("2877"),C=n("6544"),D=n.n(C),$=n("8336"),I=n("b0af"),w=n("a523"),O=n("2e4b"),M=n("e449"),T=n("2fa4"),N=n("8654"),S=Object(v["a"])(b,a,r,!1,null,null,null);e["default"]=S.exports;D()(S,{VBtn:$["a"],VCard:I["a"],VContainer:w["a"],VDatePicker:O["a"],VMenu:M["a"],VSpacer:T["a"],VTextField:N["a"]})},a86d:function(t,e,n){"use strict";var a=n("f4d6"),r={id:{type:a["IKDataEntity"].Types.Integer,displayName:"id",tableConfig:{align:"start"},formConfig:{requiredNew:!1}},name:{displayName:"Name"},lang:{},desc:{displayName:"Beschreibung",formConfig:{required:!1}}};e["a"]=a["IKDataEntity"].ModelFactory(r,{})},b0d9:function(t,e,n){"use strict";var a=n("5530"),r=(n("96cf"),n("1da1")),i=n("5089"),o=n("f4d6"),s=n("9d8f"),u=n.n(s),c={id:{type:o["IKDataEntity"].Types.Integer,displayName:"id",tableConfig:{align:"start"},form:!1},name:{},printTitle:{},required:{type:o["IKDataEntity"].Types.Boolean},multiSelect:{type:o["IKDataEntity"].Types.Boolean},attrubuteCount:{type:o["IKDataEntity"].Types.Integer,form:!1}},d={load:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u.a.get("Category.php",Object(a["a"])({op:"showAttributeGroup",lang:i["b"].getLang()},e));case 2:return t.abrupt("return",t.sent.content);case 3:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),add:function(t){return u.a.postWithUploadFile("Category.php?op=addAttributeGroup",t,{showLoading:!0})},edit:function(t){return u.a.postWithUploadFile("Category.php?op=updateAttributeGroup",t,{showLoading:!0})},remove:function(t){return u.a.post("Category.php?op=deleteAttributeGroup",{id:t})}};e["a"]=o["IKDataEntity"].ModelFactory(c,d)},ebc9:function(t,e,n){"use strict";var a=n("5530"),r=(n("96cf"),n("1da1")),i=n("5089"),o=n("f4d6"),s=n("9d8f"),u=n.n(s),c={id:{type:o["IKDataEntity"].Types.Integer,displayName:"id",tableConfig:{align:"start"},formConfig:{requiredNew:!1}},name:{},lang:{}},d={load:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u.a.get("CategoryType.php",Object(a["a"])({lang:i["b"].getLang()},e));case 2:return t.abrupt("return",t.sent.content);case 3:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()};e["a"]=o["IKDataEntity"].ModelFactory(c,d)}}]);
//# sourceMappingURL=chunk-3b6a5061.542294a6.js.map