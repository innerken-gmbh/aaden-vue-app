{"version":3,"sources":["webpack:///./src/assets/logonew.png","webpack:///./src/views/Bills/ExportCSV.vue?62ec","webpack:///src/views/Bills/ExportCSV.vue","webpack:///./src/views/Bills/ExportCSV.vue?8590","webpack:///./src/views/Bills/ExportCSV.vue","webpack:///./src/common/common.js"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","scopedSlots","_u","key","fn","_v","_s","$t","proxy","staticStyle","$store","getters","rootCSVUrl","staticRenderFns","component","VBtn","VContainer","formatDate","num","now","Date","nowTime","getTime","oneDayTime","ShowTime","myDate","y","getFullYear","m","getMonth","d","getDate","join","formatFullData","h","getHours","mm","getMinutes","s","getSeconds"],"mappings":"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","file":"js/chunk-0af8d778.35b03154.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/logonew.f17258eb.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('base-material-card',{staticClass:\"px-5 py-3 \",attrs:{\"color\":\"indigo\",\"icon\":\"mdi-vuetify\",\"inline\":\"\"},scopedSlots:_vm._u([{key:\"after-heading\",fn:function(){return [_c('div',{staticClass:\"display-2 font-weight-light\"},[_vm._v(\" \"+_vm._s(_vm.$t('导出CSV'))+\" \")])]},proxy:true}])},[_c('span',{staticClass:\"text-h2 font-weight-bold red--text\"},[_vm._v(_vm._s(_vm.$t('请点击下方按钮导出CSV文件！')))]),_c('v-btn',{staticClass:\"mb-2 mr-10\",staticStyle:{\"font-size\":\"36px\"},attrs:{\"color\":\"primary\",\"dark\":\"\",\"width\":\"100%\",\"height\":\"72px\",\"href\":_vm.$store.getters.rootCSVUrl}},[_vm._v(\" \"+_vm._s(_vm.$t('导出CSV'))+\" \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container\n    fluid\n  >\n    <base-material-card\n      class=\"px-5 py-3 \"\n      color=\"indigo\"\n      icon=\"mdi-vuetify\"\n      inline\n    >\n      <template v-slot:after-heading>\n        <div\n          class=\"display-2 font-weight-light\"\n        >\n          {{ $t('导出CSV') }}\n        </div>\n      </template>\n      <span class=\"text-h2 font-weight-bold red--text\">{{ $t('请点击下方按钮导出CSV文件！') }}</span>\n      <v-btn\n        class=\"mb-2 mr-10\"\n        color=\"primary\"\n        dark\n        width=\"100%\"\n        height=\"72px\"\n        style=\"font-size: 36px\"\n        :href=\"$store.getters.rootCSVUrl\"\n      >\n        {{ $t('导出CSV') }}\n      </v-btn>\n    </base-material-card>\n  </v-container>\n</template>\n\n<script>\n  import { getServantDetail, printServantSummaryBon } from '@/components/Utlis/api'\n  import GlobalSettings from '@/GlobalSettings'\n  import { IKUtils } from 'innerken-js-utils'\n  import { formatDate } from '@/common/common'\n\n  export default {\n    props: {\n      id: {\n        default: -1,\n        type: Number,\n      },\n    },\n    data: function () {\n      return {\n        dates: [],\n        menu: false,\n        loading: false,\n        currentIndex: 0,\n        servantId: this.id,\n        servantData: {},\n        infoList: [],\n        search: '',\n        headers: [\n          {\n            text: 'Id',\n            align: 'start',\n            sortable: false,\n            value: 'orderId',\n          },\n          {\n            text: this.$i18n.t('tableName'),\n            value: 'tableName',\n          },\n          {\n            text: this.$i18n.t('time'),\n            value: 'eatTime',\n          },\n          {\n            text: this.$i18n.t('price'),\n            value: 'totalPrice',\n          },\n          {\n            text: this.$i18n.t('paymentStatus'),\n            value: 'paymentStatus',\n          },\n          {\n            text: this.$i18n.t('action'),\n            value: 'action',\n            sortable: false,\n          },\n        ],\n        desserts: [],\n      }\n    },\n    computed: {\n      src: function () {\n        if (this.servantData.basic) {\n          return this.$store.getters.rootUrl + GlobalSettings.ServantImgRoot + this.servantData.basic.photo\n        } else {\n          return false\n        }\n      },\n      defalutLogoUrl: function () {\n        return 'this.src=' + require('@/assets/logonew.png')\n      },\n    },\n    created () {\n      this.loadDetail(this.servantId)\n    },\n    mounted () {\n      this.dates = [formatDate(0), formatDate(0)]\n      // this.loadDetail(this.servantId)\n    },\n    methods: {\n      goNext (item) {\n        this.$router.push({\n          name: 'Seite mit den Rechnungsdetails',\n          params: { id: item.orderId },\n        })\n      },\n      clear () {\n        this.dates = []\n      },\n      loadDetail (id) {\n        getServantDetail(id).then(res => {\n          this.servantData = res.content\n          this.infoList.push({ text: this.$i18n.t('总单数') + ': ' + this.servantData.display.count })\n          this.infoList.push({ text: this.$i18n.t('今日营业总额') + ': ' + this.servantData.display.totalPrice })\n          this.infoList.push({ text: this.$i18n.t('现金') + ': ' + this.servantData.bar })\n          this.infoList.push({ text: this.$i18n.t('EC') + ': ' + this.servantData.ec })\n          this.infoList.push({ text: this.$i18n.t('tipIncome') + ': ' + this.servantData.display.tip })\n          this.desserts = this.servantData.order\n        })\n      },\n      printSummary (id) {\n        if (this.dates[1] === undefined) {\n          this.dates[1] = this.dates[0]\n        }\n        if (Date.parse(this.dates[0]) > Date.parse(this.dates[1])) {\n          [this.dates[0], this.dates[1]] = [this.dates[1], this.dates[0]]\n        }\n        printServantSummaryBon(id, this.dates[0], this.dates[1]).then(() => {\n          IKUtils.toast()\n        })\n      },\n      goBack () {\n        this.$router.history.go(-1)\n        // this.$router.push({ name: '桌子' })\n      },\n    },\n  }\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportCSV.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportCSV.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExportCSV.vue?vue&type=template&id=97bdd606&scoped=true&\"\nimport script from \"./ExportCSV.vue?vue&type=script&lang=js&\"\nexport * from \"./ExportCSV.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"97bdd606\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VContainer})\n","export function formatDate (num) {\n  const now = new Date()\n  const nowTime = now.getTime()\n  const oneDayTime = 24 * 60 * 60 * 1000\n  const ShowTime = nowTime + num * oneDayTime\n  const myDate = new Date(ShowTime)\n  const y = myDate.getFullYear()\n  const m = myDate.getMonth() + 1\n  const d = myDate.getDate()\n  return [y, m, d].join('-')\n}\n\nexport function formatFullData (num) {\n  const now = new Date()\n  const nowTime = now.getTime()\n  const oneDayTime = 24 * 60 * 60 * 1000\n  const ShowTime = nowTime + num * oneDayTime\n  const myDate = new Date(ShowTime)\n  const y = myDate.getFullYear() + '-'\n  const m = myDate.getMonth() + 1\n  const d = myDate.getDate()\n  const h = myDate.getHours() < 10 ? '0' + myDate.getHours() : myDate.getHours()\n  const mm = myDate.getMinutes() < 10 ? '0' + myDate.getMinutes() : myDate.getMinutes()\n  const s = myDate.getSeconds() < 10 ? '0' + myDate.getSeconds() : myDate.getSeconds()\n  return y + m + '-' + d + ' ' + h + ':' + mm + ':' + s\n}\n"],"sourceRoot":""}