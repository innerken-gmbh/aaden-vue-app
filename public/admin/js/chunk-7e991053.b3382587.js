(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7e991053"],{ccdd:function(t,e,n){"use strict";var a=n("5530"),r=n("641f"),s=n.n(r);e["a"]=Object(a["a"])({},s.a)},cfca:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"fill-height align-start",attrs:{fluid:""}},[n("v-card",[n("v-card-title",{staticClass:"pb-2"},[t._v(" "+t._s(t.$t("Datev"))+" ")]),n("v-card-text",[n("v-row",[t._l(t.datevForm,(function(e,a){return[n("v-col",{key:a,attrs:{cols:"12",md:"4",sm:"6"}},[n("v-text-field",{attrs:{label:e.fieldName,placeholder:e.description,rules:"1"===e.isRequired?[function(){return!!e.value||"This field should not be empty"}]:[]},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"item.value"}})],1)]})),n("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[n("v-btn",{staticClass:"green",attrs:{block:""},on:{click:t.saveConfirm}},[n("v-icon",{attrs:{left:""}},[t._v(" mdi-content-save-outline ")]),t._v(" "+t._s(t.$t("保存"))+" ")],1)],1)],2)],1),n("v-card-text")],1),n("v-card",{staticStyle:{width:"100%"}},[n("v-card-text",[n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("v-text-field",{attrs:{label:"The previous month's Datev will be sent to the tax preparer on the 1st of each month",disabled:""}}),n("v-text-field",{attrs:{label:t.sendStatus,disabled:""}})],1),n("v-col",{attrs:{cols:"6"}},[n("v-text-field",{attrs:{value:t.emailAddress,disabled:"",label:"E-Mail-Adresse des CSV Empfänger"}}),n("v-btn",{staticClass:"primary pt-13",attrs:{block:""},on:{click:t.sendDatevToEmail}},[n("v-icon",{attrs:{left:""}},[t._v(" mdi-send ")]),t._v(" "+t._s(t.$t("发送"))+" ")],1)],1)],1)],1)],1)],1)},r=[],s=(n("7db0"),n("13d5"),n("96cf"),n("1da1")),i=n("f4d6"),o={id:{type:i["IKDataEntity"].Types.Integer,displayName:"id",tableConfig:{align:"start"},formConfig:{requiredNew:!1}},sendDatum:{}},c={load:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",null);case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},u=i["IKDataEntity"].ModelFactory(o,c),l=n("ff51"),d=n("0a61"),m=n("5a0c"),f=n.n(m),h=n("ccdd"),v={name:"Datev",data:function(){return{modelDatevTime:u,datevForm:null,emailAddress:null,sendStatus:null,DateFormLabel:["E-Mail:","Beratenummer:","Mandantennummer:","Datum: (MMTT)","Kleinste Sachkontennummemlänge:","Name:","Verarbeitungskennzeichen:","Konto Für 7% USt:","Konto Für 19% USt:","Konto Für 0% USt:"]}},computed:{filter:function(){if(Date.parse(this.dates[0])>Date.parse(this.dates[1])){var t=[this.dates[1],this.dates[0]];this.dates[0]=t[0],this.dates[1]=t[1]}return{start:this.dates[0],end:this.dates[1]}},filterCashBook:function(){if(Date.parse(this.datesCashBook[0])>Date.parse(this.datesCashBook[1])){var t=[this.datesCashBook[1],this.datesCashBook[0]];this.datesCashBook[0]=t[0],this.datesCashBook[1]=t[1]}return{fromDate:this.datesCashBook[0],toDate:this.datesCashBook[1]}}},watch:{},mounted:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.datesCashBook=[f()().format("YYYY-MM-DD"),Object(l["a"])(0)],e.next=3,Object(d["r"])();case 3:return t.currentAmount=e.sent,e.next=6,t.initialize();case 6:case"end":return e.stop()}}),e)})))()},methods:{sendDatevToEmail:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return h["a"].showLoading(!0),e.next=3,Object(d["M"])();case 3:return n=e.sent,t.sendStatus=n.content.length<=0?"Sent sucessfully!".toUpperCase():n.content[0].toUpperCase(),n.content.length<=0?h["a"].hideLoading(t.sendStatus):h["a"].showError(t.sendStatus,""),e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e)})))()},saveConfirm:function(){var t=this,e=!1;if(this.datevForm.find((function(t){return"1"===t.isRequired&&""===t.value})))return e=!0,h["a"].showError("some field is empty"),!1;e||(console.log("hasEmptyItem",e),Object(d["R"])(this.datevForm).then((function(){h["a"].toast("提交成功"),t.initialize()})))},initialize:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getDatevSettings();case 2:t.datevForm=e.sent,t.emailAddress=t.datevForm.find((function(t){return"sendingToEmail"===t.key})).value;case 4:case"end":return e.stop()}}),e)})))()},clear:function(){this.dates=[Object(l["a"])(0),Object(l["a"])(0)],this.datesCashBook=[Object(l["a"])(0),Object(l["a"])(0)]},calculateTotalPrice:function(t){return parseFloat(this.calculateIncomePrice(t))-parseFloat(this.calculateOutcomePrice(t))},calculateIncomePrice:function(t){return t?t.reduce((function(t,e){return 2!==e.type?t+parseFloat(e.amount):t}),0):0},calculateOutcomePrice:function(t){return t?t.reduce((function(t,e){return 1!==e.type?t+parseFloat(e.amount):t}),0):0},getDatevSettings:function(){return Object(s["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(d["P"])().then((function(t){return t.content}));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})))()}}},p=v,g=n("2877"),b=n("6544"),w=n.n(b),D=n("8336"),k=n("b0af"),C=n("99d9"),x=n("62ad"),T=n("a523"),F=n("132d"),O=n("0fd9"),j=n("8654"),y=Object(g["a"])(p,a,r,!1,null,null,null);e["default"]=y.exports;w()(y,{VBtn:D["a"],VCard:k["a"],VCardText:C["b"],VCardTitle:C["c"],VCol:x["a"],VContainer:T["a"],VIcon:F["a"],VRow:O["a"],VTextField:j["a"]})},ff51:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return s}));n("a15b");function a(t){var e=new Date,n=e.getTime(),a=864e5,r=n+t*a,s=new Date(r),i=s.getFullYear(),o=s.getMonth()+1,c=s.getDate();return[i,o,c].join("-")}function r(t){var e=new Date,n=e.getTime(),a=864e5,r=n+t*a,s=new Date(r),i=s.getFullYear()+"-",o=s.getMonth()+1,c=s.getDate(),u=s.getHours()<10?"0"+s.getHours():s.getHours(),l=s.getMinutes()<10?"0"+s.getMinutes():s.getMinutes(),d=s.getSeconds()<10?"0"+s.getSeconds():s.getSeconds();return i+o+"-"+c+" "+u+":"+l+":"+d}function s(t){var e=t;return e.maxDineTime&&(e.maxDineTime=e.maxDineTime/60),e.roundTime&&(e.roundTime=e.roundTime/60),e}}}]);
//# sourceMappingURL=chunk-7e991053.b3382587.js.map