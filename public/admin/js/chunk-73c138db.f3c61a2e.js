(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-73c138db"],{"0fd9":function(t,e,n){"use strict";var a=n("ade3"),r=n("5530"),s=(n("d3b7"),n("caad"),n("2532"),n("99af"),n("b64b"),n("ac1f"),n("5319"),n("4ec9"),n("3ca3"),n("ddb0"),n("159b"),n("4b85"),n("2b0e")),i=n("d9f7"),c=n("80d2"),o=["sm","md","lg","xl"],u=["start","end","center"];function l(t,e){return o.reduce((function(n,a){return n[t+Object(c["I"])(a)]=e(),n}),{})}var d=function(t){return[].concat(u,["baseline","stretch"]).includes(t)},f=l("align",(function(){return{type:String,default:null,validator:d}})),v=function(t){return[].concat(u,["space-between","space-around"]).includes(t)},h=l("justify",(function(){return{type:String,default:null,validator:v}})),m=function(t){return[].concat(u,["space-between","space-around","stretch"]).includes(t)},b=l("alignContent",(function(){return{type:String,default:null,validator:m}})),p={align:Object.keys(f),justify:Object.keys(h),alignContent:Object.keys(b)},g={align:"align",justify:"justify",alignContent:"align-content"};function j(t,e,n){var a=g[t];if(null!=n){if(e){var r=e.replace(t,"");a+="-".concat(r)}return a+="-".concat(n),a.toLowerCase()}}var w=new Map;e["a"]=s["a"].extend({name:"v-row",functional:!0,props:Object(r["a"])(Object(r["a"])(Object(r["a"])({tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:d}},f),{},{justify:{type:String,default:null,validator:v}},h),{},{alignContent:{type:String,default:null,validator:m}},b),render:function(t,e){var n=e.props,r=e.data,s=e.children,c="";for(var o in n)c+=String(n[o]);var u=w.get(c);return u||function(){var t,e;for(e in u=[],p)p[e].forEach((function(t){var a=n[t],r=j(e,t,a);r&&u.push(r)}));u.push((t={"no-gutters":n.noGutters,"row--dense":n.dense},Object(a["a"])(t,"align-".concat(n.align),n.align),Object(a["a"])(t,"justify-".concat(n.justify),n.justify),Object(a["a"])(t,"align-content-".concat(n.alignContent),n.alignContent),t)),w.set(c,u)}(),t(n.tag,Object(i["a"])(r,{staticClass:"row",class:u}),s)}})},ccdd:function(t,e,n){"use strict";var a=n("5530"),r=n("641f"),s=n.n(r);e["a"]=Object(a["a"])({},s.a)},cfca:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{height:"100vh",flat:""}},[n("v-card",{attrs:{flat:""}},[n("v-card-title",{staticClass:"pb-2"},[t._v(" "+t._s(t.$t("Datev"))+" ")]),n("v-card-text",[n("v-row",[t._l(t.datevForm,(function(e,a){return[n("v-col",{key:a,attrs:{cols:"12",md:"4",sm:"6"}},[n("v-text-field",{attrs:{label:e.fieldName,placeholder:e.description,rules:"1"===e.isRequired?[function(){return!!e.value||"This field should not be empty"}]:[]},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"item.value"}})],1)]})),n("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[n("v-btn",{staticClass:"green",attrs:{block:""},on:{click:t.saveConfirm}},[n("v-icon",{attrs:{left:""}},[t._v(" mdi-content-save-outline ")]),t._v(" "+t._s(t.$t("保存"))+" ")],1)],1)],2)],1),n("v-card-text")],1),n("v-spacer"),n("v-card",{attrs:{flat:""}},[n("v-card-text",[n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("v-text-field",{attrs:{label:"The previous month's Datev will be sent to the tax preparer on the 1st of each month",disabled:""}}),n("v-text-field",{attrs:{label:t.sendStatus,disabled:""}})],1),n("v-col",{attrs:{cols:"6"}},[n("v-text-field",{attrs:{value:t.emailAddress,disabled:"",label:"E-Mail-Adresse des CSV Empfänger"}}),n("v-btn",{staticClass:"primary pt-13",attrs:{block:""},on:{click:t.sendDatevToEmail}},[n("v-icon",{attrs:{left:""}},[t._v(" mdi-send ")]),t._v(" "+t._s(t.$t("发送"))+" ")],1)],1)],1)],1)],1)],1)},r=[],s=n("c7eb"),i=n("1da1"),c=(n("7db0"),n("d3b7"),n("f4d6")),o={id:{type:c["IKDataEntity"].Types.Integer,displayName:"id",tableConfig:{align:"start"},formConfig:{requiredNew:!1}},sendDatum:{}},u={load:function(){var t=Object(i["a"])(Object(s["a"])().mark((function t(e){return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",null);case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},l=c["IKDataEntity"].ModelFactory(o,u),d=n("ff51"),f=n("0a61"),v=n("5a0c"),h=n.n(v),m=n("ccdd"),b={name:"Datev",data:function(){return{modelDatevTime:l,datevForm:null,emailAddress:null,sendStatus:null,DateFormLabel:["E-Mail:","Beratenummer:","Mandantennummer:","Datum: (MMTT)","Kleinste Sachkontennummemlänge:","Name:","Verarbeitungskennzeichen:","Konto Für 7% USt:","Konto Für 19% USt:","Konto Für 0% USt:"]}},computed:{filter:function(){if(Date.parse(this.dates[0])>Date.parse(this.dates[1])){var t=[this.dates[1],this.dates[0]];this.dates[0]=t[0],this.dates[1]=t[1]}return{start:this.dates[0],end:this.dates[1]}},filterCashBook:function(){if(Date.parse(this.datesCashBook[0])>Date.parse(this.datesCashBook[1])){var t=[this.datesCashBook[1],this.datesCashBook[0]];this.datesCashBook[0]=t[0],this.datesCashBook[1]=t[1]}return{fromDate:this.datesCashBook[0],toDate:this.datesCashBook[1]}}},watch:{},mounted:function(){var t=this;return Object(i["a"])(Object(s["a"])().mark((function e(){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.datesCashBook=[h()().format("YYYY-MM-DD"),Object(d["a"])(0)],e.next=3,Object(f["s"])();case 3:return t.currentAmount=e.sent,e.next=6,t.initialize();case 6:case"end":return e.stop()}}),e)})))()},methods:{sendDatevToEmail:function(){var t=this;return Object(i["a"])(Object(s["a"])().mark((function e(){var n;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return m["a"].showLoading(!0),e.next=3,Object(f["N"])();case 3:return n=e.sent,t.sendStatus=n.content.length<=0?"Sent sucessfully!".toUpperCase():n.content[0].toUpperCase(),n.content.length<=0?m["a"].hideLoading(t.sendStatus):m["a"].showError(t.sendStatus,""),e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e)})))()},saveConfirm:function(){var t=this,e=!1;if(this.datevForm.find((function(t){return"1"===t.isRequired&&""===t.value})))return e=!0,m["a"].showError("some field is empty"),!1;e||(console.log("hasEmptyItem",e),Object(f["S"])(this.datevForm).then((function(){m["a"].toast("提交成功"),t.initialize()})))},initialize:function(){var t=this;return Object(i["a"])(Object(s["a"])().mark((function e(){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getDatevSettings();case 2:t.datevForm=e.sent,t.emailAddress=t.datevForm.find((function(t){return"sendingToEmail"===t.key})).value;case 4:case"end":return e.stop()}}),e)})))()},clear:function(){this.dates=[Object(d["a"])(0),Object(d["a"])(0)],this.datesCashBook=[Object(d["a"])(0),Object(d["a"])(0)]},calculateTotalPrice:function(t){return parseFloat(this.calculateIncomePrice(t))-parseFloat(this.calculateOutcomePrice(t))},calculateIncomePrice:function(t){return t?t.reduce((function(t,e){return 2!==e.type?t+parseFloat(e.amount):t}),0):0},calculateOutcomePrice:function(t){return t?t.reduce((function(t,e){return 1!==e.type?t+parseFloat(e.amount):t}),0):0},getDatevSettings:function(){return Object(i["a"])(Object(s["a"])().mark((function t(){var e;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(f["Q"])().then((function(t){return t.content}));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})))()}}},p=b,g=n("2877"),j=n("6544"),w=n.n(j),O=n("8336"),y=n("b0af"),C=n("99d9"),k=n("62ad"),D=n("132d"),x=n("0fd9"),S=n("2fa4"),T=n("8654"),F=Object(g["a"])(p,a,r,!1,null,null,null);e["default"]=F.exports;w()(F,{VBtn:O["a"],VCard:y["a"],VCardText:C["b"],VCardTitle:C["c"],VCol:k["a"],VIcon:D["a"],VRow:x["a"],VSpacer:S["a"],VTextField:T["a"]})},ff51:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return s}));n("a15b");function a(t){var e=new Date,n=e.getTime(),a=864e5,r=n+t*a,s=new Date(r),i=s.getFullYear(),c=s.getMonth()+1,o=s.getDate();return[i,c,o].join("-")}function r(t){var e=new Date,n=e.getTime(),a=864e5,r=n+t*a,s=new Date(r),i=s.getFullYear()+"-",c=s.getMonth()+1,o=s.getDate(),u=s.getHours()<10?"0"+s.getHours():s.getHours(),l=s.getMinutes()<10?"0"+s.getMinutes():s.getMinutes(),d=s.getSeconds()<10?"0"+s.getSeconds():s.getSeconds();return i+c+"-"+o+" "+u+":"+l+":"+d}function s(t){var e=t;return e.maxDineTime&&(e.maxDineTime=e.maxDineTime/60),e.roundTime&&(e.roundTime=e.roundTime/60),e}}}]);
//# sourceMappingURL=chunk-73c138db.f3c61a2e.js.map