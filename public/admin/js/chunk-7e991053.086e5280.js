(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7e991053"],{ccdd:function(t,e,a){"use strict";var n=a("5530"),r=a("641f"),s=a.n(r);e["a"]=Object(n["a"])({},s.a)},cfca:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{height:"100vh",flat:""}},[a("v-card",{attrs:{flat:""}},[a("v-card-title",{staticClass:"pb-2"},[t._v(" "+t._s(t.$t("Datev"))+" ")]),a("v-card-text",[a("v-row",[t._l(t.datevForm,(function(e,n){return[a("v-col",{key:n,attrs:{cols:"12",md:"4",sm:"6"}},[a("v-text-field",{attrs:{label:e.fieldName,placeholder:e.description,rules:"1"===e.isRequired?[function(){return!!e.value||"This field should not be empty"}]:[]},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}})],1)]})),a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-btn",{staticClass:"green",attrs:{block:""},on:{click:t.saveConfirm}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-content-save-outline ")]),t._v(" "+t._s(t.$t("保存"))+" ")],1)],1)],2)],1),a("v-card-text")],1),a("v-spacer"),a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"The previous month's Datev will be sent to the tax preparer on the 1st of each month",disabled:""}}),a("v-text-field",{attrs:{label:t.sendStatus,disabled:""}})],1),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{value:t.emailAddress,disabled:"",label:"E-Mail-Adresse des CSV Empfänger"}}),a("v-btn",{staticClass:"primary pt-13",attrs:{block:""},on:{click:t.sendDatevToEmail}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-send ")]),t._v(" "+t._s(t.$t("发送"))+" ")],1)],1)],1)],1)],1)],1)},r=[],s=a("c7eb"),i=a("1da1"),c=(a("7db0"),a("d3b7"),a("f4d6")),o={id:{type:c["IKDataEntity"].Types.Integer,displayName:"id",tableConfig:{align:"start"},formConfig:{requiredNew:!1}},sendDatum:{}},u={load:function(){var t=Object(i["a"])(Object(s["a"])().mark((function t(e){return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",null);case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},l=c["IKDataEntity"].ModelFactory(o,u),d=a("ff51"),f=a("0a61"),h=a("5a0c"),m=a.n(h),v=a("ccdd"),p={name:"Datev",data:function(){return{modelDatevTime:l,datevForm:null,emailAddress:null,sendStatus:null,DateFormLabel:["E-Mail:","Beratenummer:","Mandantennummer:","Datum: (MMTT)","Kleinste Sachkontennummemlänge:","Name:","Verarbeitungskennzeichen:","Konto Für 7% USt:","Konto Für 19% USt:","Konto Für 0% USt:"]}},computed:{filter:function(){if(Date.parse(this.dates[0])>Date.parse(this.dates[1])){var t=[this.dates[1],this.dates[0]];this.dates[0]=t[0],this.dates[1]=t[1]}return{start:this.dates[0],end:this.dates[1]}},filterCashBook:function(){if(Date.parse(this.datesCashBook[0])>Date.parse(this.datesCashBook[1])){var t=[this.datesCashBook[1],this.datesCashBook[0]];this.datesCashBook[0]=t[0],this.datesCashBook[1]=t[1]}return{fromDate:this.datesCashBook[0],toDate:this.datesCashBook[1]}}},watch:{},mounted:function(){var t=this;return Object(i["a"])(Object(s["a"])().mark((function e(){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.datesCashBook=[m()().format("YYYY-MM-DD"),Object(d["a"])(0)],e.next=3,Object(f["s"])();case 3:return t.currentAmount=e.sent,e.next=6,t.initialize();case 6:case"end":return e.stop()}}),e)})))()},methods:{sendDatevToEmail:function(){var t=this;return Object(i["a"])(Object(s["a"])().mark((function e(){var a;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return v["a"].showLoading(!0),e.next=3,Object(f["N"])();case 3:return a=e.sent,t.sendStatus=a.content.length<=0?"Sent sucessfully!".toUpperCase():a.content[0].toUpperCase(),a.content.length<=0?v["a"].hideLoading(t.sendStatus):v["a"].showError(t.sendStatus,""),e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e)})))()},saveConfirm:function(){var t=this,e=!1;if(this.datevForm.find((function(t){return"1"===t.isRequired&&""===t.value})))return e=!0,v["a"].showError("some field is empty"),!1;e||(console.log("hasEmptyItem",e),Object(f["S"])(this.datevForm).then((function(){v["a"].toast("提交成功"),t.initialize()})))},initialize:function(){var t=this;return Object(i["a"])(Object(s["a"])().mark((function e(){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getDatevSettings();case 2:t.datevForm=e.sent,t.emailAddress=t.datevForm.find((function(t){return"sendingToEmail"===t.key})).value;case 4:case"end":return e.stop()}}),e)})))()},clear:function(){this.dates=[Object(d["a"])(0),Object(d["a"])(0)],this.datesCashBook=[Object(d["a"])(0),Object(d["a"])(0)]},calculateTotalPrice:function(t){return parseFloat(this.calculateIncomePrice(t))-parseFloat(this.calculateOutcomePrice(t))},calculateIncomePrice:function(t){return t?t.reduce((function(t,e){return 2!==e.type?t+parseFloat(e.amount):t}),0):0},calculateOutcomePrice:function(t){return t?t.reduce((function(t,e){return 1!==e.type?t+parseFloat(e.amount):t}),0):0},getDatevSettings:function(){return Object(i["a"])(Object(s["a"])().mark((function t(){var e;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(f["Q"])().then((function(t){return t.content}));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})))()}}},b=p,g=a("2877"),w=a("6544"),D=a.n(w),k=a("8336"),O=a("b0af"),j=a("99d9"),x=a("62ad"),C=a("132d"),T=a("0fd9"),F=a("2fa4"),S=a("8654"),y=Object(g["a"])(b,n,r,!1,null,null,null);e["default"]=y.exports;D()(y,{VBtn:k["a"],VCard:O["a"],VCardText:j["b"],VCardTitle:j["c"],VCol:x["a"],VIcon:C["a"],VRow:T["a"],VSpacer:F["a"],VTextField:S["a"]})},ff51:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return s}));a("a15b");function n(t){var e=new Date,a=e.getTime(),n=864e5,r=a+t*n,s=new Date(r),i=s.getFullYear(),c=s.getMonth()+1,o=s.getDate();return[i,c,o].join("-")}function r(t){var e=new Date,a=e.getTime(),n=864e5,r=a+t*n,s=new Date(r),i=s.getFullYear()+"-",c=s.getMonth()+1,o=s.getDate(),u=s.getHours()<10?"0"+s.getHours():s.getHours(),l=s.getMinutes()<10?"0"+s.getMinutes():s.getMinutes(),d=s.getSeconds()<10?"0"+s.getSeconds():s.getSeconds();return i+c+"-"+o+" "+u+":"+l+":"+d}function s(t){var e=t;return e.maxDineTime&&(e.maxDineTime=e.maxDineTime/60),e.roundTime&&(e.roundTime=e.roundTime/60),e}}}]);
//# sourceMappingURL=chunk-7e991053.086e5280.js.map