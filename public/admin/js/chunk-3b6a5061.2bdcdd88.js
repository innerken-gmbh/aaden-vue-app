(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b6a5061"],{"4c03":function(t,e,n){"use strict";var a=n("b85c"),r=n("c7eb"),i=n("1da1"),s=n("5530"),o=(n("ac1f"),n("00b4"),n("a15b"),n("e9c4"),n("f4d6")),u=n("9d8f"),c=n.n(u),d=n("ebc9"),l=n("a86d"),p=n("5089"),f=n("641f"),h=n.n(f),y=n("c0d6"),g=n("b0d9"),m=Boolean("0"===p["b"].isShowOnTable),b=["#FFCDD2","#F8BBD0","#E1BEE7","#D1C4E9","#C5CAE9","#BBDEFB","#B3E5FC","#B2EBF2","#B2DFDB","#C8E6C9","#DCEDC8","#F0F4C3","#FFF9C4","#FFECB3","#FFE0B2","#FFCCBC","#D7CCC8","#CFD8DC"],v={id:{type:o["IKDataEntity"].Types.Integer,form:!1,table:!1},color:{type:o["IKDataEntity"].Types.Color,formConfig:{required:!1}},dcImage:{type:o["IKDataEntity"].Types.Image,formConfig:{required:!1,type:{root:function(){return y["a"].getters.rootUrl+p["b"].dcImageRoot}}},displayName:"image",header:m},attributeGroupId:{displayName:"attributeGroupNames",type:o["IKDataEntity"].Types.Option,tableConfig:{width:"100px"},formConfig:{required:!1,type:{selectItems:g["a"].getList,multiple:!0}}},_langsname:{displayName:"KategorieName",form:!1},langs:{displayName:"labelName",type:o["IKDataEntity"].Types.Group,formConfig:{groupName:"labelName",default:p["b"].supportLang,childLabelKey:"lang",type:{}},tableConfig:{displayCondition:function(t){return t.lang.toUpperCase()===p["b"].getLang().toUpperCase()},displayChild:function(t){return console.log(t),"name"===t}},childKey:["name","desc"],labelKey:"lang",children:[l["a"],l["a"],l["a"]],header:!1},dishesCategoryTypeId:{displayName:"warengruppe",type:o["IKDataEntity"].Types.Option,formConfig:{type:{selectItems:d["a"].getList}}},printOrder:{type:o["IKDataEntity"].Types.Integer,required:!1,formConfig:{default:50,requiredNew:!1,requiredEdit:!1,rule:[function(t){return/^[0-9]\d*$/.test(t)||"Bitte geben Sie die ganze Zahl ein"}]}},categorySort:{type:o["IKDataEntity"].Types.Integer,displayName:"sectionSort",formConfig:{required:!0}}},$={add:function(t){return t.appliedAttributeGroup=t.attributeGroupId.join(","),t.catTypeId=t.dishesCategoryTypeId,c.a.post("Category.php?op=add",Object(s["a"])(Object(s["a"])({},t),{},{langs:JSON.stringify(t.langs)}),{showLoading:!0})},edit:function(t){return t.appliedAttributeGroup=t.attributeGroupId.join(","),t.catTypeId=t.dishesCategoryTypeId,console.log("label-manage: item()",t),c.a.postWithUploadFile("Category.php?op=update",Object(s["a"])(Object(s["a"])({},t),{},{langs:JSON.stringify(t.langs)}),{showLoading:!0})},remove:function(t){return c.a.post("Category.php?op=delete",{id:t})},load:function(){var t=Object(i["a"])(Object(r["a"])().mark((function t(e){var n;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.a.get("Category.php",e);case 2:return n=t.sent.content,console.log(n,"cate response"),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),randomColor:function(){var t=Object(i["a"])(Object(r["a"])().mark((function t(e){var n,i,o;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:h.a.showLoading(!0),n=Object(a["a"])(e),t.prev=2,n.s();case 4:if((i=n.n()).done){t.next=13;break}return o=i.value,o.appliedAttributeGroup=o.attributeGroupId.join(","),o.catTypeId=o.dishesCategoryTypeId,o.color=b[Math.round(18*Math.random())],t.next=11,c.a.postWithUploadFile("Category.php?op=update",Object(s["a"])(Object(s["a"])({},o),{},{langs:JSON.stringify(o.langs)}),{showLoading:!1});case 11:t.next=4;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](2),n.e(t.t0);case 18:return t.prev=18,n.f(),t.finish(18);case 21:h.a.toast("OK");case 22:case"end":return t.stop()}}),t,null,[[2,15,18,21]])})));function e(e){return t.apply(this,arguments)}return e}(),removeAllColor:function(){var t=Object(i["a"])(Object(r["a"])().mark((function t(e){var n,i,o;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:h.a.showLoading(!0),n=Object(a["a"])(e),t.prev=2,n.s();case 4:if((i=n.n()).done){t.next=13;break}return o=i.value,o.appliedAttributeGroup=o.attributeGroupId.join(","),o.catTypeId=o.dishesCategoryTypeId,o.color="#FFFFFF",t.next=11,c.a.postWithUploadFile("Category.php?op=update",Object(s["a"])(Object(s["a"])({},o),{},{langs:JSON.stringify(o.langs)}),{showLoading:!1});case 11:t.next=4;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](2),n.e(t.t0);case 18:return t.prev=18,n.f(),t.finish(18);case 21:h.a.toast("OK");case 22:case"end":return t.stop()}}),t,null,[[2,15,18,21]])})));function e(e){return t.apply(this,arguments)}return e}(),removeCategoryImage:function(){var t=Object(i["a"])(Object(r["a"])().mark((function t(e){return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.a.post("Category.php?op=removeCategoryImage",Object(s["a"])({},e),{showLoading:!0});case 2:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},D=o["IKDataEntity"].ModelFactory(v,$);console.log("Category",D),e["a"]=D},"5a0c":function(t,e,n){!function(e,n){t.exports=n()}(0,(function(){"use strict";var t=1e3,e=6e4,n=36e5,a="millisecond",r="second",i="minute",s="hour",o="day",u="week",c="month",d="quarter",l="year",p="date",f="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},m=function(t,e,n){var a=String(t);return!a||a.length>=e?t:""+Array(e+1-a.length).join(n)+t},b={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),a=Math.floor(n/60),r=n%60;return(e<=0?"+":"-")+m(a,2,"0")+":"+m(r,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var a=12*(n.year()-e.year())+(n.month()-e.month()),r=e.clone().add(a,c),i=n-r<0,s=e.clone().add(a+(i?-1:1),c);return+(-(a+(n-r)/(i?r-s:s-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:l,w:u,d:o,D:p,h:s,m:i,s:r,ms:a,Q:d}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},v="en",$={};$[v]=g;var D=function(t){return t instanceof I},C=function t(e,n,a){var r;if(!e)return v;if("string"==typeof e){var i=e.toLowerCase();$[i]&&(r=i),n&&($[i]=n,r=i);var s=e.split("-");if(!r&&s.length>1)return t(s[0])}else{var o=e.name;$[o]=e,r=o}return!a&&r&&(v=r),r||!a&&v},O=function(t,e){if(D(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new I(n)},w=b;w.l=C,w.i=D,w.w=function(t,e){return O(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var I=function(){function g(t){this.$L=C(t.locale,null,!0),this.parse(t)}var m=g.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(w.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var a=e.match(h);if(a){var r=a[2]-1||0,i=(a[7]||"0").substring(0,3);return n?new Date(Date.UTC(a[1],r,a[3]||1,a[4]||0,a[5]||0,a[6]||0,i)):new Date(a[1],r,a[3]||1,a[4]||0,a[5]||0,a[6]||0,i)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return w},m.isValid=function(){return!(this.$d.toString()===f)},m.isSame=function(t,e){var n=O(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return O(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<O(t)},m.$g=function(t,e,n){return w.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,a=!!w.u(e)||e,d=w.p(t),f=function(t,e){var r=w.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return a?r:r.endOf(o)},h=function(t,e){return w.w(n.toDate()[t].apply(n.toDate("s"),(a?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,g=this.$M,m=this.$D,b="set"+(this.$u?"UTC":"");switch(d){case l:return a?f(1,0):f(31,11);case c:return a?f(1,g):f(0,g+1);case u:var v=this.$locale().weekStart||0,$=(y<v?y+7:y)-v;return f(a?m-$:m+(6-$),g);case o:case p:return h(b+"Hours",0);case s:return h(b+"Minutes",1);case i:return h(b+"Seconds",2);case r:return h(b+"Milliseconds",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,u=w.p(t),d="set"+(this.$u?"UTC":""),f=(n={},n[o]=d+"Date",n[p]=d+"Date",n[c]=d+"Month",n[l]=d+"FullYear",n[s]=d+"Hours",n[i]=d+"Minutes",n[r]=d+"Seconds",n[a]=d+"Milliseconds",n)[u],h=u===o?this.$D+(e-this.$W):e;if(u===c||u===l){var y=this.clone().set(p,1);y.$d[f](h),y.init(),this.$d=y.set(p,Math.min(this.$D,y.daysInMonth())).$d}else f&&this.$d[f](h);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[w.p(t)]()},m.add=function(a,d){var p,f=this;a=Number(a);var h=w.p(d),y=function(t){var e=O(f);return w.w(e.date(e.date()+Math.round(t*a)),f)};if(h===c)return this.set(c,this.$M+a);if(h===l)return this.set(l,this.$y+a);if(h===o)return y(1);if(h===u)return y(7);var g=(p={},p[i]=e,p[s]=n,p[r]=t,p)[h]||1,m=this.$d.getTime()+a*g;return w.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||f;var a=t||"YYYY-MM-DDTHH:mm:ssZ",r=w.z(this),i=this.$H,s=this.$m,o=this.$M,u=n.weekdays,c=n.months,d=function(t,n,r,i){return t&&(t[n]||t(e,a))||r[n].slice(0,i)},l=function(t){return w.s(i%12||12,t,"0")},p=n.meridiem||function(t,e,n){var a=t<12?"AM":"PM";return n?a.toLowerCase():a},h={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:w.s(o+1,2,"0"),MMM:d(n.monthsShort,o,c,3),MMMM:d(c,o),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:d(n.weekdaysMin,this.$W,u,2),ddd:d(n.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(i),HH:w.s(i,2,"0"),h:l(1),hh:l(2),a:p(i,s,!0),A:p(i,s,!1),m:String(s),mm:w.s(s,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:r};return a.replace(y,(function(t,e){return e||h[t]||r.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(a,p,f){var h,y=w.p(p),g=O(a),m=(g.utcOffset()-this.utcOffset())*e,b=this-g,v=w.m(this,g);return v=(h={},h[l]=v/12,h[c]=v,h[d]=v/3,h[u]=(b-m)/6048e5,h[o]=(b-m)/864e5,h[s]=b/n,h[i]=b/e,h[r]=b/t,h)[y]||b,f?v:w.a(v)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return $[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),a=C(t,e,!0);return a&&(n.$L=a),n},m.clone=function(){return w.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},g}(),M=I.prototype;return O.prototype=M,[["$ms",a],["$s",r],["$m",i],["$H",s],["$W",o],["$M",c],["$y",l],["$D",p]].forEach((function(t){M[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),O.extend=function(t,e){return t.$i||(t(e,I,O),t.$i=!0),O},O.locale=C,O.isDayjs=D,O.unix=function(t){return O(1e3*t)},O.en=$[v],O.Ls=$,O.p={},O}))},"8c9d":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{color:"basil"}},[n("ik-data-table",{ref:"statisticTable",attrs:{model:t.model,"use-action":!1,"use-default-action":!1,"use-select":!1,"use-date-filter":!0,icon:"mdi-calculator-variant","entity-name":t.$t("菜品出库统计")},scopedSlots:t._u([{key:"filterLeft",fn:function(){return[n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.dates,"offset-y":""},on:{"update:returnValue":function(e){t.dates=e},"update:return-value":function(e){t.dates=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-text-field",t._g({staticClass:"ml-auto",staticStyle:{"max-width":"250px"},attrs:{"hide-details":"",label:t.$t("日期筛选"),"prepend-icon":"mdi-calendar",readonly:"","single-line":"","append-icon":"mdi-close"},on:{"click:append":function(e){t.dates=[]}},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}},a))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[n("v-date-picker",{attrs:{range:"",locale:"de"},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}},[n("v-spacer"),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v(" "+t._s(t.$t("Cancel"))+" ")]),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.dates)}}},[t._v(" "+t._s(t.$t("OK"))+" ")])],1)],1)]},proxy:!0}])})],1)},r=[],i=n("f4d6"),s=n("c7eb"),o=n("3835"),u=n("1da1"),c=(n("d3b7"),n("4de4"),n("d81d"),n("5089")),d=n("9d8f"),l=n.n(d),p=n("4c03"),f=n("ebc9"),h=n("5a0c"),y=n.n(h),g={dishId:{type:i["IKDataEntity"].Types.Integer,displayName:"id",tableConfig:{align:"start"}},code:{displayName:"code"},name:{displayName:"name"},categoryId:{displayName:"labelName",type:i["IKDataEntity"].Types.Option,formConfig:{type:{selectItems:p["a"].getList,itemText:"_langsname"}}},categoryTypeId:{displayName:"warengruppe",type:i["IKDataEntity"].Types.Option,formConfig:{type:{selectItems:f["a"].getList}}},totalCount:{displayName:"totalMoneyCount"},totalDelivery:{displayName:"totalDelivery"}},m={load:function(){var t=Object(u["a"])(Object(s["a"])().mark((function t(e){var n,a,r,i,u,d,p,f,h,g;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e[0].dateFilter,a=y()().format("YYYY-MM-DD"),r=Object(o["a"])(n,2),i=r[0],u=r[1],d=Object.assign({},{from:null!==i&&void 0!==i?i:a,to:null!==u&&void 0!==u?u:a}),t.next=6,l.a.get("DCache.php",Object.assign({op:"showAllDCache",lang:c["b"].getLang()},d));case 6:return p=t.sent.content,f=p.filter((function(t){return t.amount<0})).reduce((function(t,e){return t[e.id]?t[e.id]+=-1*parseInt(e.amount):t[e.id]=-1*parseInt(e.amount),t}),{}),h=Object.assign({},{start:null!==i&&void 0!==i?i:a,end:null!==u&&void 0!==u?u:a}),t.next=11,l.a.get("BackendData.php",Object.assign({op:"dishStatistic",lang:c["b"].getLang()},h));case 11:return g=t.sent.content.map((function(t){var e=t;return f[e.dishId]?e.totalDelivery=f[e.dishId]:e.totalDelivery=0,e})),t.abrupt("return",g);case 13:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},b=i["IKDataEntity"].ModelFactory(g,m),v={components:{IkDataTable:i["IkDataTable"]},data:function(){return{model:b,dates:[],menu:!1}},computed:{filter:function(){if(Date.parse(this.dates[0])>Date.parse(this.dates[1])){var t=[this.dates[1],this.dates[0]];this.dates[0]=t[0],this.dates[1]=t[1]}return{start:this.dates[0],end:this.dates[1]}}},mounted:function(){},methods:{}},$=v,D=n("2877"),C=n("6544"),O=n.n(C),w=n("8336"),I=n("b0af"),M=n("2e4b"),j=n("e449"),S=n("2fa4"),T=n("8654"),x=Object(D["a"])($,a,r,!1,null,null,null);e["default"]=x.exports;O()(x,{VBtn:w["a"],VCard:I["a"],VDatePicker:M["a"],VMenu:j["a"],VSpacer:S["a"],VTextField:T["a"]})},a86d:function(t,e,n){"use strict";var a=n("f4d6"),r={id:{type:a["IKDataEntity"].Types.Integer,displayName:"id",tableConfig:{align:"start"},formConfig:{requiredNew:!1}},name:{displayName:"Name"},lang:{},desc:{displayName:"Beschreibung",formConfig:{required:!1}}};e["a"]=a["IKDataEntity"].ModelFactory(r,{})},b0d9:function(t,e,n){"use strict";var a=n("c7eb"),r=n("5530"),i=n("1da1"),s=n("5089"),o=n("f4d6"),u=n("9d8f"),c=n.n(u),d={id:{type:o["IKDataEntity"].Types.Integer,displayName:"id",tableConfig:{align:"start"},form:!1},name:{},printTitle:{},required:{type:o["IKDataEntity"].Types.Boolean},multiSelect:{type:o["IKDataEntity"].Types.Boolean},attrubuteCount:{type:o["IKDataEntity"].Types.Integer,form:!1}},l={load:function(){var t=Object(i["a"])(Object(a["a"])().mark((function t(e){return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.a.get("Category.php",Object(r["a"])({op:"showAttributeGroup",lang:s["b"].getLang()},e));case 2:return t.abrupt("return",t.sent.content);case 3:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),add:function(t){return c.a.postWithUploadFile("Category.php?op=addAttributeGroup",t,{showLoading:!0})},edit:function(t){return c.a.postWithUploadFile("Category.php?op=updateAttributeGroup",t,{showLoading:!0})},remove:function(t){return c.a.post("Category.php?op=deleteAttributeGroup",{id:t})}};e["a"]=o["IKDataEntity"].ModelFactory(d,l)},ebc9:function(t,e,n){"use strict";var a=n("c7eb"),r=n("5530"),i=n("1da1"),s=n("5089"),o=n("f4d6"),u=n("9d8f"),c=n.n(u),d={id:{type:o["IKDataEntity"].Types.Integer,displayName:"id",tableConfig:{align:"start"},formConfig:{requiredNew:!1}},name:{},lang:{}},l={load:function(){var t=Object(i["a"])(Object(a["a"])().mark((function t(e){return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.a.get("CategoryType.php",Object(r["a"])({lang:s["b"].getLang()},e));case 2:return t.abrupt("return",t.sent.content);case 3:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()};e["a"]=o["IKDataEntity"].ModelFactory(d,l)}}]);
//# sourceMappingURL=chunk-3b6a5061.2bdcdd88.js.map