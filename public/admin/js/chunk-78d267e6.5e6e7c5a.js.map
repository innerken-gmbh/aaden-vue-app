{"version":3,"sources":["webpack:///./src/model/Servant.js","webpack:///./src/views/Bills/SimpleAccounting.vue?3a5f","webpack:///./src/model/AccountingStatus.js","webpack:///./src/model/SimpleAccounting.js","webpack:///src/views/Bills/SimpleAccounting.vue","webpack:///./src/views/Bills/SimpleAccounting.vue?a76f","webpack:///./src/views/Bills/SimpleAccounting.vue","webpack:///./src/model/Payment.js","webpack:///./src/model/StringEntity.js","webpack:///./src/common/common.js"],"names":["entity","id","type","IKDataEntity","Types","Integer","displayName","tableConfig","align","form","photo","Image","formConfig","root","store","getters","rootUrl","GlobalSettings","servantRoot","requiredEdit","requiredNew","md","header","name","password","permission","Boolean","isPartTime","config","add","item","hillo","postWithUploadFile","showLoading","edit","file","imageExt","split","lastItem","remove","post","load","filter","get","lang","getLang","content","ModelFactory","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","model","$t","scopedSlots","_u","key","fn","ref","dates","on","$event","_g","staticStyle","clear","value","callback","$$v","expression","menu","_v","_s","$refs","save","proxy","tableItems","calculateIncomePrice","toFixed","calculateOutcomePrice","calculateTotalPrice","staticRenderFns","list","i18n","t","getList","Option","selectItems","AccountingStatus","itemText","amount","payMethodId","Payment","servantId","Servant","createdAt","default","formatFullData","disableNew","disableEdit","remark","Object","assign","op","map","index","component","VBtn","VContainer","VDatePicker","VMenu","VSpacer","VTextField","langs","Group","groupName","supportLang","childLabelKey","displayCondition","toUpperCase","childKey","children","StringEntity","fixedDisplay","isOnline","apiKey","required","JSON","stringify","desc","formatDate","num","now","Date","nowTime","getTime","oneDayTime","ShowTime","myDate","y","getFullYear","m","getMonth","d","getDate","join","h","getHours","mm","getMinutes","s","getSeconds"],"mappings":"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","file":"js/chunk-78d267e6.5e6e7c5a.js","sourcesContent":["import GlobalSettings from '@/GlobalSettings'\nimport store from '../store'\nimport { IKDataEntity } from 'metaflow-js'\nimport hillo from 'hillo'\n\nconst entity = {\n  id: {\n    type: IKDataEntity.Types.Integer,\n    displayName: 'id',\n    tableConfig: {\n      align: 'start',\n    },\n    form: false,\n  },\n  photo: {\n    displayName: 'image',\n    type: IKDataEntity.Types.Image,\n    formConfig: {\n      type: {\n        root: () => store.getters.rootUrl + GlobalSettings.servantRoot,\n      },\n      requiredEdit: false,\n      requiredNew: false,\n      md: 12,\n    },\n    header: false,\n  },\n  name: {\n    displayName: 'servantName',\n  },\n  password: {\n  },\n  permission: {\n    type: IKDataEntity.Types.Boolean,\n  },\n  isPartTime: {\n    type: IKDataEntity.Types.Boolean,\n  },\n}\nconst config = {\n  add: function (item) {\n    return hillo.postWithUploadFile('Servant.php?op=add', item, {\n      showLoading: true,\n    })\n  },\n  edit: function (item) {\n    if (item.file) {\n      item.imageExt = item.file.name.split('.').lastItem\n    }\n    return hillo.postWithUploadFile('Servant.php?op=update', item, {\n      showLoading: true,\n    })\n  },\n  remove: function (id) {\n    return hillo.post('Servant.php?op=delete', { id: id })\n  },\n  load: async function (filter) {\n    return (await hillo.get('Servant.php', { lang: GlobalSettings.getLang(), ...filter }))\n      .content\n  },\n}\n\nexport default IKDataEntity.ModelFactory(entity, config)\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"fill-height align-start\",attrs:{\"id\":\"data-tables\",\"fluid\":\"\",\"tag\":\"section\"}},[_c('v-container',{attrs:{\"fluid\":\"\"}},[_c('ik-data-table',{attrs:{\"model\":_vm.model,\"entity-name\":_vm.$t('我的记账本'),\"icon\":'mdi-devices',\"filter\":_vm.filter,\"use-select\":false,\"use-edit-action\":false},scopedSlots:_vm._u([{key:\"filterLeft\",fn:function(){return [_c('v-menu',{ref:\"menu\",attrs:{\"close-on-content-click\":false,\"return-value\":_vm.dates,\"offset-y\":\"\"},on:{\"update:returnValue\":function($event){_vm.dates=$event},\"update:return-value\":function($event){_vm.dates=$event}},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-text-field',_vm._g({staticClass:\"ml-auto\",staticStyle:{\"max-width\":\"250px\"},attrs:{\"hide-details\":\"\",\"label\":_vm.$t('日期筛选'),\"prepend-icon\":\"mdi-calendar\",\"readonly\":\"\",\"single-line\":\"\",\"append-icon\":\"mdi-close\"},on:{\"click:append\":_vm.clear},model:{value:(_vm.dates),callback:function ($$v) {_vm.dates=$$v},expression:\"dates\"}},on))]}}]),model:{value:(_vm.menu),callback:function ($$v) {_vm.menu=$$v},expression:\"menu\"}},[_c('v-date-picker',{attrs:{\"no-title\":\"\",\"range\":\"\",\"scrollable\":\"\",\"locale\":\"de\"},model:{value:(_vm.dates),callback:function ($$v) {_vm.dates=$$v},expression:\"dates\"}},[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.menu = false}}},[_vm._v(\" \"+_vm._s(_vm.$t('Cancel'))+\" \")]),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$refs.menu.save(_vm.dates)}}},[_vm._v(\" \"+_vm._s(_vm.$t('OK'))+\" \")])],1)],1)]},proxy:true},{key:\"filterRight\",fn:function(ref){\nvar tableItems = ref.tableItems;\nreturn [_c('v-btn',{staticClass:\"ml-4\",attrs:{\"color\":\"green\"}},[_vm._v(\" \"+_vm._s(_vm.$t('incomeAmount'))+\"：€\"+_vm._s(_vm.calculateIncomePrice(tableItems).toFixed(2))+\" \")]),_c('v-btn',{staticClass:\"ml-4\",attrs:{\"color\":\"error\"}},[_vm._v(\" \"+_vm._s(_vm.$t('outcomeAmount'))+\"：€\"+_vm._s(_vm.calculateOutcomePrice(tableItems).toFixed(2))+\" \")]),_c('v-btn',{staticClass:\"ml-4\",attrs:{\"color\":\"#367aeb\"}},[_vm._v(\" \"+_vm._s(_vm.$t('totalAmount'))+\"：€\"+_vm._s(_vm.calculateTotalPrice(tableItems).toFixed(2))+\" \")])]}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import i18n from '../i18n'\nexport default {\n  list: [\n    {\n      id: 1,\n      name: i18n.t('收入'),\n    }, {\n      id: 2,\n      name: i18n.t('支出'),\n    },\n  ],\n  getList: function () {\n    return this.list\n  },\n}\n","import { IKDataEntity } from 'metaflow-js'\nimport hillo from 'hillo'\nimport Servant from './Servant'\nimport Payment from './Payment'\nimport AccountingStatus from './AccountingStatus'\nimport { formatFullData } from '../common/common'\n\nconst entity = {\n  id: {\n    displayName: 'id',\n    tableConfig: {\n      align: 'start',\n    },\n    formConfig: {\n      requiredEdit: false,\n      requiredNew: false,\n    },\n    header: false,\n  },\n  type: {\n    type: IKDataEntity.Types.Option,\n    formConfig: {\n      type: {\n        selectItems: AccountingStatus.list,\n        itemText: 'name',\n      },\n    },\n  },\n  amount: {\n  },\n  payMethodId: {\n    type: IKDataEntity.Types.Option,\n    formConfig: {\n      type: {\n        selectItems: Payment.getList,\n        itemText: '_langsname',\n      },\n    },\n    displayName: 'payMethod',\n  },\n  servantId: {\n    displayName: 'servantName',\n    type: IKDataEntity.Types.Option,\n    formConfig: {\n      type: {\n        selectItems: Servant.getList,\n      },\n    },\n  },\n  createdAt: {\n    formConfig: {\n      default: formatFullData(0),\n      disableNew: true,\n      disableEdit: true,\n      requiredEdit: false,\n      requiredNew: false,\n    },\n  },\n  remark: {\n    formConfig: {\n      requiredEdit: false,\n      requiredNew: false,\n    },\n  },\n}\nconst config = {\n  add: function (item) {\n    return hillo.post('BackendData.php?op=addAccountingLine', item, {\n      showLoading: true,\n    })\n  },\n  remove: function (id) {\n    return hillo.post('BackendData.php?op=deleteAccountingLine', { id: id })\n  },\n  load: async function (filter) {\n    return (await hillo.get('BackendData.php', Object.assign({\n      op: 'getAccountingTable',\n    }, ...filter)))\n      .content.map(function (item, index) {\n        if (item.id === '') { item.id = 'idx' + index }\n        return item\n      })\n  },\n}\n\nexport default IKDataEntity.ModelFactory(entity, config)\n","<template>\n  <v-container\n    id=\"data-tables\"\n    class=\"fill-height align-start\"\n    fluid\n    tag=\"section\"\n  >\n    <v-container\n      fluid\n    >\n      <ik-data-table\n        :model=\"model\"\n        :entity-name=\"$t('我的记账本')\"\n        :icon=\"'mdi-devices'\"\n        :filter=\"filter\"\n        :use-select=\"false\"\n        :use-edit-action=\"false\"\n      >\n        <template v-slot:filterLeft>\n          <v-menu\n            ref=\"menu\"\n            v-model=\"menu\"\n            :close-on-content-click=\"false\"\n            :return-value.sync=\"dates\"\n            offset-y\n          >\n            <template v-slot:activator=\"{ on }\">\n              <v-text-field\n                v-model=\"dates\"\n                class=\"ml-auto\"\n                hide-details\n                :label=\"$t('日期筛选')\"\n                prepend-icon=\"mdi-calendar\"\n                readonly\n                style=\"max-width: 250px;\"\n                single-line\n                append-icon=\"mdi-close\"\n                @click:append=\"clear\"\n                v-on=\"on\"\n              />\n            </template>\n            <v-date-picker\n              v-model=\"dates\"\n              no-title\n              range\n              scrollable\n              locale=\"de\"\n            >\n              <v-spacer/>\n              <v-btn\n                text\n                color=\"primary\"\n                @click=\"menu = false\"\n              >\n                {{ $t('Cancel') }}\n              </v-btn>\n              <v-btn\n                text\n                color=\"primary\"\n                @click=\"$refs.menu.save(dates)\"\n              >\n                {{ $t('OK') }}\n              </v-btn>\n            </v-date-picker>\n          </v-menu>\n        </template>\n        <template v-slot:filterRight=\"{ tableItems }\">\n          <v-btn\n            class=\"ml-4\"\n            color=\"green\"\n          >\n            {{ $t('incomeAmount') }}：€{{ calculateIncomePrice(tableItems).toFixed(2) }}\n          </v-btn>\n          <v-btn\n            class=\"ml-4\"\n            color=\"error\"\n          >\n            {{ $t('outcomeAmount') }}：€{{ calculateOutcomePrice(tableItems).toFixed(2) }}\n          </v-btn>\n          <v-btn\n            class=\"ml-4\"\n            color=\"#367aeb\"\n          >\n            {{ $t('totalAmount') }}：€{{ calculateTotalPrice(tableItems).toFixed(2) }}\n          </v-btn>\n        </template>\n      </ik-data-table>\n    </v-container>\n  </v-container>\n</template>\n\n<script>\n\n  import { IkDataTable } from 'metaflow-js'\n  import SimpleAccounting from '../../model/SimpleAccounting'\n  import { formatDate } from '../../common/common'\n\n  export default {\n    components: { IkDataTable },\n    data: function () {\n      return ({\n        model: SimpleAccounting,\n        dates: [],\n        menu: false,\n      })\n    },\n    computed: {\n      filter () {\n        if (Date.parse(this.dates[0]) > Date.parse(this.dates[1])) {\n          [this.dates[0], this.dates[1]] = [this.dates[1], this.dates[0]]\n        }\n        return { start: this.dates[0], end: this.dates[1] }\n      },\n    },\n    async created () {\n      this.dates = [formatDate(0), formatDate(0)]\n    },\n    methods: {\n      clear () {\n        this.dates = []\n      },\n      calculateTotalPrice (items) {\n        return parseFloat(this.calculateIncomePrice(items)) - parseFloat(this.calculateOutcomePrice(items))\n      },\n      calculateIncomePrice (items) {\n        return items ? items.reduce(\n          (arr, item) =>\n            item.type !== 2 ? arr + parseFloat(item.amount) : arr\n          , 0) : 0\n      },\n      calculateOutcomePrice (items) {\n        return items ? items.reduce(\n          (arr, item) =>\n            item.type !== 1 ? arr + parseFloat(item.amount) : arr\n          , 0) : 0\n      },\n    },\n  }\n\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SimpleAccounting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SimpleAccounting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SimpleAccounting.vue?vue&type=template&id=ceae5446&\"\nimport script from \"./SimpleAccounting.vue?vue&type=script&lang=js&\"\nexport * from \"./SimpleAccounting.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VContainer,VDatePicker,VMenu,VSpacer,VTextField})\n","import { IKDataEntity } from 'metaflow-js'\nimport hillo from 'hillo'\nimport StringEntity from './StringEntity'\nimport GlobalSettings from '@/GlobalSettings'\n\nconst entity = {\n  id: {\n    type: IKDataEntity.Types.Integer,\n    displayName: 'id',\n    tableConfig: {\n      align: 'start',\n    },\n    formConfig: {\n      requiredNew: false,\n    },\n  },\n  langs: {\n    displayName: 'paymentname',\n    type: IKDataEntity.Types.Group,\n    formConfig: {\n      groupName: 'paymentname',\n      default: GlobalSettings.supportLang,\n      childLabelKey: 'lang',\n      type: {},\n    },\n    tableConfig: {\n      displayCondition: (item) => {\n        return item.lang.toUpperCase() === GlobalSettings.getLang()\n      },\n    },\n    childKey: 'name',\n    children: [\n      StringEntity, StringEntity, StringEntity,\n    ],\n  },\n  fixedDisplay: {\n    type: IKDataEntity.Types.Boolean,\n  },\n  isOnline: {\n    displayName: 'isOnline',\n    type: IKDataEntity.Types.Boolean,\n  },\n  apiKey: {\n    required: false,\n    formConfig: {\n      requiredNew: false,\n      requiredEdit: false,\n    },\n  },\n}\nconst config = {\n  add: function (item) {\n    return hillo.post('PayMethod.php?op=add', {\n      ...item,\n      langs: JSON.stringify(item.langs),\n    }, {\n      showLoading: true,\n    })\n  },\n  edit: function (item) {\n    return hillo.postWithUploadFile('PayMethod.php?op=update', {\n      ...item,\n      langs: JSON.stringify(item.langs),\n    }, {\n      showLoading: true,\n    })\n  },\n  remove: function (id) {\n    return hillo.post('PayMethod.php?op=delete', { id: id })\n  },\n  load: async function (filter) {\n    return (await hillo.get('PayMethod.php', {\n      ...filter,\n    })).content\n  },\n}\n\nexport default IKDataEntity.ModelFactory(entity, config)\n","import { IKDataEntity } from 'metaflow-js'\n\nconst entity = {\n  id: {\n    type: IKDataEntity.Types.Integer,\n    displayName: 'id',\n    tableConfig: {\n      align: 'start',\n    },\n    formConfig: {\n      requiredNew: false,\n    },\n  },\n  name: {\n    displayName: 'Name',\n  },\n  lang: {},\n  desc: {\n    displayName: 'Beschreibung',\n    formConfig: {\n      required: false,\n    },\n  },\n}\nexport default IKDataEntity.ModelFactory(entity, {})\n","export function formatDate (num) {\n  const now = new Date()\n  const nowTime = now.getTime()\n  const oneDayTime = 24 * 60 * 60 * 1000\n  const ShowTime = nowTime + num * oneDayTime\n  const myDate = new Date(ShowTime)\n  const y = myDate.getFullYear()\n  const m = myDate.getMonth() + 1\n  const d = myDate.getDate()\n  return [y, m, d].join('-')\n}\n\nexport function formatFullData (num) {\n  const now = new Date()\n  const nowTime = now.getTime()\n  const oneDayTime = 24 * 60 * 60 * 1000\n  const ShowTime = nowTime + num * oneDayTime\n  const myDate = new Date(ShowTime)\n  const y = myDate.getFullYear() + '-'\n  const m = myDate.getMonth() + 1\n  const d = myDate.getDate()\n  const h = myDate.getHours() < 10 ? '0' + myDate.getHours() : myDate.getHours()\n  const mm = myDate.getMinutes() < 10 ? '0' + myDate.getMinutes() : myDate.getMinutes()\n  const s = myDate.getSeconds() < 10 ? '0' + myDate.getSeconds() : myDate.getSeconds()\n  return y + m + '-' + d + ' ' + h + ':' + mm + ':' + s\n}\n"],"sourceRoot":""}