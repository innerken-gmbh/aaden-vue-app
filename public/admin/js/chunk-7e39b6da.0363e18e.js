(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7e39b6da"],{"3bbb":function(t,e,n){"use strict";n("b0c0"),n("ac1f"),n("1276");var a=n("5530"),i=(n("96cf"),n("1da1")),r=n("3405"),o=n("c0d6"),s=n("633c"),c={id:{type:s["IKDataEntity"].Types.Integer,displayName:"id",tableConfig:{align:"start"},form:!1},photo:{displayName:"image",type:s["IKDataEntity"].Types.Image,formConfig:{type:{root:function(){return o["a"].getters.rootUrl+r["a"].servantRoot}},requiredEdit:!1,requiredNew:!1,md:12},header:!1},name:{displayName:"servantName"},password:{},permission:{type:s["IKDataEntity"].Types.Boolean},isPartTime:{type:s["IKDataEntity"].Types.Boolean}},d={add:function(t){return s["hillo"].postWithUploadFile("Servant.php?op=add",t,{showLoading:!0})},edit:function(t){return t.file&&(t.imageExt=t.file.name.split(".").lastItem),s["hillo"].postWithUploadFile("Servant.php?op=update",t,{showLoading:!0})},remove:function(t){return s["hillo"].post("Servant.php?op=delete",{id:t})},load:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s["hillo"].get("Servant.php",Object(a["a"])({lang:r["a"].lang()},e));case 2:return t.abrupt("return",t.sent.content);case 3:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()};e["a"]=s["IKDataEntity"].ModelFactory(c,d)},"6ca7":function(t,e,n){},"8a91":function(t,e,n){"use strict";var a=n("5530"),i=(n("96cf"),n("1da1")),r=n("3405"),o=n("633c"),s=n("3bbb"),c={id:{type:o["IKDataEntity"].Types.Integer,displayName:"id",tableConfig:{align:"start"}},name:{displayName:"sectionName"},servantIds:{displayName:"servantName",type:o["IKDataEntity"].Types.Option,formConfig:{type:{selectItems:s["a"].getList,multiple:!0}}},tableCount:{form:!1}},d={add:function(t){return t.servantIds=JSON.stringify(t.servantIds),o["hillo"].postWithUploadFile("Section.php?op=add",t,{showLoading:!0})},edit:function(t){return t.servantIds=JSON.stringify(t.servantIds),o["hillo"].postWithUploadFile("Section.php?op=update",t,{showLoading:!0})},remove:function(t){return o["hillo"].post("Section.php?op=delete",{id:t})},load:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o["hillo"].get("Section.php",Object(a["a"])({op:"view",lang:r["a"].lang()},e));case 2:return t.abrupt("return",t.sent.content);case 3:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()};e["a"]=o["IKDataEntity"].ModelFactory(c,d)},ac7c:function(t,e,n){"use strict";n("d3b7"),n("25f0");var a=n("5530"),i=(n("6ca7"),n("ec29"),n("9d26")),r=n("c37a"),o=n("fe09");e["a"]=o["a"].extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data:function(){return{inputIndeterminate:this.indeterminate}},computed:{classes:function(){return Object(a["a"])(Object(a["a"])({},r["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate})},computedIcon:function(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState:function(){if(!this.isDisabled||this.inputIndeterminate)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0}},watch:{indeterminate:function(t){var e=this;this.$nextTick((function(){return e.inputIndeterminate=t}))},inputIndeterminate:function(t){this.$emit("update:indeterminate",t)},isActive:function(){this.indeterminate&&(this.inputIndeterminate=!1)}},methods:{genCheckbox:function(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(i["a"],this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon),this.genInput("checkbox",Object(a["a"])(Object(a["a"])({},this.attrs$),{},{"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()})),this.genRipple(this.setTextColor(this.rippleState))])},genDefaultSlot:function(){return[this.genCheckbox(),this.genLabel()]}}})},e348:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"fill-height align-start",attrs:{id:"data-tables",fluid:"",tag:"section"}},[n("v-container",{attrs:{fluid:""}},[n("ik-data-table",{attrs:{model:t.model,icon:"mdi-desktop-tower-monitor","entity-name":t.$t("分区管理")}}),n("v-card",[n("v-toolbar",{attrs:{dense:"",color:"primary",dark:""}},[n("v-toolbar-title",[t._v(t._s(t.$t("分区分布")))]),n("v-spacer")],1),n("v-card-text",[n("v-data-table",{attrs:{dense:"","hide-default-footer":"",headers:t.headers,"items-per-page":100,items:t.tableData},scopedSlots:t._u([t._l(t.sectionHeaders,(function(e,a){return{key:"item."+e.name,fn:function(i){var r=i.item;return[n("v-checkbox",{key:a,attrs:{disabled:t.loading,"input-value":r[e.name]},on:{click:function(n){return t.updateSection(r,e)}}})]}}}))],null,!0)})],1)],1)],1)],1)},i=[],r=(n("99af"),n("4160"),n("c975"),n("d81d"),n("a434"),n("b0c0"),n("159b"),n("96cf"),n("1da1")),o=n("8a91"),s=n("633c"),c=n("3bbb"),d={components:{IkDataTable:s["IkDataTable"]},data:function(){return{model:o["a"],displayData:[],loading:!1,fixedHeader:[{text:"name",value:"name"},{text:"password",value:"password"}],sectionHeaders:[]}},computed:{headers:function(){return this.fixedHeader.concat(this.sectionHeaders)},tableData:function(){var t=this,e=[];return this.displayData.forEach((function(n){t.sectionHeaders.forEach((function(t){t.copyServantsIds=s["IKUtils"].deepCopy(t.servantIds),n.id&&(null!==t.servantIds&&t.servantIds.length>0?n[t.name]=t.servantIds.indexOf(n.id)>-1:n[t.name]=!1)})),e.push(n)})),console.log(e,"item"),e}},mounted:function(){this.loadData()},methods:{updateSection:function(t,e){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n.loading=!1,t[e.name]=!t[e.name],"string"===typeof e.copyServantsIds&&(e.copyServantsIds=JSON.parse(e.copyServantsIds)),t[e.name]?e.copyServantsIds.push(t.id):e.copyServantsIds.splice(e.copyServantsIds.indexOf(t.id),1),e.servantIds=JSON.stringify(e.copyServantsIds),a.next=7,s["hillo"].post("Section.php?op=update",e);case 7:case"end":return a.stop()}}),a)})))()},loadData:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].getList();case 2:return t.sectionHeaders=e.sent.map((function(t){return t.text=t.name,t.value=t.name,t})),e.next=5,c["a"].getList();case 5:t.displayData=e.sent;case 6:case"end":return e.stop()}}),e)})))()}}},u=d,l=n("2877"),p=n("6544"),h=n.n(p),f=n("b0af"),m=n("99d9"),v=n("ac7c"),b=n("a523"),g=n("8fea"),y=n("2fa4"),I=n("71d9"),x=n("2a7f"),S=Object(l["a"])(u,a,i,!1,null,null,null);e["default"]=S.exports;h()(S,{VCard:f["a"],VCardText:m["c"],VCheckbox:v["a"],VContainer:b["a"],VDataTable:g["a"],VSpacer:y["a"],VToolbar:I["a"],VToolbarTitle:x["a"]})}}]);
//# sourceMappingURL=chunk-7e39b6da.0363e18e.js.map