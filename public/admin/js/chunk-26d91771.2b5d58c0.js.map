{"version":3,"sources":["webpack:///../../../src/components/VGrid/grid.ts","webpack:///../../../src/components/VGrid/VContainer.ts","webpack:///./src/components/Utlis/Utils.js","webpack:///./src/views/Bills/Datev.vue?e1b6","webpack:///./src/model/Datev.js","webpack:///src/views/Bills/Datev.vue","webpack:///./src/views/Bills/Datev.vue?b770","webpack:///./src/views/Bills/Datev.vue","webpack:///./src/common/common.js"],"names":["VGrid","name","Vue","extend","functional","props","id","String","tag","type","default","render","h","data","children","staticClass","trim","attrs","classes","Object","keys","filter","key","value","startsWith","length","join","domProps","Grid","fluid","Boolean","mergeData","class","Array","concat","IKUtils","_vm","this","_h","$createElement","_c","_self","_v","_s","$t","_l","item","index","fieldName","description","isRequired","model","callback","$$v","$set","expression","on","saveConfirm","staticStyle","sendStatus","emailAddress","sendDatevToEmail","staticRenderFns","entity","IKDataEntity","Types","Integer","displayName","tableConfig","align","formConfig","requiredNew","sendDatum","config","load","ModelFactory","modelDatevTime","datevForm","DateFormLabel","computed","start","end","filterCashBook","fromDate","toDate","watch","mounted","getCurrentCashAmount","methods","Utils","sendDatevCSVtoReceiver","res","hasEmptyItem","console","updateDatevSettings","initialize","clear","calculateTotalPrice","items","calculateIncomePrice","calculateOutcomePrice","getDatevSettings","showAllDatevSettings","_data","component","VBtn","VCard","VCardText","VCardTitle","VCol","VContainer","VIcon","VRow","VTextField","formatDate","num","now","Date","nowTime","getTime","oneDayTime","ShowTime","myDate","y","getFullYear","m","getMonth","d","getDate","formatFullData","getHours","mm","getMinutes","s","getSeconds","rundTimeSecondToMin","temp","maxDineTime","roundTime"],"mappings":"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","file":"js/chunk-26d91771.2b5d58c0.js","sourcesContent":["// Types\nimport Vue, { VNode } from 'vue'\n\nexport default function VGrid (name: string) {\n  /* @vue/component */\n  return Vue.extend({\n    name: `v-${name}`,\n\n    functional: true,\n\n    props: {\n      id: String,\n      tag: {\n        type: String,\n        default: 'div',\n      },\n    },\n\n    render (h, { props, data, children }): VNode {\n      data.staticClass = (`${name} ${data.staticClass || ''}`).trim()\n\n      const { attrs } = data\n      if (attrs) {\n        // reset attrs to extract utility clases like pa-3\n        data.attrs = {}\n        const classes = Object.keys(attrs).filter(key => {\n          // TODO: Remove once resolved\n          // https://github.com/vuejs/vue/issues/7841\n          if (key === 'slot') return false\n\n          const value = attrs[key]\n\n          // add back data attributes like data-test=\"foo\" but do not\n          // add them as classes\n          if (key.startsWith('data-')) {\n            data.attrs![key] = value\n            return false\n          }\n\n          return value || typeof value === 'string'\n        })\n\n        if (classes.length) data.staticClass += ` ${classes.join(' ')}`\n      }\n\n      if (props.id) {\n        data.domProps = data.domProps || {}\n        data.domProps.id = props.id\n      }\n\n      return h(props.tag, data, children)\n    },\n  })\n}\n","import './_grid.sass'\nimport './VGrid.sass'\n\nimport Grid from './grid'\n\nimport mergeData from '../../util/mergeData'\n\n/* @vue/component */\nexport default Grid('container').extend({\n  name: 'v-container',\n  functional: true,\n  props: {\n    id: String,\n    tag: {\n      type: String,\n      default: 'div',\n    },\n    fluid: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  render (h, { props, data, children }) {\n    let classes\n    const { attrs } = data\n    if (attrs) {\n      // reset attrs to extract utility clases like pa-3\n      data.attrs = {}\n      classes = Object.keys(attrs).filter(key => {\n        // TODO: Remove once resolved\n        // https://github.com/vuejs/vue/issues/7841\n        if (key === 'slot') return false\n\n        const value = attrs[key]\n\n        // add back data attributes like data-test=\"foo\" but do not\n        // add them as classes\n        if (key.startsWith('data-')) {\n          data.attrs![key] = value\n          return false\n        }\n\n        return value || typeof value === 'string'\n      })\n    }\n\n    if (props.id) {\n      data.domProps = data.domProps || {}\n      data.domProps.id = props.id\n    }\n\n    return h(\n      props.tag,\n      mergeData(data, {\n        staticClass: 'container',\n        class: Array<any>({\n          'container--fluid': props.fluid,\n        }).concat(classes || []),\n      }),\n      children\n    )\n  },\n})\n","import IKUtils from 'innerken-js-utils'\n\nexport default {\n  ...IKUtils,\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"fill-height align-start\",attrs:{\"fluid\":\"\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"pb-2\"},[_vm._v(\" \"+_vm._s(_vm.$t('Datev'))+\" \")]),_c('v-card-text',[_c('v-row',[_vm._l((_vm.datevForm),function(item,index){return [_c('v-col',{key:index,attrs:{\"cols\":\"12\",\"md\":\"4\",\"sm\":\"6\"}},[_c('v-text-field',{attrs:{\"label\":item.fieldName,\"placeholder\":item.description,\"rules\":item.isRequired === '1' ? [function () { return !!item.value || 'This field should not be empty'; }] : []},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}})],1)]}),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"4\",\"sm\":\"6\"}},[_c('v-btn',{staticClass:\"green\",attrs:{\"block\":\"\"},on:{\"click\":_vm.saveConfirm}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\" mdi-content-save-outline \")]),_vm._v(\" \"+_vm._s(_vm.$t('保存'))+\" \")],1)],1)],2)],1),_c('v-card-text')],1),_c('v-card',{staticStyle:{\"width\":\"100%\"}},[_c('v-card-text',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-text-field',{attrs:{\"label\":\"The previous month's Datev will be sent to the tax preparer on the 1st of each month\",\"disabled\":\"\"}}),_c('v-text-field',{attrs:{\"label\":_vm.sendStatus,\"disabled\":\"\"}})],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-text-field',{attrs:{\"value\":_vm.emailAddress,\"disabled\":\"\",\"label\":\"E-Mail-Adresse des CSV Empfänger\"}}),_c('v-btn',{staticClass:\"primary pt-13\",attrs:{\"block\":\"\"},on:{\"click\":_vm.sendDatevToEmail}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\" mdi-send \")]),_vm._v(\" \"+_vm._s(_vm.$t('发送'))+\" \")],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { IKDataEntity } from 'metaflow-js'\n\nconst entity = {\n  id: {\n    type: IKDataEntity.Types.Integer,\n    displayName: 'id',\n    tableConfig: {\n      align: 'start',\n    },\n    formConfig: {\n      requiredNew: false,\n    },\n  },\n  sendDatum: {},\n\n}\n\nconst config = {\n  load: async function (filter) {\n    return null\n  },\n  // add:\n\n  // remove:\n\n  // edit\n}\n\nexport default IKDataEntity.ModelFactory(entity, config)\n","<template>\n  <v-container\n    class=\"fill-height align-start\"\n    fluid\n  >\n    <v-card>\n      <v-card-title class=\"pb-2\">\n        {{ $t('Datev') }}\n      </v-card-title>\n\n      <v-card-text>\n        <v-row>\n          <template v-for=\"(item,index) in datevForm \">\n            <v-col\n              :key=\"index\"\n              cols=\"12\"\n              md=\"4\"\n              sm=\"6\"\n            >\n              <v-text-field\n                v-model=\"item.value\"\n                :label=\"item.fieldName\"\n                :placeholder=\"item.description\"\n                :rules=\"item.isRequired === '1' ? [() => !!item.value || 'This field should not be empty'] : []\"\n              />\n            </v-col>\n          </template>\n          <v-col\n            cols=\"12\"\n            md=\"4\"\n            sm=\"6\"\n          >\n            <v-btn\n              block\n              class=\"green\"\n              @click=\"saveConfirm\"\n            >\n              <v-icon left>\n                mdi-content-save-outline\n              </v-icon>\n              {{ $t('保存') }}\n            </v-btn>\n          </v-col>\n        </v-row>\n      </v-card-text>\n\n      <v-card-text/>\n    </v-card>\n\n    <v-card style=\"width: 100%;\">\n      <v-card-text>\n        <v-row>\n          <v-col cols=\"6\">\n            <v-text-field\n              label=\"The previous month's Datev will be sent to the tax preparer on the 1st of each month\"\n              disabled\n            />\n            <v-text-field\n              :label=\"sendStatus\"\n              disabled\n            />\n          </v-col>\n          <v-col cols=\"6\">\n            <v-text-field\n              :value=\"emailAddress\"\n              disabled\n              label=\"E-Mail-Adresse des CSV Empfänger\"\n            />\n            <v-btn\n              block\n              class=\"primary pt-13\"\n              @click=\"sendDatevToEmail\"\n            >\n              <v-icon left>\n                mdi-send\n              </v-icon>\n              {{ $t('发送') }}\n            </v-btn>\n          </v-col>\n        </v-row>\n      </v-card-text>\n    </v-card>\n  </v-container>\n</template>\n\n<script>\n\n  import Datev from '../../model/Datev'\n  import { formatDate } from '@/common/common'\n  import {\n    getCurrentCashAmount,\n    sendDatevCSVtoReceiver,\n    showAllDatevSettings,\n    updateDatevSettings,\n  } from '@/components/Utlis/api'\n  import dayjs from 'dayjs'\n  import Utils from '@/components/Utlis/Utils'\n  // import { IkDataTable } from 'metaflow-js'\n\n  // const today = dayjs().format('YYYY-MM-DD')\n  // const todayDateRange = [today, today]\n  export default {\n    name: 'Datev',\n    // components: { IkDataTable },\n    data: function () {\n      return ({\n        modelDatevTime: Datev,\n        datevForm: null,\n        emailAddress: null,\n        sendStatus: null,\n        DateFormLabel: ['E-Mail:',\n                        'Beratenummer:',\n                        'Mandantennummer:',\n                        'Datum: (MMTT)',\n                        'Kleinste Sachkontennummemlänge:',\n                        'Name:',\n                        'Verarbeitungskennzeichen:',\n                        'Konto Für 7% USt:',\n                        'Konto Für 19% USt:',\n                        'Konto Für 0% USt:',\n        ],\n\n      })\n    },\n    computed: {\n      filter () {\n        if (Date.parse(this.dates[0]) > Date.parse(this.dates[1])) {\n          [this.dates[0], this.dates[1]] = [this.dates[1], this.dates[0]]\n        }\n        return {\n          start: this.dates[0],\n          end: this.dates[1],\n        }\n      },\n\n      filterCashBook () {\n        if (Date.parse(this.datesCashBook[0]) > Date.parse(this.datesCashBook[1])) {\n          [this.datesCashBook[0], this.datesCashBook[1]] = [this.datesCashBook[1], this.datesCashBook[0]]\n        }\n        return {\n          fromDate: this.datesCashBook[0],\n          toDate: this.datesCashBook[1],\n        }\n      },\n\n      // filter () {},\n    },\n    watch: {},\n\n    async mounted () {\n      // this.dates = [formatDate(0), formatDate(0)]\n      this.datesCashBook = [dayjs().format('YYYY-MM-DD'), formatDate(0)]\n      this.currentAmount = await getCurrentCashAmount()\n      // this.datevForm = await this.getDatevSettings()\n      await this.initialize()\n      // console.log('todayDateRange', todayDateRange)\n    },\n    methods: {\n      async sendDatevToEmail () {\n        Utils.showLoading(true)\n        const res = await sendDatevCSVtoReceiver()\n        this.sendStatus = res.content.length <= 0 ? 'Sent sucessfully!'.toUpperCase() : res.content[0].toUpperCase()\n\n        if (res.content.length <= 0) {\n          // Utils.showConfirm(this.sendStatus, '')\n          Utils.hideLoading(this.sendStatus)\n        } else {\n          Utils.showError(this.sendStatus, '')\n        }\n\n        return false\n      },\n\n      saveConfirm () {\n        let hasEmptyItem = false\n\n        if (this.datevForm.find(_ => _.isRequired === '1' && _.value === '')) {\n          hasEmptyItem = true\n          Utils.showError('some field is empty')\n          return false\n        }\n\n        // eslint-disable-next-line no-return-assign\n        // this.datevForm.forEach(_ => _.value = \"'\" + _.value + \"'\")\n\n        if (!hasEmptyItem) {\n          console.log('hasEmptyItem', hasEmptyItem)\n          updateDatevSettings(this.datevForm).then(() => {\n            Utils.toast('提交成功')\n            this.initialize()\n          })\n        }\n      },\n\n      async initialize () {\n        this.datevForm = await this.getDatevSettings()\n        this.emailAddress = this.datevForm.find(_ => _.key === 'sendingToEmail').value\n      },\n\n      clear () {\n        this.dates = [formatDate(0), formatDate(0)]\n        this.datesCashBook = [formatDate(0), formatDate(0)]\n      },\n      calculateTotalPrice (items) {\n        return parseFloat(this.calculateIncomePrice(items)) - parseFloat(this.calculateOutcomePrice(items))\n      },\n      calculateIncomePrice (items) {\n        return items ? items.reduce(\n          (arr, item) =>\n            item.type !== 2 ? arr + parseFloat(item.amount) : arr\n          , 0) : 0\n      },\n      calculateOutcomePrice (items) {\n        return items ? items.reduce(\n          (arr, item) =>\n            item.type !== 1 ? arr + parseFloat(item.amount) : arr\n          , 0) : 0\n      },\n\n      async getDatevSettings () {\n        const _data = await showAllDatevSettings().then(res => res.content)\n        // this.datevForm = _data\n        return _data\n      },\n\n    },\n  }\n\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Datev.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Datev.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Datev.vue?vue&type=template&id=727b073d&\"\nimport script from \"./Datev.vue?vue&type=script&lang=js&\"\nexport * from \"./Datev.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VCol,VContainer,VIcon,VRow,VTextField})\n","export function formatDate (num) {\n  const now = new Date()\n  const nowTime = now.getTime()\n  const oneDayTime = 24 * 60 * 60 * 1000\n  const ShowTime = nowTime + num * oneDayTime\n  const myDate = new Date(ShowTime)\n  const y = myDate.getFullYear()\n  const m = myDate.getMonth() + 1\n  const d = myDate.getDate()\n  return [y, m, d].join('-')\n}\n\nexport function formatFullData (num) {\n  const now = new Date()\n  const nowTime = now.getTime()\n  const oneDayTime = 24 * 60 * 60 * 1000\n  const ShowTime = nowTime + num * oneDayTime\n  const myDate = new Date(ShowTime)\n  const y = myDate.getFullYear() + '-'\n  const m = myDate.getMonth() + 1\n  const d = myDate.getDate()\n  const h = myDate.getHours() < 10 ? '0' + myDate.getHours() : myDate.getHours()\n  const mm = myDate.getMinutes() < 10 ? '0' + myDate.getMinutes() : myDate.getMinutes()\n  const s = myDate.getSeconds() < 10 ? '0' + myDate.getSeconds() : myDate.getSeconds()\n  return y + m + '-' + d + ' ' + h + ':' + mm + ':' + s\n}\n\nexport function rundTimeSecondToMin (item) {\n  const temp = item\n  if (temp.maxDineTime) temp.maxDineTime = temp.maxDineTime / 60\n  if (temp.roundTime) temp.roundTime = temp.roundTime / 60\n  // if(item.)\n  return temp\n}\n"],"sourceRoot":""}