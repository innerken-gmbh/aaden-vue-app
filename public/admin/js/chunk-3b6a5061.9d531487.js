(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b6a5061"],{"4c03":function(t,e,n){"use strict";n("a15b");var a=n("b85c"),r=(n("96cf"),n("1da1")),i=n("5530"),s=n("f4d6"),o=n("9d8f"),u=n.n(o),c=n("ebc9"),l=n("b0d9"),d=n("a86d"),p=n("5089"),f={load:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u.a.get("Category.php",Object(i["a"])({},e));case 2:return t.abrupt("return",t.sent.content);case 3:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},h={id:{type:s["IKDataEntity"].Types.Integer,displayName:"id",tableConfig:{align:"start"},formConfig:{requiredNew:!1}},_langsname:{displayName:"labelName",form:!1},langs:{displayName:"labelName",type:s["IKDataEntity"].Types.Group,formConfig:{groupName:"labelName",default:p["b"].supportLang,childLabelKey:"lang",type:{}},tableConfig:{displayCondition:function(t){return t.lang.toUpperCase()===p["b"].getLang()},displayChild:function(t){return"name"===t}},childKey:["name","desc"],labelKey:"lang",children:[d["a"],d["a"],d["a"]],header:!1}},y=s["IKDataEntity"].ModelFactory(h,f),g=n("641f"),m=n.n(g),b=["#FFCDD2","#F8BBD0","#E1BEE7","#D1C4E9","#C5CAE9","#BBDEFB","#B3E5FC","#B2EBF2","#B2DFDB","#C8E6C9","#DCEDC8","#F0F4C3","#FFF9C4","#FFECB3","#FFE0B2","#FFCCBC","#D7CCC8","#CFD8DC"],v={add:function(t){return t.appliedAttributeGroup=t.attributeGroupId.join(","),t.catTypeId=t.dishesCategoryTypeId,u.a.post("Category.php?op=add",Object(i["a"])(Object(i["a"])({},t),{},{langs:JSON.stringify(t.langs)}),{showLoading:!0})},edit:function(t){return t.appliedAttributeGroup=t.attributeGroupId.join(","),t.catTypeId=t.dishesCategoryTypeId,u.a.postWithUploadFile("Category.php?op=update",Object(i["a"])(Object(i["a"])({},t),{},{langs:JSON.stringify(t.langs)}),{showLoading:!0})},remove:function(t){return u.a.post("Category.php?op=delete",{id:t})},load:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u.a.get("Category.php",Object(i["a"])({},e));case 2:return n=t.sent.content,console.log(n,"cate response"),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),randomColor:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:m.a.showLoading(!0),n=Object(a["a"])(e),t.prev=2,n.s();case 4:if((r=n.n()).done){t.next=13;break}return s=r.value,s.appliedAttributeGroup=s.attributeGroupId.join(","),s.catTypeId=s.dishesCategoryTypeId,s.color=b[Math.round(18*Math.random())],t.next=11,u.a.postWithUploadFile("Category.php?op=update",Object(i["a"])(Object(i["a"])({},s),{},{langs:JSON.stringify(s.langs)}),{showLoading:!1});case 11:t.next=4;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](2),n.e(t.t0);case 18:return t.prev=18,n.f(),t.finish(18);case 21:m.a.toast("OK");case 22:case"end":return t.stop()}}),t,null,[[2,15,18,21]])})));function e(e){return t.apply(this,arguments)}return e}(),removeAllColor:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:m.a.showLoading(!0),n=Object(a["a"])(e);try{for(n.s();!(r=n.n()).done;)s=r.value,s.appliedAttributeGroup=s.attributeGroupId.join(","),s.catTypeId=s.dishesCategoryTypeId,s.color="#FFFFFF",u.a.postWithUploadFile("Category.php?op=update",Object(i["a"])(Object(i["a"])({},s),{},{langs:JSON.stringify(s.langs)}),{showLoading:!1})}catch(o){n.e(o)}finally{n.f()}m.a.toast("OK");case 4:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},D={id:{type:s["IKDataEntity"].Types.Integer,displayName:"id",tableConfig:{align:"start"},formConfig:{requiredNew:!1}},_langsname:{displayName:"labelName",form:!1},langs:{displayName:"labelName",type:s["IKDataEntity"].Types.Group,formConfig:{groupName:"labelName",default:p["b"].supportLang,childLabelKey:"lang",type:{}},tableConfig:{displayCondition:function(t){return t.lang.toUpperCase()===p["b"].getLang().toUpperCase()},displayChild:function(t){return console.log(t),"name"===t}},childKey:["name","desc"],labelKey:"lang",children:[d["a"],d["a"],d["a"]],header:!1},dishesCategoryTypeId:{displayName:"labelType",type:s["IKDataEntity"].Types.Option,formConfig:{type:{selectItems:c["a"].getList}}},attributeGroupId:{displayName:"attributeGroupNames",type:s["IKDataEntity"].Types.Option,tableConfig:{width:"100px"},formConfig:{required:!1,type:{selectItems:l["a"].getList,multiple:!0}}},color:{type:s["IKDataEntity"].Types.Color,formConfig:{required:!1}},printOrder:{type:s["IKDataEntity"].Types.Integer,required:!1,formConfig:{default:50,requiredNew:!1,requiredEdit:!1,rule:[function(t){return/^[0-9]\d*$/.test(t)||"Bitte geben Sie die ganze Zahl ein"}]}},parentId:{type:s["IKDataEntity"].Types.Option,formConfig:{required:!1,type:{selectItems:y.getList,itemText:"_langsname"}},header:!1}};e["a"]=s["IKDataEntity"].ModelFactory(D,v)},"5a0c":function(t,e,n){!function(e,n){t.exports=n()}(0,(function(){"use strict";var t=1e3,e=6e4,n=36e5,a="millisecond",r="second",i="minute",s="hour",o="day",u="week",c="month",l="quarter",d="year",p="date",f="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},m=function(t,e,n){var a=String(t);return!a||a.length>=e?t:""+Array(e+1-a.length).join(n)+t},b={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),a=Math.floor(n/60),r=n%60;return(e<=0?"+":"-")+m(a,2,"0")+":"+m(r,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var a=12*(n.year()-e.year())+(n.month()-e.month()),r=e.clone().add(a,c),i=n-r<0,s=e.clone().add(a+(i?-1:1),c);return+(-(a+(n-r)/(i?r-s:s-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:d,w:u,d:o,D:p,h:s,m:i,s:r,ms:a,Q:l}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},v="en",D={};D[v]=g;var C=function(t){return t instanceof M},$=function(t,e,n){var a;if(!t)return v;if("string"==typeof t)D[t]&&(a=t),e&&(D[t]=e,a=t);else{var r=t.name;D[r]=t,a=r}return!n&&a&&(v=a),a||!n&&v},w=function(t,e){if(C(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new M(n)},I=b;I.l=$,I.i=C,I.w=function(t,e){return w(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var M=function(){function g(t){this.$L=$(t.locale,null,!0),this.parse(t)}var m=g.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(I.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var a=e.match(h);if(a){var r=a[2]-1||0,i=(a[7]||"0").substring(0,3);return n?new Date(Date.UTC(a[1],r,a[3]||1,a[4]||0,a[5]||0,a[6]||0,i)):new Date(a[1],r,a[3]||1,a[4]||0,a[5]||0,a[6]||0,i)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return I},m.isValid=function(){return!(this.$d.toString()===f)},m.isSame=function(t,e){var n=w(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return w(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<w(t)},m.$g=function(t,e,n){return I.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,a=!!I.u(e)||e,l=I.p(t),f=function(t,e){var r=I.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return a?r:r.endOf(o)},h=function(t,e){return I.w(n.toDate()[t].apply(n.toDate("s"),(a?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,g=this.$M,m=this.$D,b="set"+(this.$u?"UTC":"");switch(l){case d:return a?f(1,0):f(31,11);case c:return a?f(1,g):f(0,g+1);case u:var v=this.$locale().weekStart||0,D=(y<v?y+7:y)-v;return f(a?m-D:m+(6-D),g);case o:case p:return h(b+"Hours",0);case s:return h(b+"Minutes",1);case i:return h(b+"Seconds",2);case r:return h(b+"Milliseconds",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,u=I.p(t),l="set"+(this.$u?"UTC":""),f=(n={},n[o]=l+"Date",n[p]=l+"Date",n[c]=l+"Month",n[d]=l+"FullYear",n[s]=l+"Hours",n[i]=l+"Minutes",n[r]=l+"Seconds",n[a]=l+"Milliseconds",n)[u],h=u===o?this.$D+(e-this.$W):e;if(u===c||u===d){var y=this.clone().set(p,1);y.$d[f](h),y.init(),this.$d=y.set(p,Math.min(this.$D,y.daysInMonth())).$d}else f&&this.$d[f](h);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[I.p(t)]()},m.add=function(a,l){var p,f=this;a=Number(a);var h=I.p(l),y=function(t){var e=w(f);return I.w(e.date(e.date()+Math.round(t*a)),f)};if(h===c)return this.set(c,this.$M+a);if(h===d)return this.set(d,this.$y+a);if(h===o)return y(1);if(h===u)return y(7);var g=(p={},p[i]=e,p[s]=n,p[r]=t,p)[h]||1,m=this.$d.getTime()+a*g;return I.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||f;var a=t||"YYYY-MM-DDTHH:mm:ssZ",r=I.z(this),i=this.$H,s=this.$m,o=this.$M,u=n.weekdays,c=n.months,l=function(t,n,r,i){return t&&(t[n]||t(e,a))||r[n].substr(0,i)},d=function(t){return I.s(i%12||12,t,"0")},p=n.meridiem||function(t,e,n){var a=t<12?"AM":"PM";return n?a.toLowerCase():a},h={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:I.s(o+1,2,"0"),MMM:l(n.monthsShort,o,c,3),MMMM:l(c,o),D:this.$D,DD:I.s(this.$D,2,"0"),d:String(this.$W),dd:l(n.weekdaysMin,this.$W,u,2),ddd:l(n.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(i),HH:I.s(i,2,"0"),h:d(1),hh:d(2),a:p(i,s,!0),A:p(i,s,!1),m:String(s),mm:I.s(s,2,"0"),s:String(this.$s),ss:I.s(this.$s,2,"0"),SSS:I.s(this.$ms,3,"0"),Z:r};return a.replace(y,(function(t,e){return e||h[t]||r.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(a,p,f){var h,y=I.p(p),g=w(a),m=(g.utcOffset()-this.utcOffset())*e,b=this-g,v=I.m(this,g);return v=(h={},h[d]=v/12,h[c]=v,h[l]=v/3,h[u]=(b-m)/6048e5,h[o]=(b-m)/864e5,h[s]=b/n,h[i]=b/e,h[r]=b/t,h)[y]||b,f?v:I.a(v)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return D[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),a=$(t,e,!0);return a&&(n.$L=a),n},m.clone=function(){return I.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},g}(),O=M.prototype;return w.prototype=O,[["$ms",a],["$s",r],["$m",i],["$H",s],["$W",o],["$M",c],["$y",d],["$D",p]].forEach((function(t){O[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),w.extend=function(t,e){return t.$i||(t(e,M,w),t.$i=!0),w},w.locale=$,w.isDayjs=C,w.unix=function(t){return w(1e3*t)},w.en=D[v],w.Ls=D,w.p={},w}))},"8c9d":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"fill-height align-start",attrs:{id:"data-tables",fluid:"",tag:"section"}},[n("v-container",{attrs:{fluid:""}},[n("v-card",{attrs:{color:"basil"}},[n("v-card-title",{staticClass:"text-center justify-center py-6"},[n("h1",{staticClass:"font-weight-bold display-3 black--text"},[t._v(" "+t._s(t.$t("菜品出库统计"))+" ")])]),n("ik-data-table",{ref:"statisticTable",attrs:{model:t.model,"use-action":!1,"use-select":!1,icon:"mdi-calculator-variant","entity-name":t.$t("菜品统计"),filter:t.filter},scopedSlots:t._u([{key:"filterLeft",fn:function(){return[n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.dates,"offset-y":""},on:{"update:returnValue":function(e){t.dates=e},"update:return-value":function(e){t.dates=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-text-field",t._g({staticClass:"ml-auto",staticStyle:{"max-width":"250px"},attrs:{"hide-details":"",label:t.$t("日期筛选"),"prepend-icon":"mdi-calendar",readonly:"","single-line":"","append-icon":"mdi-close"},on:{"click:append":function(e){t.dates=[]}},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}},a))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[n("v-date-picker",{attrs:{range:"",locale:"de"},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}},[n("v-spacer"),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v(" "+t._s(t.$t("Cancel"))+" ")]),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.dates)}}},[t._v(" "+t._s(t.$t("OK"))+" ")])],1)],1)]},proxy:!0}])})],1)],1)],1)},r=[],i=n("f4d6"),s=(n("4de4"),n("d81d"),n("13d5"),n("96cf"),n("1da1")),o=n("5089"),u=n("9d8f"),c=n.n(u),l=n("4c03"),d=n("ebc9"),p=n("5a0c"),f=n.n(p),h={dishId:{type:i["IKDataEntity"].Types.Integer,displayName:"id",tableConfig:{align:"start"}},code:{displayName:"code"},name:{displayName:"name"},categoryId:{displayName:"labelName",type:i["IKDataEntity"].Types.Option,formConfig:{type:{selectItems:l["a"].getList,itemText:"_langsname"}}},categoryTypeId:{displayName:"labelType",type:i["IKDataEntity"].Types.Option,formConfig:{type:{selectItems:d["a"].getList}}},price:{displayName:"price"},totalCount:{displayName:"totalMoneyCount"},totalDelivery:{displayName:"totalDelivery"}},y={load:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var n,a,r,i,s,u,l,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e),s=Object.assign({},{from:null!==(n=e[0].start)&&void 0!==n?n:f()().format("YYYY-MM-DD"),to:null!==(a=e[0].end)&&void 0!==a?a:f()().format("YYYY-MM-DD")}),console.log("dishDeliveryFilter",s),t.next=5,c.a.get("DCache.php",Object.assign({op:"showAllDCache",lang:o["b"].getLang()},s));case 5:return u=t.sent.content.filter((function(t){return t.amount<0})).reduce((function(t,e){return t[e.id]?t[e.id]+=e.amount:t[e.id]=e.amount,t}),{}),console.log("tempDCache",u),l=Object.assign({},{start:null!==(r=e[0].start)&&void 0!==r?r:f()().format("YYYY-MM-DD"),end:null!==(i=e[0].end)&&void 0!==i?i:f()().format("YYYY-MM-DD")}),t.next=10,c.a.get("BackendData.php",Object.assign({op:"dishStatistic",lang:o["b"].getLang()},l));case 10:return d=t.sent.content.map((function(t){var e=t,n=e.dishId;return u[n]?(e.totalDelivery=u[n],console.log("temp, tempDCache[temp.dishId] ",e,u[e.dishId])):e.totalDelivery=0,e})),console.log("dishStatistic",d),t.abrupt("return",d);case 13:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},g=i["IKDataEntity"].ModelFactory(h,y),m={components:{IkDataTable:i["IkDataTable"]},data:function(){return{model:g,dates:[],menu:!1}},computed:{filter:function(){if(Date.parse(this.dates[0])>Date.parse(this.dates[1])){var t=[this.dates[1],this.dates[0]];this.dates[0]=t[0],this.dates[1]=t[1]}return{start:this.dates[0],end:this.dates[1]}}},mounted:function(){},methods:{}},b=m,v=n("2877"),D=n("6544"),C=n.n(D),$=n("8336"),w=n("b0af"),I=n("99d9"),M=n("a523"),O=n("2e4b"),T=n("e449"),N=n("2fa4"),S=n("8654"),F=Object(v["a"])(b,a,r,!1,null,null,null);e["default"]=F.exports;C()(F,{VBtn:$["a"],VCard:w["a"],VCardTitle:I["d"],VContainer:M["a"],VDatePicker:O["a"],VMenu:T["a"],VSpacer:N["a"],VTextField:S["a"]})},a86d:function(t,e,n){"use strict";var a=n("f4d6"),r={id:{type:a["IKDataEntity"].Types.Integer,displayName:"id",tableConfig:{align:"start"},formConfig:{requiredNew:!1}},name:{displayName:"Name"},lang:{},desc:{displayName:"Beschreibung",formConfig:{required:!1}}};e["a"]=a["IKDataEntity"].ModelFactory(r,{})},b0d9:function(t,e,n){"use strict";var a=n("5530"),r=(n("96cf"),n("1da1")),i=n("5089"),s=n("f4d6"),o=n("9d8f"),u=n.n(o),c={id:{type:s["IKDataEntity"].Types.Integer,displayName:"id",tableConfig:{align:"start"},form:!1},name:{},printTitle:{},required:{type:s["IKDataEntity"].Types.Boolean},multiSelect:{type:s["IKDataEntity"].Types.Boolean},attrubuteCount:{type:s["IKDataEntity"].Types.Integer,form:!1}},l={load:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u.a.get("Category.php",Object(a["a"])({op:"showAttributeGroup",lang:i["b"].getLang()},e));case 2:return t.abrupt("return",t.sent.content);case 3:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),add:function(t){return u.a.postWithUploadFile("Category.php?op=addAttributeGroup",t,{showLoading:!0})},edit:function(t){return u.a.postWithUploadFile("Category.php?op=updateAttributeGroup",t,{showLoading:!0})},remove:function(t){return u.a.post("Category.php?op=deleteAttributeGroup",{id:t})}};e["a"]=s["IKDataEntity"].ModelFactory(c,l)},ebc9:function(t,e,n){"use strict";var a=n("5530"),r=(n("96cf"),n("1da1")),i=n("5089"),s=n("f4d6"),o=n("9d8f"),u=n.n(o),c={id:{type:s["IKDataEntity"].Types.Integer,displayName:"id",tableConfig:{align:"start"},formConfig:{requiredNew:!1}},name:{},lang:{}},l={load:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u.a.get("CategoryType.php",Object(a["a"])({lang:i["b"].getLang()},e));case 2:return t.abrupt("return",t.sent.content);case 3:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()};e["a"]=s["IKDataEntity"].ModelFactory(c,l)}}]);
//# sourceMappingURL=chunk-3b6a5061.9d531487.js.map