(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-85eb6d4c"],{"3bbb":function(e,t,a){"use strict";a("b0c0"),a("ac1f"),a("1276");var n=a("5530"),r=(a("96cf"),a("1da1")),i=a("5089"),o=a("c0d6"),s=a("f4d6"),d=a("9d8f"),c=a.n(d),p={id:{type:s["IKDataEntity"].Types.Integer,displayName:"id",tableConfig:{align:"start"},form:!1},photo:{displayName:"image",type:s["IKDataEntity"].Types.Image,formConfig:{type:{root:function(){return o["a"].getters.rootUrl+i["a"].servantRoot}},requiredEdit:!1,requiredNew:!1,md:12},header:!1},name:{displayName:"servantName"},password:{},permission:{type:s["IKDataEntity"].Types.Boolean},isPartTime:{type:s["IKDataEntity"].Types.Boolean}},u={add:function(e){return c.a.postWithUploadFile("Servant.php?op=add",e,{showLoading:!0})},edit:function(e){return e.file&&(e.imageExt=e.file.name.split(".").lastItem),c.a.postWithUploadFile("Servant.php?op=update",e,{showLoading:!0})},remove:function(e){return c.a.post("Servant.php?op=delete",{id:e})},load:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.a.get("Servant.php",Object(n["a"])({lang:i["a"].getLang()},t));case 2:return e.abrupt("return",e.sent.content);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()};t["a"]=s["IKDataEntity"].ModelFactory(p,u)},"8a91":function(e,t,a){"use strict";var n=a("5530"),r=(a("96cf"),a("1da1")),i=a("5089"),o=a("f4d6"),s=a("9d8f"),d=a.n(s),c=a("3bbb"),p={id:{type:o["IKDataEntity"].Types.Integer,displayName:"id",tableConfig:{align:"start"}},name:{displayName:"sectionName"},servantIds:{displayName:"servantName",type:o["IKDataEntity"].Types.Option,formConfig:{type:{selectItems:c["a"].getList,multiple:!0}}},tableCount:{form:!1}},u={add:function(e){return e.servantIds=JSON.stringify(e.servantIds),d.a.postWithUploadFile("Section.php?op=add",e,{showLoading:!0})},edit:function(e){return e.servantIds=JSON.stringify(e.servantIds),d.a.postWithUploadFile("Section.php?op=update",e,{showLoading:!0})},remove:function(e){return d.a.post("Section.php?op=delete",{id:e})},load:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("Section.php",Object(n["a"])({op:"view",lang:i["a"].getLang()},t));case 2:return e.abrupt("return",e.sent.content);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()};t["a"]=o["IKDataEntity"].ModelFactory(p,u)},e348:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"fill-height align-start",attrs:{id:"data-tables",fluid:"",tag:"section"}},[a("v-container",{attrs:{fluid:""}},[a("ik-data-table",{attrs:{model:e.model,icon:"mdi-desktop-tower-monitor","entity-name":e.$t("分区管理")}}),a("v-card",[a("v-toolbar",{attrs:{dense:"",color:"primary",dark:""}},[a("v-toolbar-title",[e._v(e._s(e.$t("分区分布")))]),a("v-spacer")],1),a("v-card-text",[a("v-data-table",{attrs:{dense:"","hide-default-footer":"",headers:e.headers,"items-per-page":100,items:e.tableData},scopedSlots:e._u([e._l(e.sectionHeaders,(function(t,n){return{key:"item."+t.name,fn:function(r){var i=r.item;return[a("v-checkbox",{key:n,attrs:{disabled:e.loading,"input-value":i[t.name]},on:{click:function(a){return e.updateSection(i,t)}}})]}}}))],null,!0)})],1)],1)],1)],1)},r=[],i=(a("99af"),a("4160"),a("c975"),a("d81d"),a("a434"),a("b0c0"),a("159b"),a("96cf"),a("1da1")),o=a("8a91"),s=a("3bbb"),d=a("c787"),c=a("f4d6"),p=a("9d8f"),u=a.n(p),l={components:{IkDataTable:c["IkDataTable"]},data:function(){return{model:o["a"],displayData:[],loading:!1,fixedHeader:[{text:"name",value:"name"},{text:"password",value:"password"}],sectionHeaders:[]}},computed:{headers:function(){return this.fixedHeader.concat(this.sectionHeaders)},tableData:function(){var e=this,t=[];return this.displayData.forEach((function(a){e.sectionHeaders.forEach((function(e){e.copyServantsIds=d["default"].deepCopy(e.servantIds),a.id&&(null!==e.servantIds&&e.servantIds.length>0?a[e.name]=e.servantIds.indexOf(a.id)>-1:a[e.name]=!1)})),t.push(a)})),console.log(t,"item"),t}},mounted:function(){this.loadData()},methods:{updateSection:function(e,t){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a.loading=!1,e[t.name]=!e[t.name],"string"===typeof t.copyServantsIds&&(t.copyServantsIds=JSON.parse(t.copyServantsIds)),e[t.name]?t.copyServantsIds.push(e.id):t.copyServantsIds.splice(t.copyServantsIds.indexOf(e.id),1),t.servantIds=JSON.stringify(t.copyServantsIds),n.next=7,u.a.post("Section.php?op=update",t);case 7:case"end":return n.stop()}}),n)})))()},loadData:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o["a"].getList();case 2:return e.sectionHeaders=t.sent.map((function(e){return e.text=e.name,e.value=e.name,e})),t.next=5,s["a"].getList();case 5:e.displayData=t.sent;case 6:case"end":return t.stop()}}),t)})))()}}},f=l,m=a("2877"),v=a("6544"),h=a.n(v),y=a("b0af"),g=a("99d9"),b=a("ac7c"),I=a("a523"),w=a("8fea"),S=a("2fa4"),x=a("71d9"),D=a("2a7f"),k=Object(m["a"])(f,n,r,!1,null,null,null);t["default"]=k.exports;h()(k,{VCard:y["a"],VCardText:g["c"],VCheckbox:b["a"],VContainer:I["a"],VDataTable:w["a"],VSpacer:S["a"],VToolbar:x["a"],VToolbarTitle:D["b"]})}}]);
//# sourceMappingURL=chunk-85eb6d4c.a471fffe.js.map