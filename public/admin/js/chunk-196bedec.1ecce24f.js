(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-196bedec"],{"1f00":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"fill-height align-start",attrs:{fluid:""}},[a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"mb-4"},[a("v-card-title",{staticClass:"font-weight-bold d-flex pa-4 justify-center text-h3"},[t._v(" "+t._s(t.$t("现金总额"))+": "),a("span",{staticClass:"pl-4"},[t._v(" "+t._s(t.currentAmount)+" Euro ")])])],1),a("v-card",{staticClass:"d-flex"},[a("v-card",{staticClass:"pt-3 d-flex pr-1",staticStyle:{width:"33%","border-right":"1px solid lightgrey"},attrs:{flat:""}},[a("v-card-text",[a("v-card-title",{staticClass:"text-h2 font-weight-bold pl-0"},[t._v(" "+t._s(t.$t("现金支出"))+" ")]),a("v-text-field",{attrs:{label:t.$t("直接使用数字，然后点添加记录"),placeholder:t.$t("请输入金额")},model:{value:t.amountCashBook,callback:function(e){t.amountCashBook=e},expression:"amountCashBook"}}),a("v-text-field",{attrs:{label:t.$t("remark"),placeholder:t.$t("请添加备注")},model:{value:t.noteCashBook,callback:function(e){t.noteCashBook=e},expression:"noteCashBook"}}),a("div",{staticStyle:{display:"flex"}},[a("v-spacer"),a("v-btn",{staticClass:"primary mt-2",staticStyle:{height:"48px"},on:{click:function(e){return t.saveCashBook(t.amountCashBook,t.noteCashBook)}}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-content-save-outline ")]),t._v(" "+t._s(t.$t("添加记录"))+" ")],1)],1)],1)],1),a("v-card",{staticClass:"pt-3 d-flex",staticStyle:{width:"33%","border-right":"1px solid lightgrey"},attrs:{flat:""}},[a("v-card-text",[a("v-card-title",{staticClass:"font-weight-bold text-h2 pl-0"},[t._v(" "+t._s(t.$t("买东西支出"))+" ")]),a("v-text-field",{attrs:{label:t.$t("直接使用数字，然后点添加记录"),placeholder:t.$t("请输入金额")},model:{value:t.amountCashBookSpecial,callback:function(e){t.amountCashBookSpecial=e},expression:"amountCashBookSpecial"}}),a("v-text-field",{attrs:{label:t.$t("remark"),placeholder:t.$t("请添加备注")},model:{value:t.noteCashBookSpecial,callback:function(e){t.noteCashBookSpecial=e},expression:"noteCashBookSpecial"}}),a("div",{staticStyle:{display:"flex"}},[a("v-spacer"),a("v-btn",{staticClass:"green white--text mt-2",staticStyle:{height:"48px"},on:{click:function(e){return t.saveCashBook(t.amountCashBookSpecial,t.noteCashBookSpecial,1)}}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-content-save-outline ")]),t._v(" "+t._s(t.$t("添加记录"))+" ")],1)],1)],1)],1),a("v-card",{staticClass:"pt-3 d-flex",staticStyle:{width:"33%"},attrs:{flat:""}},[a("v-card-text",[a("v-card-title",{staticClass:"font-weight-bold text-h2 pl-0"},[t._v(" "+t._s(t.$t("现金收入"))+" ")]),a("v-text-field",{attrs:{label:t.$t("直接使用数字，然后点添加记录"),placeholder:t.$t("请输入金额")},model:{value:t.amountCashBookInput,callback:function(e){t.amountCashBookInput=e},expression:"amountCashBookInput"}}),a("v-text-field",{attrs:{label:t.$t("remark"),placeholder:t.$t("请添加备注")},model:{value:t.noteCashBookInput,callback:function(e){t.noteCashBookInput=e},expression:"noteCashBookInput"}}),a("div",{staticStyle:{display:"flex"}},[a("v-spacer"),a("v-btn",{staticClass:"white--text mt-2",staticStyle:{height:"48px"},on:{click:function(e){return t.saveCashBook(-t.amountCashBookInput,t.noteCashBookInput)}}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-content-save-outline ")]),t._v(" "+t._s(t.$t("添加记录"))+" ")],1)],1)],1)],1)],1),a("ik-data-table",{staticClass:"mt-5",attrs:{model:t.model,"entity-name":t.$t("现金账"),icon:"mdi-devices",filter:t.filter,"use-default-action":!1,"use-select":!1,"use-edit-action":!1},scopedSlots:t._u([{key:"filterLeft",fn:function(){return[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.dates,"offset-y":""},on:{"update:returnValue":function(e){t.dates=e},"update:return-value":function(e){t.dates=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-text-field",t._g({staticClass:"ml-auto",staticStyle:{"max-width":"250px"},attrs:{"hide-details":"",label:t.$t("日期筛选"),"prepend-icon":"mdi-calendar",readonly:"","single-line":"","append-icon":"mdi-close"},on:{"click:append":t.clear},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}},n))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":"",range:"",scrollable:"",locale:"de"},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v(" "+t._s(t.$t("Cancel"))+" ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.dates)}}},[t._v(" "+t._s(t.$t("OK"))+" ")])],1)],1)]},proxy:!0}])})],1)],1)},o=[],s=a("c7eb"),r=a("1da1"),i=a("5530"),c=a("f4d6"),l=a("9d8f"),u=a.n(l),d=a("6f56"),p={orderId:{tableConfig:{align:"start"},formConfig:{requiredEdit:!1,requiredNew:!1},header:!1},payLogId:{type:c["IKDataEntity"].Types.Integer,displayName:"ID",formConfig:{}},payLogAmount:{type:c["IKDataEntity"].Types.Float,displayName:"cash_amount",formConfig:{type:{}}},updateTimestamp:{displayName:"updated_at"},consumeTypeId:{type:c["IKDataEntity"].Types.Option,formConfig:{type:{selectItems:d["a"].getList,itemText:"_langsname"}}},cashAccountNote:{displayName:"remark"}},f={load:function(){var t=Object(r["a"])(Object(s["a"])().mark((function t(e){var a;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("CashBook run"),console.log(e,"i am loaded"),console.log(e[0],"Data"),e[0].toDate||(e[0].toDate=e[0].fromDate),t.next=6,u.a.get("Complex.php?op=getCashInOutDetail",Object(i["a"])({},e[0]));case 6:return a=t.sent.content,console.log("dateCashBook",a),t.abrupt("return",a);case 9:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},h=c["IKDataEntity"].ModelFactory(p,f),m=a("0a61"),v=a("5a0c"),b=a.n(v),C=a("ccdd"),y=b()().format("YYYY-MM-DD"),g=[y,y],k={components:{IkDataTable:c["IkDataTable"]},data:function(){return{model:h,dates:g,amountCashBook:null,amountCashBookSpecial:null,amountCashBookInput:null,noteCashBook:"",noteCashBookSpecial:"",noteCashBookInput:"",menu:!1,currentAmount:-1}},computed:{filter:function(){if(Date.parse(this.dates[0])>Date.parse(this.dates[1])){var t=[this.dates[1],this.dates[0]];this.dates[0]=t[0],this.dates[1]=t[1]}var e={fromDate:this.dates[0],toDate:this.dates[1]};return e}},watch:{},created:function(){var t=this;return Object(r["a"])(Object(s["a"])().mark((function e(){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.showCashAmount();case 2:case"end":return e.stop()}}),e)})))()},methods:{initialize:function(){var t=this;return Object(r["a"])(Object(s["a"])().mark((function e(){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.showCashAmount();case 2:t.clear();case 3:case"end":return e.stop()}}),e)})))()},clear:function(){this.dates=[y,y]},clearInput:function(){this.amountCashBook=0,this.amountCashBookSpecial=0,this.noteCashBook="",this.noteCashBookSpecial=""},showCashAmount:function(){var t=this;return Object(r["a"])(Object(s["a"])().mark((function e(){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(m["s"])();case 2:t.currentAmount=e.sent;case 3:case"end":return e.stop()}}),e)})))()},saveCashBook:function(t,e,a){var n=this;return Object(r["a"])(Object(s["a"])().mark((function o(){return Object(s["a"])().wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(!t){o.next=8;break}return o.next=3,Object(m["G"])(-t,e,a);case 3:return C["a"].toast("保存成功"),o.next=6,n.initialize();case 6:o.next=9;break;case 8:C["a"].showError("金额不能为空");case 9:n.clearInput();case 10:case"end":return o.stop()}}),o)})))()}}},x=k,w=a("2877"),B=a("6544"),O=a.n(B),I=a("8336"),j=a("b0af"),S=a("99d9"),_=a("a523"),D=a("2e4b"),$=a("132d"),N=a("e449"),T=a("2fa4"),E=a("8654"),K=Object(w["a"])(x,n,o,!1,null,null,null);e["default"]=K.exports;O()(K,{VBtn:I["a"],VCard:j["a"],VCardText:S["b"],VCardTitle:S["c"],VContainer:_["a"],VDatePicker:D["a"],VIcon:$["a"],VMenu:N["a"],VSpacer:T["a"],VTextField:E["a"]})},"6f56":function(t,e,a){"use strict";var n=a("c7eb"),o=a("5530"),s=a("1da1"),r=(a("d3b7"),a("159b"),a("07ac"),a("b0c0"),a("e9c4"),a("f4d6")),i=a("9d8f"),c=a.n(i),l=a("5089"),u=a("a86d"),d={id:{type:r["IKDataEntity"].Types.Integer,displayName:"id",tableConfig:{align:"start"},formConfig:{requiredNew:!1}},langs:{displayName:"name",type:r["IKDataEntity"].Types.Group,formConfig:{groupName:"name",default:l["b"].supportLang,childLabelKey:"lang",type:{}},tableConfig:{displayCondition:function(t){return t.lang.toUpperCase()===l["b"].getLang()},displayChild:function(t){return"name"===t}},childKey:["name","desc"],labelKey:"lang",children:[u["a"],u["a"],u["a"]],header:!1},name:{displayName:"shownName",form:!1},printName:{displayName:"printTitle"},zbonGroup:{displayName:"zbonGroup"},color:{type:r["IKDataEntity"].Types.Color,formConfig:{required:!1}}},p={load:function(){var t=Object(s["a"])(Object(n["a"])().mark((function t(e){var a;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.a.get("Complex.php",Object(o["a"])({op:"showAllConsumeTypeInfo",lang:l["b"].getLang()},e));case 2:return a=t.sent.content,console.log(a,"response"),a.forEach((function(t){t.langs=Object.values(t.langs)})),t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),add:function(t){return t.name=t.langs[2].name,c.a.post("ConsumeType.php?op=add",Object(o["a"])(Object(o["a"])({},t),{},{langs:JSON.stringify(t.langs)}),{showLoading:!0})},edit:function(t){return t.name=t.langs[2].name,c.a.postWithUploadFile("ConsumeType.php?op=update",Object(o["a"])(Object(o["a"])({},t),{},{langs:JSON.stringify(t.langs)}),{showLoading:!0})},remove:function(t){return c.a.post("ConsumeType.php?op=delete",{id:t})}};e["a"]=r["IKDataEntity"].ModelFactory(d,p)},a523:function(t,e,a){"use strict";a("4de4"),a("d3b7"),a("b64b"),a("2ca0"),a("99af"),a("20f6"),a("4b85"),a("498a"),a("a15b");var n=a("2b0e");function o(t){return n["a"].extend({name:"v-".concat(t),functional:!0,props:{id:String,tag:{type:String,default:"div"}},render:function(e,a){var n=a.props,o=a.data,s=a.children;o.staticClass="".concat(t," ").concat(o.staticClass||"").trim();var r=o.attrs;if(r){o.attrs={};var i=Object.keys(r).filter((function(t){if("slot"===t)return!1;var e=r[t];return t.startsWith("data-")?(o.attrs[t]=e,!1):e||"string"===typeof e}));i.length&&(o.staticClass+=" ".concat(i.join(" ")))}return n.id&&(o.domProps=o.domProps||{},o.domProps.id=n.id),e(n.tag,o,s)}})}var s=a("d9f7");e["a"]=o("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render:function(t,e){var a,n=e.props,o=e.data,r=e.children,i=o.attrs;return i&&(o.attrs={},a=Object.keys(i).filter((function(t){if("slot"===t)return!1;var e=i[t];return t.startsWith("data-")?(o.attrs[t]=e,!1):e||"string"===typeof e}))),n.id&&(o.domProps=o.domProps||{},o.domProps.id=n.id),t(n.tag,Object(s["a"])(o,{staticClass:"container",class:Array({"container--fluid":n.fluid}).concat(a||[])}),r)}})},a86d:function(t,e,a){"use strict";var n=a("f4d6"),o={id:{type:n["IKDataEntity"].Types.Integer,displayName:"id",tableConfig:{align:"start"},formConfig:{requiredNew:!1}},name:{displayName:"Name"},lang:{},desc:{displayName:"Beschreibung",formConfig:{required:!1}}};e["a"]=n["IKDataEntity"].ModelFactory(o,{})},ccdd:function(t,e,a){"use strict";var n=a("5530"),o=a("641f"),s=a.n(o);e["a"]=Object(n["a"])({},s.a)}}]);
//# sourceMappingURL=chunk-196bedec.1ecce24f.js.map