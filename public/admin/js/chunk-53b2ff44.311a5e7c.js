(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-53b2ff44"],{"5c3a8":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{id:"dashboard",fluid:"",tag:"section"}},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"8"}},[a("v-card",{attrs:{color:"basil"}},[a("v-card-title",{staticClass:"text-center justify-center py-5"},[a("h1",{staticClass:"font-weight-bold text-h3 display-3 basil--text"},[t._v(" "+t._s(t.restaurantName)+" ")])]),a("v-tabs",{attrs:{"background-color":"transparent",color:"basil",grow:""}},[t._l(t.items,(function(e,s){return a("v-tab",{key:s},[t._v(" "+t._s(e)+" ")])})),a("v-tab-item",[a("v-row",[a("v-col",{attrs:{cols:"12",md:void 0!==t.unpaidTable&&t.unpaidTable.length>0?8:12}},[a("base-material-card",{staticClass:"px-5 py-3",attrs:{id:"coloured-line",color:"warning",icon:"mdi-chart-timeline-variant"},scopedSlots:t._u([{key:"after-heading",fn:function(){return[a("div",{staticClass:"display-1 font-weight-light mt-2"},[t._v(" "+t._s(t.$t("销售数据统计"))+" ")])]},proxy:!0}])},[a("chartist",{staticClass:"mt-3",staticStyle:{"max-height":"300px"},attrs:{data:t.salesData,options:t.salesDataChart.options,type:"Line"}}),a("v-divider",{staticClass:"ma-3"}),a("div",{staticClass:"px-3"},[a("div",{staticClass:"body-2 text-uppercase grey--text font-weight-bold mb-3"},[t._v(" Legend ")]),a("v-row",{staticClass:"ma-0",attrs:{align:"center"}},[a("v-avatar",{staticClass:"mr-1",attrs:{color:"info",size:"12"}}),a("span",{staticClass:"mr-3 font-weight-light"},[t._v(t._s(t.$t("Food")))]),a("v-avatar",{staticClass:"mr-1",attrs:{color:"red",size:"12"}}),a("span",{staticClass:"mr-3 font-weight-light"},[t._v(t._s(t.$t("Drinks")))])],1)],1)],1)],1),a("v-col",{attrs:{cols:"12",md:void 0!==t.unpaidTable&&t.unpaidTable.length>0?4:0}},[void 0!==t.unpaidTable&&t.unpaidTable.length>0?a("v-card",{staticClass:"mr-2"},[a("v-card-title",{staticClass:"text-h4 font-weight-bold"},[t._v(" "+t._s(t.$t("未结账桌子"))+" "),a("v-btn",{attrs:{icon:"",large:"",color:"primary"},on:{click:t.reloadData}},[a("v-icon",[t._v("mdi-cached")])],1)],1),a("v-divider"),a("div",{staticClass:"py-6 px-6"},t._l(t.unpaidTable,(function(e,s){return a("div",{key:s,staticClass:"d-flex justify-space-between text-subtitle-2"},[a("div",[t._v(t._s(t.$t("桌号"))+": "+t._s(e.tableName))]),a("div",[t._v(t._s(e.totalPrice)+"€")])])})),0)],1):t._e()],1)],1)],1),a("v-tab-item",[a("base-material-card",{staticClass:"px-5 py-3",attrs:{color:"primary",icon:"mdi-account",inline:""},scopedSlots:t._u([{key:"after-heading",fn:function(){return[a("div",{staticClass:"display-1 font-weight-light mt-2"},[t._v(" "+t._s(t.$t("随时更新，随时掌握营销状况"))+" ")])]},proxy:!0}])},[a("v-card-text",[a("v-data-table",{attrs:{headers:t.servantHeader,items:t.thisMonthServantRank},scopedSlots:t._u([{key:"item.photo",fn:function(e){var s=e.item;return[a("v-avatar",{attrs:{tile:""}},[a("v-img",{attrs:{src:t.servantImgRoot+s.photo,height:"48px",width:"48px"}})],1)]}}])})],1)],1)],1)],2)],1)],1),a("v-col",{attrs:{cols:"12",md:"4"}},[void 0!==t.realTimeIncomeList?a("v-card",[a("v-card-title",{staticClass:"text-center justify-center text-h3 font-weight-bold"},[a("div",[t._v(t._s(t.$t("日结单")))]),a("v-btn",{attrs:{icon:"",large:"",color:"primary"},on:{click:t.reloadData}},[a("v-icon",[t._v("mdi-cached")])],1)],1),a("v-divider",{staticClass:"mx-2 my-2 mt-0"}),a("v-card-title",{staticClass:"subheading font-weight-bold"},[a("div",[t._v(t._s(t.$t("今日销售额(含未结单)")))]),a("v-spacer"),a("div",[t._v(t._s(t.realTimeIncomeList.sumIncome)+"€")])],1),a("v-card-title",{staticClass:"subheading font-weight-bold"},[void 0!==t.taxInfos?a("div",[t._v(" "+t._s(t.$t("今日销售额(已结单)"))+" ")]):t._e(),a("v-spacer"),void 0!==t.taxInfos?a("div",[t._v(" "+t._s(t._f("priceDisplay")(t.taxInfos[0].taxGroupTotal+ +t.taxInfos[3].taxGroupTotal))+"€ ")]):t._e()],1),a("v-divider"),a("div",{staticClass:"py-6 px-6 pb-2"},[void 0!==t.taxInfos&&t.taxInfos.length<9?a("div",[a("div",{staticClass:"d-flex justify-space-between text-subtitle-2 grey--text text--darken-2"},[a("div",[t._v(t._s(t.$t("Umsatz In Haus 5%")))]),a("div",[t._v(t._s(t._f("priceDisplay")(t.taxInfos[0].taxGroupTotal))+"€")])]),a("div",{staticClass:"d-flex justify-space-between text-subtitle-2 grey--text text--darken-2"},[a("div",[t._v(t._s(t.$t("Umsatz Ausser Haus 5%")))]),a("div",[t._v(t._s(t._f("priceDisplay")(t.taxInfos[1].taxGroupTotal))+"€")])]),a("v-divider",{staticClass:"mx-2 my-2"}),a("div",{staticClass:"d-flex justify-space-between font-weight-black grey--text text--darken-2"},[a("div",[t._v(t._s(t.$t("GesamtUmsatz 5%")))]),a("div",[t._v(t._s(t._f("priceDisplay")(t.taxInfos[0].taxGroupTotal+t.taxInfos[1].taxGroupTotal))+"€")])]),a("div",{staticClass:"d-flex justify-space-between grey--text text--darken-2"},[a("div",[t._v("-"+t._s(t.$t("Netto 5%")))]),a("div",[t._v(" "+t._s(t._f("priceDisplay")(t.taxInfos[0].taxGroupTotal/(1+t.taxInfos[0].taxRateGroupValue)*t.taxInfos[0].taxRateGroupValue+t.taxInfos[1].taxGroupTotal/(1+t.taxInfos[1].taxRateGroupValue)*t.taxInfos[1].taxRateGroupValue))+"€ ")])]),a("div",{staticClass:"d-flex justify-space-between grey--text text--darken-2"},[a("div",[t._v("-"+t._s(t.$t("Nwst 5%")))]),a("div",[t._v(" "+t._s(t._f("priceDisplay")(t.taxInfos[0].taxGroupTotal/(1+t.taxInfos[0].taxRateGroupValue)+t.taxInfos[1].taxGroupTotal/(1+t.taxInfos[1].taxRateGroupValue)))+"€ ")])]),a("v-divider",{staticClass:"mx-2 my-2"}),a("div",{staticClass:"d-flex justify-space-between text-subtitle-2 grey--text text--darken-2"},[a("div",[t._v(t._s(t.$t("Umsatz In Haus 16%")))]),a("div",[t._v(t._s(t._f("priceDisplay")(t.taxInfos[2].taxGroupTotal))+"€")])]),a("div",{staticClass:"d-flex justify-space-between text-subtitle-2 grey--text text--darken-2"},[a("div",[t._v(t._s(t.$t("Umsatz Ausser Haus 16%")))]),a("div",[t._v(t._s(t._f("priceDisplay")(t.taxInfos[3].taxGroupTotal))+"€")])]),a("v-divider",{staticClass:"mx-2 my-2"}),a("div",{staticClass:"d-flex justify-space-between font-weight-black grey--text text--darken-2"},[a("div",[t._v(t._s(t.$t("GesamtUmsatz 16%")))]),a("div",[t._v(t._s(t._f("priceDisplay")(t.taxInfos[2].taxGroupTotal+t.taxInfos[3].taxGroupTotal))+"€")])]),a("div",{staticClass:"d-flex justify-space-between grey--text text--darken-2"},[a("div",[t._v("-"+t._s(t.$t("Netto 16%")))]),a("div",[t._v(" "+t._s(t._f("priceDisplay")(t.taxInfos[2].taxGroupTotal/(1+t.taxInfos[2].taxRateGroupValue)*t.taxInfos[2].taxRateGroupValue+t.taxInfos[3].taxGroupTotal/(1+t.taxInfos[3].taxRateGroupValue)*t.taxInfos[3].taxRateGroupValue))+"€ ")])]),a("div",{staticClass:"d-flex justify-space-between grey--text text--darken-2"},[a("div",[t._v("-"+t._s(t.$t("Nwst 16%")))]),a("div",[t._v(" "+t._s(t._f("priceDisplay")(t.taxInfos[2].taxGroupTotal/(1+t.taxInfos[2].taxRateGroupValue)+t.taxInfos[3].taxGroupTotal/(1+t.taxInfos[3].taxRateGroupValue)))+"€ ")])]),a("v-divider",{staticClass:"mx-2 my-2"})],1):t._e(),void 0!==t.taxInfos&&9===t.taxInfos.length?a("div",[a("div",{staticClass:"d-flex justify-space-between text-subtitle-2 grey--text text--darken-2"},[a("div",[t._v(t._s(t.$t("Umsatz In Haus 5%")))]),a("div",[t._v(t._s(t._f("priceDisplay")(t.taxInfos[1].taxGroupTotal))+"€")])]),a("div",{staticClass:"d-flex justify-space-between text-subtitle-2 grey--text text--darken-2"},[a("div",[t._v(t._s(t.$t("Umsatz Ausser Haus 5%")))]),a("div",[t._v(t._s(t._f("priceDisplay")(t.taxInfos[2].taxGroupTotal))+"€")])]),a("v-divider",{staticClass:"mx-2 my-2"}),a("div",{staticClass:"d-flex justify-space-between font-weight-black grey--text text--darken-2"},[a("div",[t._v(t._s(t.$t("GesamtUmsatz 5%")))]),a("div",[t._v(t._s(t._f("priceDisplay")(t.taxInfos[1].taxGroupTotal+t.taxInfos[2].taxGroupTotal))+"€")])]),a("div",{staticClass:"d-flex justify-space-between grey--text text--darken-2"},[a("div",[t._v("-"+t._s(t.$t("Netto 5%")))]),a("div",[t._v(" "+t._s(t._f("priceDisplay")(t.taxInfos[1].taxGroupTotal/(1+t.taxInfos[1].taxRateGroupValue)*t.taxInfos[1].taxRateGroupValue+t.taxInfos[2].taxGroupTotal/(1+t.taxInfos[2].taxRateGroupValue)*t.taxInfos[2].taxRateGroupValue))+"€ ")])]),a("div",{staticClass:"d-flex justify-space-between grey--text text--darken-2"},[a("div",[t._v("-"+t._s(t.$t("Nwst 5%")))]),a("div",[t._v(" "+t._s(t._f("priceDisplay")(t.taxInfos[1].taxGroupTotal/(1+t.taxInfos[1].taxRateGroupValue)+t.taxInfos[2].taxGroupTotal/(1+t.taxInfos[2].taxRateGroupValue)))+"€ ")])]),a("v-divider",{staticClass:"mx-2 my-2"}),a("div",{staticClass:"d-flex justify-space-between text-subtitle-2 grey--text text--darken-2"},[a("div",[t._v(t._s(t.$t("Umsatz In Haus 16%")))]),a("div",[t._v(t._s(t._f("priceDisplay")(t.taxInfos[4].taxGroupTotal))+"€")])]),a("div",{staticClass:"d-flex justify-space-between text-subtitle-2 grey--text text--darken-2"},[a("div",[t._v(t._s(t.$t("Umsatz Ausser Haus 16%")))]),a("div",[t._v(t._s(t._f("priceDisplay")(t.taxInfos[5].taxGroupTotal))+"€")])]),a("v-divider",{staticClass:"mx-2 my-2"}),a("div",{staticClass:"d-flex justify-space-between font-weight-black grey--text text--darken-2"},[a("div",[t._v(t._s(t.$t("GesamtUmsatz 16%")))]),a("div",[t._v(t._s(t._f("priceDisplay")(t.taxInfos[4].taxGroupTotal+t.taxInfos[5].taxGroupTotal))+"€")])]),a("div",{staticClass:"d-flex justify-space-between grey--text text--darken-2"},[a("div",[t._v("-"+t._s(t.$t("Netto 16%")))]),a("div",[t._v(" "+t._s(t._f("priceDisplay")(t.taxInfos[4].taxGroupTotal/(1+t.taxInfos[4].taxRateGroupValue)*t.taxInfos[4].taxRateGroupValue+t.taxInfos[5].taxGroupTotal/(1+t.taxInfos[5].taxRateGroupValue)*t.taxInfos[3].taxRateGroupValue))+"€ ")])]),a("div",{staticClass:"d-flex justify-space-between grey--text text--darken-2"},[a("div",[t._v("-"+t._s(t.$t("Nwst 16%")))]),a("div",[t._v(" "+t._s(t._f("priceDisplay")(t.taxInfos[4].taxGroupTotal/(1+t.taxInfos[4].taxRateGroupValue)+t.taxInfos[5].taxGroupTotal/(1+t.taxInfos[5].taxRateGroupValue)))+"€ ")])]),a("v-divider",{staticClass:"mx-2 my-2"})],1):t._e(),a("div",{staticClass:"d-flex justify-space-between font-weight-black text-subtitle-2"},[a("div",[t._v(t._s(t.$t("现金额")))]),a("div",[t._v(t._s(t._f("priceDisplay")(t.cashAmount))+"€")])]),a("div",{staticClass:"d-flex justify-space-between font-weight-black text-subtitle-2"},[a("div",[t._v(t._s(t.$t("刷卡额")))]),a("div",[t._v(t._s(t._f("priceDisplay")(t.cardAmount))+"€")])]),a("div",{staticClass:"d-flex justify-space-between font-weight-black text-subtitle-2"},[a("div",[t._v(t._s(t.$t("信用卡")))]),a("div",[t._v(t._s(t._f("priceDisplay")(t.creditCardAmount))+"€")])]),a("v-divider",{staticClass:"mx-2 my-2"}),t.realTimeIncomeList.takeawayAmount?a("div",{staticClass:"d-flex justify-space-between font-weight-black text-subtitle-2"},[a("div",[t._v(t._s(t.$t("外卖营业额")))]),a("div",[t._v(t._s(t.realTimeIncomeList.takeawayAmount)+"€")])]):t._e(),a("v-divider",{staticClass:"mx-2 my-2"}),t.realTimeIncomeList.storno?a("div",{staticClass:"d-flex justify-space-between font-weight-black text-subtitle-2"},[a("div",[t._v(t._s(t.$t("退菜金额")))]),a("div",[t._v(t._s(t.stornoAmount)+"€")])]):t._e(),a("v-divider",{staticClass:"mx-2 my-2"}),a("div",{staticClass:"d-flex justify-space-between font-weight-black text--darken-2"},[a("div",[t._v(t._s(t.$t("未结单营业额")))]),a("div",[t._v(t._s(t.realTimeIncomeList.unpaid)+"€")])]),a("v-divider",{staticClass:"mx-2 my-2"}),a("div",{staticClass:"d-flex justify-space-between font-weight-black text--darken-2 mt-2"},[t.realTimeIncomeList.storno?a("v-btn",{attrs:{color:"error",dark:"",small:""},on:{click:t.checkStorno}},[t._v(" "+t._s(t.$t("查看退菜"))+" ")]):t._e(),a("v-dialog",{model:{value:t.stornoDialog,callback:function(e){t.stornoDialog=e},expression:"stornoDialog"}},[a("v-card",[a("v-toolbar",{attrs:{dense:"",color:"white"}},[a("v-spacer"),a("v-icon",{on:{click:function(e){t.stornoDialog=!t.stornoDialog}}},[t._v(" mdi-close ")])],1),a("v-card-text",[a("ik-data-table",{attrs:{model:t.storno,"use-action":!1,"use-select":!1,icon:"mdi-calculator-variant","entity-name":t.$t("退菜列表")},scopedSlots:t._u([{key:"footer",fn:function(){return[a("v-toolbar",{attrs:{color:"white",flat:""}})]},proxy:!0}],null,!1,2407724576)})],1)],1)],1),a("v-btn",{attrs:{color:"primary",dark:"",small:""},on:{click:t.printTodayBills}},[t._v(" "+t._s(t.$t("打印"))+" ")])],1)],1)],1):t._e()],1)],1),a("v-row",[a("v-col",{attrs:{lg:"3",cols:"12"}},[a("base-material-card",{attrs:{color:"error",icon:"mdi-run-fast",title:t.$t("快速操作")}},[a("v-list",[a("v-list-item",{on:{click:t.toZbon}},[a("v-list-item-icon",[a("v-icon",[t._v(" mdi-format-list-bulleted ")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" "+t._s(t.$t("Zbon列表"))+" ")])],1)],1),a("v-list-item",{on:{click:t.toAllBills}},[a("v-list-item-icon",[a("v-icon",[t._v(" mdi-calendar-account ")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" "+t._s(t.$t("全部账单"))+" ")])],1)],1),a("v-list-item",{on:{click:t.addDishes}},[a("v-list-item-icon",[a("v-icon",[t._v(" mdi-pencil ")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" "+t._s(t.$t("菜品管理"))+" ")])],1)],1),a("v-list-item",{on:{click:t.addCategories}},[a("v-list-item-icon",[a("v-icon",[t._v(" mdi-domain ")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" "+t._s(t.$t("标签管理"))+" ")])],1)],1),a("v-list-item",{on:{click:t.dishStatistic}},[a("v-list-item-icon",[a("v-icon",[t._v(" mdi-dialpad ")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" "+t._s(t.$t("菜品统计"))+" ")])],1)],1),a("v-list-item",{on:{click:t.dailyBill}},[a("v-list-item-icon",[a("v-icon",[t._v(" mdi-bulletin-board ")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" "+t._s(t.$t("本日总汇"))+" ")])],1)],1)],1)],1)],1),[a("v-col",{attrs:{lg:"9",cols:"12"}},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("base-material-stats-card",{attrs:{color:"info",icon:"mdi-twitter","sub-icon":"mdi-clock","sub-text":t.$t("Just Updated"),title:t.$t("今日营业总额"),value:"€"+t.todayInfo.sumIncome}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("base-material-stats-card",{attrs:{color:"primary",icon:"mdi-poll","sub-icon":"mdi-tag","sub-text":t.$t("Tracked from Aaden Analytics"),title:t.$t("今日用餐总人数"),value:t.todayInfo.sumPersonCount}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("base-material-stats-card",{attrs:{color:"success",icon:"mdi-store","sub-icon":"mdi-calendar","sub-text":"",title:t.$t("使用中的桌子"),value:t.tableUsageStatus.inUse}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("base-material-stats-card",{attrs:{color:"orange",icon:"mdi-sofa","sub-icon":"mdi-alert",title:t.$t("本月平均翻台率"),"sub-text":t.$t("翻台率是指桌子被使用的频率"),value:t.tableRenew.toFixed(2)+"%"}})],1)],1)],1)]],2),a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("base-material-card",{staticClass:"px-5 py-3",attrs:{color:"pink",icon:"mdi-heart",inline:""},scopedSlots:t._u([{key:"after-heading",fn:function(){return[a("div",{staticClass:"display-1 font-weight-light mt-2"},[t._v(" "+t._s(t.$t("本周内最受欢迎的精美食品"))+" ")])]},proxy:!0}])},[a("v-card-text",[a("v-data-table",{attrs:{headers:t.dishesHeader,items:t.thisWeekMostPopularDishes},scopedSlots:t._u([{key:"item.photo",fn:function(e){var s=e.item;return[a("v-avatar",{attrs:{tile:""}},[a("v-img",{attrs:{src:t.dishImgRoot+s.image,height:"48px",width:"48px"}})],1)]}}])})],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-card",[a("v-card-title",{staticClass:"subheading font-weight-bold"},[t._v(" "+t._s(t.$t("热销菜品分布"))+" "),a("v-btn",{attrs:{text:""},on:{click:t.changeDateToDay}},[t._v(" 查看本日 ")]),a("v-btn",{attrs:{text:""},on:{click:t.changeDateToMonth}},[t._v(" 查看本月 ")])],1),a("v-divider"),a("v-list",{attrs:{dense:""}},t._l(t.dishIncomeList,(function(e,s){return a("v-list-item",{key:s},[a("v-list-item-content",[t._v(" "+t._s(t.dishIncomeList[s].name)+": ")]),a("v-list-item-content",[t._v(" "+t._s(t.dishIncomeList[s].sumPrice)+" ")])],1)})),1)],1)],1)],1)],1)},i=[],n=(a("7db0"),a("4160"),a("a15b"),a("13d5"),a("b0c0"),a("ac1f"),a("1276"),a("159b"),a("96cf"),a("1da1")),o=a("b85c"),r=a("0a61"),l=a("3405"),c=a("633c"),d=a("ff51"),u=a("ccdd"),v=a("5530"),f={name:{},orderId:{},Dname:{},time:{},price:{}},m={load:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("+++++++="),t.next=3,c["hillo"].get("IndexData.php?",Object(v["a"])({lang:l["a"].lang()},e));case 3:return a=t.sent,t.abrupt("return",a.realtimeIncomeAndInfo.storno);case 5:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},x=c["IKDataEntity"].ModelFactory(f,m),p={name:"DashboardDashboard",components:{IkDataTable:c["IkDataTable"]},data:function(){return{storno:x,stornoDialog:!1,items:[this.$i18n.t("销售数据统计"),this.$i18n.t("跑堂排行")],salesDataChart:{options:{low:0,chartPadding:{top:0,right:0,bottom:0,left:0}}},servantHeader:[{text:"Name",value:"name"},{text:this.$i18n.t("income"),value:"income",align:"right"},{text:this.$i18n.t("billCount"),value:"billCount",align:"right"}],dishesHeader:[{text:this.$i18n.t("Ranking"),value:"rank"},{text:this.$i18n.t("image"),value:"photo",align:"center"},{text:this.$i18n.t("name"),value:"name",align:"right"},{text:this.$i18n.t("price"),value:"price",align:"right"},{text:this.$i18n.t("count"),value:"sumCount",align:"right"}],indexData:{sevenDaysFoodDrinkIncome:[],thisMonthServantRank:[],realTimeIncomeList:{tax_infos:[]},todayInfo:{sumIncome:"0"},tableUsageStatus:{inUse:"0"},thisMonthAverageTablesRenewRate:0},restaurantName:"",dishIncomeList:[],dishIncomeWithPLog:[],cashAmount:0,cardAmount:0,creditCardAmount:0,taxItem:{consumeTypeName:"",taxGroupTotal:0,taxRateGroupValue:0}}},computed:{realTimeIncomeList:function(){return this.indexData.realtimeIncomeAndInfo?this.indexData.realtimeIncomeAndInfo:void 0},taxInfos:function(){var t=this;if(this.indexData.realtimeIncomeAndInfo.taxInfos){var e=[];return this.indexData.realtimeIncomeAndInfo.taxInfos.forEach((function(a){t.taxItem=c["IKUtils"].deepCopy(a),e.push(t.taxItem)})),console.log(e.length,"length"),e}},servantImgRoot:function(){return this.$store.getters.rootUrl+l["a"].servantRoot},dishImgRoot:function(){return this.$store.getters.rootUrl+l["a"].dishImageRoot},salesData:function(){var t,e=[],a=[],s=[],i=Object(o["a"])(this.indexData.sevenDaysFoodDrinkIncome);try{for(i.s();!(t=i.n()).done;){var n=t.value,r=n.find((function(t){return"foods"===t.name.toLowerCase()})),l=n.find((function(t){return"drinks"===t.name.toLowerCase()}));e.push(r.dateDisplay),a.push(r.income),s.push(l.income)}}catch(c){i.e(c)}finally{i.f()}return{labels:e.reverse(),series:[a.reverse(),s.reverse()]}},unpaidTable:function(){return this.indexData.realtimeIncomeAndInfo?this.indexData.realtimeIncomeAndInfo.unpaidTable:void 0},stornoList:function(){return this.indexData.realtimeIncomeAndInfo?this.indexData.realtimeIncomeAndInfo.storno:void 0},stornoAmount:function(){if(this.indexData.realtimeIncomeAndInfo.storno){var t=this.indexData.realtimeIncomeAndInfo.storno;return t.reduce((function(t,e){return t+parseFloat(e.price)}),0)}},thisMonthServantRank:function(){return this.indexData.thisMonthServantRank},todayInfo:function(){return this.indexData.todayInfo},tableUsageStatus:function(){return this.indexData.tableUsageStatus},tableRenew:function(){return this.indexData.thisMonthAverageTablesRenewRate},thisWeekMostPopularDishes:function(){return this.indexData.thisWeekMostPopularDishes},totalSales:function(){return this.sales.reduce((function(t,e){return t+e.salesInM}),0)}},created:function(){this.onceData(),this.reloadData()},methods:{checkStorno:function(){this.stornoDialog=!0},changeDateToDay:function(){this.dishIncomeList=this.indexData.thisDayIncomePieChart},changeDateToMonth:function(){this.dishIncomeList=this.indexData.thisMonthIncomePieChart},reprint:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.model.reprint(t);case 2:c["IKUtils"].toast();case 3:case"end":return a.stop()}}),a)})))()},toZbon:function(){this.$router.push({path:"/Bills/zbonlist"})},toAllBills:function(){this.$router.push({path:"/Bills/history-bills"})},addDishes:function(){this.$router.push({path:"/dishes/dishes-manage"})},addCategories:function(){this.$router.push({path:"/dishes/labels-manage"})},dishStatistic:function(){this.$router.push({path:"/dishes/dish-statistics"})},dailyBill:function(){this.$router.push({path:"/Bills/today-bills"})},printTodayBills:function(){var t=[Object(d["a"])(0),Object(d["a"])(0)],e={timespan:t?t.join(" - "):""};u["a"].showConfirm("Bist du sicher?","Möchten Sie alle Datensätze drucken?",(function(){Object(r["b"])(e).then((function(){u["a"].toast("Erfolgreich drucken!")}))}))},onceData:function(){var t=this;Object(r["w"])().then((function(e){var a=[];a=e.content[0].name.split("<BR>"),t.restaurantName=a.join(" ")}))},calculateAmount:function(t){var e=this;this.cashAmount=0,this.cardAmount=0,this.creditCardAmount=0,t.forEach((function(t){null!==t.payLogs?t.payLogs.forEach((function(t){"2"===t.paymentMethodId&&(e.cardAmount+=parseFloat(t.amount)),"1"===t.paymentMethodId&&(e.cashAmount+=parseFloat(t.amount)),"3"===t.paymentMethodId&&(e.creditCardAmount+=parseFloat(t.amount))})):("3"===t.payMethod&&(e.creditCardAmount+=parseFloat(t.totalPrice)),"2"===t.payMethod&&(e.cardAmount+=parseFloat(t.totalPrice)),"1"===t.payMethod&&(e.cashAmount+=parseFloat(t.totalPrice)))}))},reloadData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["t"])().then((function(e){t.indexData=e,t.dishIncomeList=t.indexData.thisMonthIncomePieChart}));case 2:return a=[Object(d["a"])(0),Object(d["a"])(0)].join(" - "),e.next=5,Object(r["j"])(a).then((function(e){t.dishIncomeWithPLog=e.content,t.calculateAmount(t.dishIncomeWithPLog)}));case 5:case"end":return e.stop()}}),e)})))()},beforeDestroy:function(){clearTimeout(this.timer1),clearTimeout(this.timer2),this.timer1=null,this.timer2=null},complete:function(t){this.list[t]=!this.list[t]}}},h=p,_=(a("674b"),a("2877")),b=a("6544"),g=a.n(b),y=a("8212"),I=a("8336"),w=a("b0af"),D=a("99d9"),C=a("62ad"),k=a("a523"),T=a("8fea"),$=a("169a"),G=a("ce7e"),j=a("132d"),R=a("adda"),V=a("8860"),A=a("da13"),L=a("5d23"),M=a("34c3"),S=a("0fd9"),U=a("2fa4"),z=a("71a3"),P=a("c671"),H=a("fe57"),O=a("71d9"),F=Object(_["a"])(h,s,i,!1,null,null,null);e["default"]=F.exports;g()(F,{VAvatar:y["a"],VBtn:I["a"],VCard:w["a"],VCardText:D["c"],VCardTitle:D["d"],VCol:C["a"],VContainer:k["a"],VDataTable:T["a"],VDialog:$["a"],VDivider:G["a"],VIcon:j["a"],VImg:R["a"],VList:V["a"],VListItem:A["a"],VListItemContent:L["b"],VListItemIcon:M["a"],VListItemTitle:L["d"],VRow:S["a"],VSpacer:U["a"],VTab:z["a"],VTabItem:P["a"],VTabs:H["a"],VToolbar:O["a"]})},"674b":function(t,e,a){"use strict";var s=a("d1f7"),i=a.n(s);i.a},ccdd:function(t,e,a){"use strict";var s=a("5530"),i=a("633c");e["a"]=Object(s["a"])({},i["IKUtils"])},d1f7:function(t,e,a){},ff51:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));a("a15b");function s(t){var e=new Date,a=e.getTime(),s=864e5,i=a+t*s,n=new Date(i),o=n.getFullYear(),r=n.getMonth()+1,l=n.getDate();return[o,r,l].join("-")}function i(t){var e=new Date,a=e.getTime(),s=864e5,i=a+t*s,n=new Date(i),o=n.getFullYear()+"-",r=n.getMonth()+1,l=n.getDate(),c=n.getHours()<10?"0"+n.getHours():n.getHours(),d=n.getMinutes()<10?"0"+n.getMinutes():n.getMinutes(),u=n.getSeconds()<10?"0"+n.getSeconds():n.getSeconds();return o+r+"-"+l+" "+c+":"+d+":"+u}}}]);
//# sourceMappingURL=chunk-53b2ff44.311a5e7c.js.map