{"version":3,"sources":["webpack:///./src/model/Category.js","webpack:///./src/model/PrinterGroup.js","webpack:///./src/model/Allergen.js","webpack:///./src/model/ConsumeType.js","webpack:///./src/model/StringEntity.js","webpack:///./src/model/AttributeGroup.js","webpack:///./src/views/Details/BuffetSetting.vue?be7d","webpack:///./src/model/DishesConsumeType.js","webpack:///./src/model/BuffetTimeSpan.js","webpack:///./src/model/BuffetPrice.js","webpack:///src/views/Details/BuffetSetting.vue","webpack:///./src/views/Details/BuffetSetting.vue?e237","webpack:///./src/views/Details/BuffetSetting.vue","webpack:///./src/model/Dish.js","webpack:///./src/model/WeekDays.js","webpack:///./src/model/CategoryType.js"],"names":["i","Boolean","GlobalSettings","isShowOnTable","colorList","entity","id","type","IKDataEntity","Types","Integer","form","table","color","Color","formConfig","required","dcImage","Image","root","store","getters","rootUrl","dcImageRoot","displayName","header","attributeGroupId","Option","tableConfig","width","selectItems","AttributeGroup","getList","multiple","_langsname","langs","Group","groupName","default","supportLang","childLabelKey","displayCondition","item","lang","toUpperCase","getLang","displayChild","key","console","log","childKey","labelKey","children","StringEntity","dishesCategoryTypeId","CategoryType","printOrder","requiredNew","requiredEdit","rule","v","test","categorySort","config","add","appliedAttributeGroup","join","catTypeId","hillo","post","JSON","stringify","showLoading","edit","postWithUploadFile","remove","load","filter","get","response","content","randomColor","list","IKUtils","Math","round","random","toast","removeAllColor","removeCategoryImage","categoryId","res","ModelFactory","align","name","isSingleLinePrint","isSingleOrderPrint","upsideDown","printerCount","inEdit","inNew","defaultRetryCount","totalDishesCount","op","icon","shortName","displayText","printName","zbonGroup","forEach","Object","values","desc","printTitle","multiSelect","attrubuteCount","render","_vm","this","_h","$createElement","_c","_self","model","value","callback","$$v","tab","expression","_v","_s","$t","_e","attrs","consumeTypes","activeConsumeTypeIndex","staticClass","on","$event","settingDialog","resetTime","setting","$set","buffetPriceModel","buffetModel","staticRenderFns","code","dishId","Dish","itemText","dishesCategoryId","Category","showing","isFree","counter","request","push","params","Promise","all","map","d","consumeTypeId","ConsumeType","fromTime","Time","toTime","dayOfWeek","WeekDays","tempItem","resetTimeSpan","dishesId","getBuffet","disableEdit","isForAdult","uploadRemoveItem","roundDishCount","childRoundDishCount","maxDineTime","roundTime","totalRound","components","IkDataTable","data","dishes","computed","mounted","methods","BuffetTimeSpan","temp","component","VBtn","VCard","VCardText","VCardTitle","VCol","VDialog","VRow","VSelect","VSpacer","VTab","VTabItem","VTabs","VTextField","showImage","image","dishImageRoot","filterable","displayCode","dishName","price","Float","overwriteRule","toLowerCase","printGroupId","i18n","t","PrinterGroup","extraPrintGroupIds","AllergenId","Allergen","merge","disabledItem","editedItem","inheritAttributeGroupId","disabled","includes","localAttributeGroupId","dishWeight","isActive","dishAlias","onlyActive","length","slice","split","flat","description","multipleAdd","attributeGroup","allergenGroup","file","imageExt","DishModel"],"mappings":"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","file":"js/chunk-2955abdd.57556861.js","sourcesContent":["import { IKDataEntity } from 'metaflow-js'\r\nimport hillo from 'hillo'\r\nimport CategoryType from './CategoryType'\r\nimport StringEntity from './StringEntity'\r\nimport GlobalSettings from '@/GlobalSettings'\r\nimport IKUtils from 'innerken-js-utils'\r\nimport store from '../store'\r\nimport AttributeGroup from './AttributeGroup'\r\n\r\nconst i = Boolean(GlobalSettings.isShowOnTable === '0')\r\n\r\nconst colorList = ['#FFCDD2', '#F8BBD0', '#E1BEE7',\r\n  '#D1C4E9', '#C5CAE9', '#BBDEFB',\r\n  '#B3E5FC', '#B2EBF2', '#B2DFDB',\r\n  '#C8E6C9', '#DCEDC8', '#F0F4C3',\r\n  '#FFF9C4', '#FFECB3', '#FFE0B2',\r\n  '#FFCCBC', '#D7CCC8', '#CFD8DC']\r\n\r\nconst entity = {\r\n  id: {\r\n    type: IKDataEntity.Types.Integer,\r\n    form: false,\r\n    table: false,\r\n  },\r\n  color: {\r\n    type: IKDataEntity.Types.Color,\r\n    formConfig: {\r\n      required: false,\r\n    },\r\n  },\r\n  dcImage: {\r\n    type: IKDataEntity.Types.Image,\r\n    formConfig: {\r\n      required: false,\r\n      type: {\r\n        root: () => store.getters.rootUrl + GlobalSettings.dcImageRoot,\r\n      },\r\n    },\r\n    displayName: 'image',\r\n    header: i,\r\n  },\r\n  attributeGroupId: {\r\n    displayName: 'attributeGroupNames',\r\n    type: IKDataEntity.Types.Option,\r\n    tableConfig: {\r\n      width: '100px',\r\n    },\r\n    formConfig: {\r\n      required: false,\r\n      type: {\r\n        selectItems: AttributeGroup.getList,\r\n        multiple: true,\r\n      },\r\n    },\r\n  },\r\n  _langsname: {\r\n    displayName: 'KategorieName',\r\n    form: false,\r\n  },\r\n  langs: {\r\n    displayName: 'labelName',\r\n    type: IKDataEntity.Types.Group,\r\n    formConfig: {\r\n      groupName: 'labelName',\r\n      default: GlobalSettings.supportLang,\r\n      childLabelKey: 'lang',\r\n      type: {},\r\n    },\r\n    tableConfig: {\r\n      displayCondition: (item) => {\r\n        return item.lang.toUpperCase() === GlobalSettings.getLang().toUpperCase()\r\n      },\r\n      displayChild: (key) => {\r\n        console.log(key)\r\n        return key === 'name'\r\n      },\r\n    },\r\n    childKey: ['name', 'desc'],\r\n    labelKey: 'lang',\r\n    children: [\r\n      StringEntity, StringEntity, StringEntity,\r\n    ],\r\n    header: false,\r\n  },\r\n  dishesCategoryTypeId: {\r\n    displayName: 'warengruppe',\r\n    type: IKDataEntity.Types.Option,\r\n    formConfig: {\r\n      type: {\r\n        selectItems: CategoryType.getList,\r\n      },\r\n    },\r\n  },\r\n\r\n  printOrder: {\r\n    type: IKDataEntity.Types.Integer,\r\n    required: false,\r\n    formConfig: {\r\n      default: 50,\r\n      requiredNew: false,\r\n      requiredEdit: false,\r\n      rule: [ // ^-[1-9]\\d*$\r\n        v => /^[0-9]\\d*$/.test(v) || 'Bitte geben Sie die ganze Zahl ein',\r\n      ],\r\n    },\r\n  },\r\n  categorySort: {\r\n    type: IKDataEntity.Types.Integer,\r\n    displayName: 'sectionSort',\r\n    formConfig: {\r\n      required: true,\r\n    },\r\n  },\r\n\r\n}\r\n\r\nconst config = {\r\n\r\n  add: function (item) {\r\n    item.appliedAttributeGroup = item.attributeGroupId.join(',')\r\n    item.catTypeId = item.dishesCategoryTypeId\r\n    return hillo.post('Category.php?op=add', {\r\n      ...item,\r\n      langs: JSON.stringify(item.langs),\r\n    }, {\r\n      showLoading: true,\r\n    })\r\n  },\r\n  edit: function (item) {\r\n    item.appliedAttributeGroup = item.attributeGroupId.join(',')\r\n    item.catTypeId = item.dishesCategoryTypeId\r\n\r\n    console.log('label-manage: item()', item)\r\n    return hillo.postWithUploadFile('Category.php?op=update', {\r\n      ...item,\r\n      langs: JSON.stringify(item.langs),\r\n    }, {\r\n      showLoading: true,\r\n    })\r\n  },\r\n  remove: function (id) {\r\n    return hillo.post('Category.php?op=delete', { id: id })\r\n  },\r\n  load: async function (filter) {\r\n    const response = (await hillo.get('Category.php', filter)).content\r\n    console.log(response, 'cate response')\r\n    return response\r\n  },\r\n  randomColor: async function (list) {\r\n    IKUtils.showLoading(true)\r\n    for (const item of list) {\r\n      item.appliedAttributeGroup = item.attributeGroupId.join(',')\r\n      item.catTypeId = item.dishesCategoryTypeId\r\n\r\n      item.color = colorList[Math.round(Math.random() * 18)]\r\n\r\n      await hillo.postWithUploadFile('Category.php?op=update', {\r\n        ...item,\r\n        langs: JSON.stringify(item.langs),\r\n      }, {\r\n        showLoading: false,\r\n      })\r\n    }\r\n    IKUtils.toast('OK')\r\n  },\r\n\r\n  removeAllColor: async function (list) {\r\n    IKUtils.showLoading(true)\r\n    for (const item of list) {\r\n      item.appliedAttributeGroup = item.attributeGroupId.join(',')\r\n      item.catTypeId = item.dishesCategoryTypeId\r\n      item.color = '#FFFFFF'\r\n      await hillo.postWithUploadFile('Category.php?op=update', {\r\n        ...item,\r\n        langs: JSON.stringify(item.langs),\r\n      }, {\r\n        showLoading: false,\r\n      })\r\n    }\r\n    IKUtils.toast('OK')\r\n  },\r\n\r\n  removeCategoryImage: async function (categoryId) {\r\n    await hillo.post('Category.php?op=removeCategoryImage', {\r\n      ...categoryId,\r\n    }, {\r\n      showLoading: true,\r\n    })\r\n  },\r\n\r\n}\r\n\r\n// export default IKDataEntity.ModelFactory(entity, config)\r\nexport const res = IKDataEntity.ModelFactory(entity, config)\r\nconsole.log('Category', res)\r\nexport default res\r\n","import { IKDataEntity } from 'metaflow-js'\r\nimport hillo from 'hillo'\r\n\r\nconst entity = {\r\n  id: {\r\n    type: IKDataEntity.Types.Integer,\r\n    displayName: 'id',\r\n    tableConfig: {\r\n      align: 'start',\r\n    },\r\n    form: false,\r\n  },\r\n  name: {\r\n    displayName: 'sectionName',\r\n  },\r\n  isSingleLinePrint: {\r\n    type: IKDataEntity.Types.Boolean,\r\n    displayName: 'isSingleLinePrint',\r\n  },\r\n  isSingleOrderPrint: {\r\n    type: IKDataEntity.Types.Boolean,\r\n    displayName: 'isSingleOrderPrint',\r\n  },\r\n  upsideDown: {\r\n    type: IKDataEntity.Types.Boolean,\r\n  },\r\n  printerCount: {\r\n    displayName: 'printerCount',\r\n    formConfig: {\r\n      inEdit: false,\r\n      inNew: false,\r\n    },\r\n  },\r\n  defaultRetryCount: {\r\n    formConfig: {\r\n      default: '0',\r\n    },\r\n  },\r\n  totalDishesCount: {\r\n    formConfig: {\r\n      inEdit: false,\r\n      inNew: false,\r\n    },\r\n  },\r\n}\r\nconst config = {\r\n  load: async function (filter) {\r\n    const res = (await hillo.get('Printer.php', {\r\n      op: 'showPrinterGroups',\r\n      ...filter,\r\n    }))\r\n      .content\r\n\r\n    console.log('printer', res)\r\n    return res\r\n  },\r\n  add: function (item) {\r\n    return hillo.postWithUploadFile('Printer.php?op=addPrinterGroups', item, {\r\n      showLoading: true,\r\n    })\r\n  },\r\n  edit: function (item) {\r\n    return hillo.postWithUploadFile('Printer.php?op=updatePrinterGroups', item, {\r\n      showLoading: true,\r\n    })\r\n  },\r\n  remove: function (id) {\r\n    return hillo.post('Printer.php?op=deletePrinterGroup', { id: id })\r\n  },\r\n}\r\n\r\nexport default IKDataEntity.ModelFactory(entity, config)\r\n","import { IKDataEntity } from 'metaflow-js'\r\nimport hillo from 'hillo'\r\n\r\nconst entity = {\r\n  id: {\r\n    type: IKDataEntity.Types.Integer,\r\n    displayName: 'id',\r\n    tableConfig: {\r\n      align: 'start',\r\n    },\r\n    form: false,\r\n  },\r\n  name: {\r\n    displayName: 'allergName',\r\n  },\r\n  icon: {\r\n    displayName: 'icon',\r\n  },\r\n  shortName: {\r\n    displayName: 'shortName',\r\n  },\r\n  displayText: {\r\n    displayName: 'displayText',\r\n  },\r\n}\r\nconst config = {\r\n  add: function (item) {\r\n    return hillo.postWithUploadFile('Dishes.php?op=addAllergen', item, {\r\n      showLoading: true,\r\n    })\r\n  },\r\n  edit: function (item) {\r\n    return hillo.postWithUploadFile('Dishes.php?op=updateAllergen', item, {\r\n      showLoading: true,\r\n    })\r\n  },\r\n  remove: function (id) {\r\n    return hillo.post('Dishes.php?op=deleteAllergen', { id: id })\r\n  },\r\n  load: async function (filter) {\r\n    return (await hillo.get('Dishes.php', {\r\n      op: 'showAllAllergen',\r\n      ...filter,\r\n    }))\r\n      .content\r\n  },\r\n}\r\n\r\nexport default IKDataEntity.ModelFactory(entity, config)\r\n","// import GlobalSettings from '@/GlobalSettings'\r\nimport { IKDataEntity } from 'metaflow-js'\r\nimport hillo from 'hillo'\r\nimport GlobalSettings from '@/GlobalSettings'\r\nimport StringEntity from '@/model/StringEntity'\r\n\r\nconst entity = {\r\n  id: {\r\n    type: IKDataEntity.Types.Integer,\r\n    displayName: 'id',\r\n    tableConfig: {\r\n      align: 'start',\r\n    },\r\n    formConfig: {\r\n      requiredNew: false,\r\n    },\r\n  },\r\n  langs: {\r\n    displayName: 'name',\r\n    type: IKDataEntity.Types.Group,\r\n    formConfig: {\r\n      groupName: 'name',\r\n      default: GlobalSettings.supportLang,\r\n      childLabelKey: 'lang',\r\n      type: {},\r\n    },\r\n    tableConfig: {\r\n      displayCondition: (item) => {\r\n        return item.lang.toUpperCase() === GlobalSettings.getLang()\r\n      },\r\n      displayChild: (key) => {\r\n        return key === 'name'\r\n      },\r\n    },\r\n    childKey: ['name', 'desc'],\r\n    labelKey: 'lang',\r\n    children: [\r\n      StringEntity, StringEntity, StringEntity,\r\n    ],\r\n    header: false,\r\n  },\r\n  name: {\r\n    displayName: 'shownName',\r\n    form: false,\r\n  },\r\n  printName: {\r\n    displayName: 'printTitle',\r\n  },\r\n  zbonGroup: {\r\n    displayName: 'zbonGroup',\r\n  },\r\n  color: {\r\n    type: IKDataEntity.Types.Color,\r\n    formConfig: {\r\n      required: false,\r\n    },\r\n  },\r\n}\r\nconst config = {\r\n  load: async function (filter) {\r\n    const response = (await hillo.get('Complex.php', {\r\n      op: 'showAllConsumeTypeInfo',\r\n      lang: GlobalSettings.getLang(),\r\n      ...filter,\r\n    }))\r\n      .content\r\n    console.log(response, 'response')\r\n    response.forEach(i => {\r\n      i.langs = Object.values(i.langs)\r\n    })\r\n    return response\r\n  },\r\n  add: function (item) {\r\n    item.name = item.langs[2].name\r\n    // hard code: displayName设置为德语\r\n    return hillo.post('ConsumeType.php?op=add', {\r\n      ...item,\r\n      langs: JSON.stringify(item.langs),\r\n    }, {\r\n      showLoading: true,\r\n    })\r\n  },\r\n  edit: function (item) {\r\n    item.name = item.langs[2].name\r\n    // hard code: displayName设置为德语\r\n    return hillo.postWithUploadFile('ConsumeType.php?op=update', {\r\n      ...item,\r\n      langs: JSON.stringify(item.langs),\r\n    }, {\r\n      showLoading: true,\r\n    })\r\n  },\r\n  remove: function (id) {\r\n    return hillo.post('ConsumeType.php?op=delete', { id: id })\r\n  },\r\n}\r\n\r\nexport default IKDataEntity.ModelFactory(entity, config)\r\n","import { IKDataEntity } from 'metaflow-js'\r\n\r\nconst entity = {\r\n  id: {\r\n    type: IKDataEntity.Types.Integer,\r\n    displayName: 'id',\r\n    tableConfig: {\r\n      align: 'start',\r\n    },\r\n    formConfig: {\r\n      requiredNew: false,\r\n    },\r\n  },\r\n  name: {\r\n    displayName: 'Name',\r\n  },\r\n  lang: {},\r\n  desc: {\r\n    displayName: 'Beschreibung',\r\n    formConfig: {\r\n      required: false,\r\n    },\r\n  },\r\n}\r\nexport default IKDataEntity.ModelFactory(entity, {})\r\n","import GlobalSettings from '@/GlobalSettings'\r\n\r\nimport { IKDataEntity } from 'metaflow-js'\r\nimport hillo from 'hillo'\r\n\r\nconst entity = {\r\n  id: {\r\n    type: IKDataEntity.Types.Integer,\r\n    displayName: 'id',\r\n    tableConfig: {\r\n      align: 'start',\r\n    },\r\n    form: false,\r\n  },\r\n  name: {},\r\n  printTitle: {},\r\n  required: {\r\n    type: IKDataEntity.Types.Boolean,\r\n  },\r\n  multiSelect: {\r\n    type: IKDataEntity.Types.Boolean,\r\n  },\r\n  attrubuteCount: {\r\n    type: IKDataEntity.Types.Integer,\r\n    form: false,\r\n  },\r\n}\r\nconst config = {\r\n  load: async function (filter) {\r\n    return (await hillo.get('Category.php', {\r\n      op: 'showAttributeGroup',\r\n      lang: GlobalSettings.getLang(),\r\n      ...filter,\r\n    }))\r\n      .content\r\n  },\r\n  add: function (item) {\r\n    return hillo.postWithUploadFile('Category.php?op=addAttributeGroup', item, {\r\n      showLoading: true,\r\n    })\r\n  },\r\n  edit: function (item) {\r\n    return hillo.postWithUploadFile('Category.php?op=updateAttributeGroup', item, {\r\n      showLoading: true,\r\n    })\r\n  },\r\n  remove: function (id) {\r\n    return hillo.post('Category.php?op=deleteAttributeGroup', { id: id })\r\n  },\r\n}\r\n\r\nexport default IKDataEntity.ModelFactory(entity, config)\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-tabs',{model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tab',[_vm._v(_vm._s(_vm.$t('选择消费类型')))]),(_vm.activeConsumeTypeIndex)?[_c('v-tab',[_vm._v(_vm._s(_vm.$t('修改包餐设置')))]),_c('v-tab',[_vm._v(_vm._s(_vm.$t('修改饱餐菜品设置')))])]:_vm._e(),_c('v-tab-item',[_c('v-card',[_c('v-card-title',[_vm._v(\" \"+_vm._s(_vm.$t('请选择消费类型'))+\" \")]),_c('v-card-text',[_c('v-select',{attrs:{\"items\":_vm.consumeTypes,\"item-text\":\"name\",\"item-value\":\"id\",\"label\":_vm.$t('consumeTypeId')},model:{value:(_vm.activeConsumeTypeIndex),callback:function ($$v) {_vm.activeConsumeTypeIndex=$$v},expression:\"activeConsumeTypeIndex\"}})],1),(_vm.activeConsumeTypeIndex)?[_c('div',{staticClass:\"flex justify-space-between\"},[_c('v-btn',{staticClass:\"primary mb-3 ml-4\",on:{\"click\":function($event){_vm.settingDialog=true}}},[_vm._v(\" \"+_vm._s(_vm.$t('Buffet Setting'))+\" \")]),_c('v-btn',{attrs:{\"color\":\"red mb-3 ml-4\"},on:{\"click\":_vm.resetTime}},[_vm._v(\" \"+_vm._s(_vm.$t('重置全部自助餐时间'))+\" \")])],1),_c('v-dialog',{attrs:{\"max-width\":\"500\"},model:{value:(_vm.settingDialog),callback:function ($$v) {_vm.settingDialog=$$v},expression:\"settingDialog\"}},[_c('v-card',{attrs:{\"max-width\":\"500\"}},[_c('v-card-title',[_vm._v(\" \"+_vm._s(_vm.$t('自助餐'))+\" \"),_c('v-spacer')],1),_c('v-card-text',[_c('v-row',[_c('v-col',[_c('v-text-field',{attrs:{\"hide-details\":\"\",\"label\":_vm.$t('轮数')},model:{value:(_vm.setting.totalRound),callback:function ($$v) {_vm.$set(_vm.setting, \"totalRound\", $$v)},expression:\"setting.totalRound\"}})],1),_c('v-col',[_c('v-text-field',{attrs:{\"hide-details\":\"\",\"label\":_vm.$t('每轮时间')},model:{value:(_vm.setting.roundTime),callback:function ($$v) {_vm.$set(_vm.setting, \"roundTime\", $$v)},expression:\"setting.roundTime\"}})],1)],1),_c('v-row',[_c('v-col',[_c('v-text-field',{attrs:{\"hide-details\":\"\",\"label\":_vm.$t('最大用餐时间')},model:{value:(_vm.setting.maxDineTime),callback:function ($$v) {_vm.$set(_vm.setting, \"maxDineTime\", $$v)},expression:\"setting.maxDineTime\"}})],1),_c('v-col',[_c('v-text-field',{attrs:{\"hide-details\":\"\",\"label\":_vm.$t('儿童每轮数量')},model:{value:(_vm.setting.childRoundDishCount),callback:function ($$v) {_vm.$set(_vm.setting, \"childRoundDishCount\", $$v)},expression:\"setting.childRoundDishCount\"}})],1)],1),_c('v-row',[_c('v-col',[_c('v-btn',{attrs:{\"color\":\"primary\",\"block\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.$t('更新'))+\" \")])],1)],1)],1)],1)],1)]:_vm._e()],2)],1),(_vm.activeConsumeTypeIndex)?[_c('v-tab-item',[_c('v-row',{staticClass:\"mt-4 pa-4\"},[_c('v-col',{attrs:{\"cols\":\"12\",\"lg\":\"6\",\"md\":\"6\"}},[_c('v-card',[_c('ik-data-table',{attrs:{\"one-page-arrangement\":false,\"model\":_vm.buffetPriceModel,\"filter\":_vm.filter,\"entity-name\":_vm.$t('自助价格菜品'),\"icon\":\"mdi-account-child\",\"use-edit-action\":false}})],1)],1),_c('v-col',{attrs:{\"cols\":\"12\",\"lg\":\"6\",\"md\":\"6\"}},[_c('v-card',[_c('ik-data-table',{attrs:{\"one-page-arrangement\":false,\"model\":_vm.buffetModel,\"filter\":_vm.filter,\"entity-name\":_vm.$t('时间设置'),\"icon\":\"mdi-account-child\"}})],1)],1)],1)],1),_c('v-tab-item',[_c('ik-data-table',{attrs:{\"model\":_vm.model,\"filter\":_vm.filter,\"entity-name\":_vm.$t('自助类型设置'),\"icon\":\"mdi-account-child\",\"use-action\":false}})],1)]:_vm._e()],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { IKDataEntity } from 'metaflow-js'\r\nimport hillo from 'hillo'\r\nimport Dish from '@/model/Dish'\r\nimport Category from '@/model/Category'\r\nimport CategoryType from '@/model/CategoryType'\r\n\r\nconst entity = {\r\n  code: {},\r\n  dishId: {\r\n    displayName: 'name',\r\n    type: IKDataEntity.Types.Option,\r\n    formConfig: {\r\n      type: {\r\n        selectItems: Dish.getList,\r\n        itemText: '_langsname',\r\n      },\r\n    },\r\n  },\r\n  dishesCategoryId: {\r\n    // displayName: 'consumeTypeId',\r\n    type: IKDataEntity.Types.Option,\r\n    formConfig: {\r\n      type: {\r\n        selectItems: Category.getList,\r\n        itemText: '_langsname',\r\n      },\r\n    },\r\n  },\r\n  dishesCategoryTypeId: {\r\n    displayName: 'warengruppe',\r\n    type: IKDataEntity.Types.Option,\r\n    formConfig: {\r\n      type: {\r\n        selectItems: CategoryType.getList,\r\n        itemText: 'name',\r\n      },\r\n    },\r\n  },\r\n\r\n  showing: {\r\n    type: IKDataEntity.Types.Boolean,\r\n  },\r\n  isFree: {\r\n    type: IKDataEntity.Types.Boolean,\r\n  },\r\n\r\n}\r\n\r\nlet counter = 0\r\nconst config = {\r\n  edit: function (item) {\r\n    const request = []\r\n    request.push(hillo.post('Dishes.php', item, {\r\n      params: {\r\n        op: (item.showing ? 'enable' : 'disable') + 'SingleDishShowInConsumeType',\r\n      },\r\n    }))\r\n    request.push(hillo.post('Dishes.php', item, {\r\n      params: {\r\n        op: (item.isFree ? 'enable' : 'disable') + 'SingleDishFreeInConsumeType',\r\n      },\r\n    }))\r\n    return Promise.all(request)\r\n  },\r\n\r\n  load: async function (filter) {\r\n    return ((await hillo.get('Dishes.php?op=showDishesShowAndFreeByConsumeType',\r\n      ...filter,\r\n    ))\r\n      .content).map(d => {\r\n      d.id = counter\r\n      counter++\r\n      return d\r\n    })\r\n  },\r\n}\r\n\r\nexport default IKDataEntity.ModelFactory(entity, config)\r\n","import { IKDataEntity } from 'metaflow-js'\r\nimport hillo from 'hillo'\r\nimport ConsumeType from '@/model/ConsumeType'\r\nimport WeekDays from '@/model/WeekDays'\r\nimport IKUtils from 'innerken-js-utils'\r\n\r\nconst entity = {\r\n  id: {\r\n    type: IKDataEntity.Types.Integer,\r\n    displayName: 'id',\r\n    tableConfig: {\r\n      align: 'start',\r\n    },\r\n    header: false,\r\n    formConfig: {\r\n      requiredNew: false,\r\n    },\r\n  },\r\n\r\n  consumeTypeId: {\r\n    // displayName: 'name',\r\n    type: IKDataEntity.Types.Option,\r\n    formConfig: {\r\n      type: {\r\n        selectItems: ConsumeType.getList,\r\n        itemText: 'name',\r\n      },\r\n    },\r\n  },\r\n\r\n  fromTime: {\r\n    type: IKDataEntity.Types.Time,\r\n    // displayName: 'Zeit ab',\r\n  },\r\n  toTime: {\r\n    type: IKDataEntity.Types.Time,\r\n    // displayName: 'Zeit bis',\r\n  },\r\n\r\n  dayOfWeek: {\r\n    type: IKDataEntity.Types.Option,\r\n    formConfig: {\r\n      type: {\r\n        selectItems: WeekDays.getList(),\r\n        itemText: 'name',\r\n        multiple: true,\r\n      },\r\n    },\r\n  },\r\n}\r\n\r\nconst config = {\r\n\r\n  load: async function (filter) {\r\n    return ((await hillo.get('ConsumeType.php?op=showConsumeTypeTimeSpanByConsumeType',\r\n      ...filter,\r\n    ))\r\n      .content)\r\n  },\r\n  add: async function (item) {\r\n    const tempItem = item\r\n    console.log(tempItem, 'tempItem')\r\n    for (const dayOfWeek of item.dayOfWeek) {\r\n      tempItem.dayOfWeek = dayOfWeek\r\n      hillo.post('ConsumeType.php?op=addConsumeTypeTimeSpan', {\r\n        ...tempItem,\r\n      }, {\r\n        showLoading: true,\r\n      })\r\n    }\r\n  },\r\n  remove: function (id) {\r\n    return hillo.post('ConsumeType.php?op=deleteConsumeTypeTimeSpan', { id: id })\r\n  },\r\n  edit: function (item) {\r\n    // const tempItem = item\r\n    // console.log(tempItem, 'edit Item')\r\n    // for (const dayOfWeek in item.dayOfWeek) {\r\n    //   tempItem.dayOfWeek = dayOfWeek\r\n    //   hillo.postWithUploadFile('ConsumeType.php?op=editConsumeTypeTimeSpan', ...tempItem, {\r\n    //     showLoading: true,\r\n    //   })\r\n    // }\r\n    console.log('edit item', item)\r\n    return hillo.postWithUploadFile('ConsumeType.php?op=editConsumeTypeTimeSpan', item, {\r\n      showLoading: true,\r\n    })\r\n  },\r\n  resetTimeSpan: async function (list) {\r\n    IKUtils.showLoading(true)\r\n    for (const item of list) {\r\n      item.fromTime = '00:00:00'\r\n      item.toTime = '23:59:59'\r\n      hillo.postWithUploadFile('ConsumeType.php?op=editConsumeTypeTimeSpan', item, {\r\n        showLoading: false,\r\n      })\r\n    }\r\n    IKUtils.toast('OK')\r\n  },\r\n\r\n}\r\n\r\nexport default IKDataEntity.ModelFactory(entity, config)\r\n","import { IKDataEntity } from 'metaflow-js'\r\nimport hillo from 'hillo'\r\nimport ConsumeType from '@/model/ConsumeType'\r\nimport Dish from '@/model/Dish'\r\n\r\nconst entity = {\r\n  dishesId: {\r\n    // displayName: 'name',\r\n    type: IKDataEntity.Types.Option,\r\n    formConfig: {\r\n      type: {\r\n        selectItems: Dish.getBuffet,\r\n        itemText: '_langsname',\r\n      },\r\n    },\r\n  },\r\n  consumeTypeId: {\r\n    type: IKDataEntity.Types.Option,\r\n    formConfig: {\r\n      disableEdit: true,\r\n      type: {\r\n        selectItems: ConsumeType.getList,\r\n        itemText: 'name',\r\n      },\r\n    },\r\n  },\r\n  isForAdult: {\r\n    type: IKDataEntity.Types.Boolean,\r\n    // displayName: 'Für Erwachsene',\r\n  },\r\n}\r\n\r\nconst config = {\r\n\r\n  load: async function (filter) {\r\n    return ((await hillo.get('ConsumeType.php?op=showBuffetPriceDishToConsumeTypeByConsumeType',\r\n      ...filter,\r\n    ))\r\n      .content).map(d => {\r\n        d.id = d.dishesId\r\n        return d\r\n      })\r\n  },\r\n  add: function (item) {\r\n    item.dishId = item.dishesId\r\n    item.isForAdult = item.isForAdult ? 1 : 0\r\n    // Don't ask why exists dishId and dishesId\r\n    return hillo.postWithUploadFile('ConsumeType.php?op=setBuffetPriceDishToConsumeType', item, {\r\n      showLoading: true,\r\n    })\r\n  },\r\n  remove: function (id) {\r\n    const uploadRemoveItem = { dishId: id }\r\n    return hillo.post('ConsumeType.php?op=deleteBuffetPriceDishToConsumeType', uploadRemoveItem)\r\n  },\r\n}\r\n\r\nexport default IKDataEntity.ModelFactory(entity, config)\r\n","<template>\r\n  <div>\r\n    <v-tabs\r\n      v-model=\"tab\"\r\n    >\r\n      <v-tab>{{ $t('选择消费类型') }}</v-tab>\r\n      <template v-if=\"activeConsumeTypeIndex\">\r\n        <v-tab>{{ $t('修改包餐设置') }}</v-tab>\r\n        <v-tab>{{ $t('修改饱餐菜品设置') }}</v-tab>\r\n      </template>\r\n      <v-tab-item>\r\n        <v-card>\r\n          <v-card-title>\r\n            {{ $t('请选择消费类型') }}\r\n          </v-card-title>\r\n          <v-card-text>\r\n            <v-select\r\n              v-model=\"activeConsumeTypeIndex\"\r\n              :items=\"consumeTypes\"\r\n              item-text=\"name\"\r\n              item-value=\"id\"\r\n              :label=\"$t('consumeTypeId')\"\r\n            />\r\n          </v-card-text>\r\n          <template v-if=\"activeConsumeTypeIndex\">\r\n            <div class=\"flex justify-space-between\">\r\n              <v-btn\r\n                class=\"primary mb-3 ml-4\"\r\n                @click=\"settingDialog=true\"\r\n              >\r\n                {{ $t('Buffet Setting') }}\r\n              </v-btn>\r\n\r\n              <v-btn\r\n                color=\"red mb-3 ml-4\"\r\n                @click=\"resetTime\"\r\n              >\r\n                {{ $t('重置全部自助餐时间') }}\r\n              </v-btn>\r\n            </div>\r\n            <v-dialog\r\n              v-model=\"settingDialog\"\r\n              max-width=\"500\"\r\n            >\r\n              <v-card\r\n                max-width=\"500\"\r\n              >\r\n                <v-card-title>\r\n                  {{ $t('自助餐') }}\r\n                  <v-spacer/>\r\n                </v-card-title>\r\n                <v-card-text>\r\n                  <v-row>\r\n                    <v-col>\r\n                      <v-text-field\r\n                        v-model=\"setting.totalRound\"\r\n                        hide-details\r\n                        :label=\"$t('轮数')\"\r\n                      />\r\n                    </v-col>\r\n                    <v-col>\r\n                      <v-text-field\r\n                        v-model=\"setting.roundTime\"\r\n                        hide-details\r\n                        :label=\"$t('每轮时间')\"\r\n                      />\r\n                    </v-col>\r\n                  </v-row>\r\n                  <v-row>\r\n                    <v-col>\r\n                      <v-text-field\r\n                        v-model=\"setting.maxDineTime\"\r\n                        hide-details\r\n                        :label=\"$t('最大用餐时间')\"\r\n                      />\r\n                    </v-col>\r\n                    <v-col>\r\n                      <v-text-field\r\n                        v-model=\"setting.childRoundDishCount\"\r\n                        hide-details\r\n                        :label=\"$t('儿童每轮数量')\"\r\n                      />\r\n                    </v-col>\r\n                  </v-row>\r\n                  <v-row>\r\n                    <v-col>\r\n                      <v-btn\r\n                        color=\"primary\"\r\n                        block\r\n                      >\r\n                        {{ $t('更新') }}\r\n                      </v-btn>\r\n                    </v-col>\r\n                  </v-row>\r\n                </v-card-text>\r\n              </v-card>\r\n            </v-dialog>\r\n          </template>\r\n        </v-card>\r\n      </v-tab-item>\r\n      <template v-if=\"activeConsumeTypeIndex\">\r\n        <v-tab-item>\r\n          <v-row class=\"mt-4 pa-4\">\r\n            <v-col\r\n              cols=\"12\"\r\n              lg=\"6\"\r\n              md=\"6\"\r\n            >\r\n              <v-card>\r\n                <ik-data-table\r\n                  :one-page-arrangement=\"false\"\r\n                  :model=\"buffetPriceModel\"\r\n                  :filter=\"filter\"\r\n                  :entity-name=\"$t('自助价格菜品')\"\r\n                  icon=\"mdi-account-child\"\r\n                  :use-edit-action=\"false\"\r\n                />\r\n              </v-card>\r\n            </v-col>\r\n            <v-col\r\n              cols=\"12\"\r\n              lg=\"6\"\r\n              md=\"6\"\r\n            >\r\n              <v-card>\r\n                <ik-data-table\r\n                  :one-page-arrangement=\"false\"\r\n                  :model=\"buffetModel\"\r\n                  :filter=\"filter\"\r\n                  :entity-name=\"$t('时间设置')\"\r\n                  icon=\"mdi-account-child\"\r\n                />\r\n              </v-card>\r\n            </v-col>\r\n          </v-row>\r\n        </v-tab-item>\r\n        <v-tab-item>\r\n          <ik-data-table\r\n            :model=\"model\"\r\n            :filter=\"filter\"\r\n            :entity-name=\"$t('自助类型设置')\"\r\n            icon=\"mdi-account-child\"\r\n            :use-action=\"false\"\r\n          />\r\n        </v-tab-item>\r\n      </template>\r\n    </v-tabs>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import DishesConsumeType from '@/model/DishesConsumeType'\r\n  import { IkDataTable } from 'metaflow-js'\r\n  import ConsumeType from '@/model/ConsumeType'\r\n  import Dish from '@/model/Dish'\r\n  import BuffetTimeSpan from '@/model/BuffetTimeSpan'\r\n  import BuffetPrice from '@/model/BuffetPrice'\r\n\r\n  const defaultSetting = {\r\n    roundDishCount: 0,\r\n    childRoundDishCount: 0,\r\n    maxDineTime: 0,\r\n    roundTime: 0,\r\n    totalRound: 0,\r\n  }\r\n  export default {\r\n    name: 'BuffetSetting',\r\n    components: {\r\n      IkDataTable,\r\n    },\r\n    data: function () {\r\n      return {\r\n        tab: null,\r\n        model: DishesConsumeType,\r\n        buffetModel: BuffetTimeSpan,\r\n        buffetPriceModel: BuffetPrice,\r\n        consumeTypes: [],\r\n        settingDialog: false,\r\n        dishes: [],\r\n        activeConsumeTypeIndex: null,\r\n        setting: defaultSetting,\r\n      }\r\n    },\r\n    computed: {\r\n      filter: function () {\r\n        return this.activeConsumeTypeIndex ? { consumeTypeId: this.activeConsumeTypeIndex } : null\r\n      },\r\n    },\r\n    async mounted () {\r\n      this.consumeTypes = await ConsumeType.getList()\r\n      this.dishes = await Dish.getList()\r\n    },\r\n    methods: {\r\n      async resetTime () {\r\n        const temp = await BuffetTimeSpan.getList()\r\n        console.log('async timespan:', temp, 'typeof fromTime', typeof (temp[0].fromTime))\r\n        await BuffetTimeSpan.resetTimeSpan(temp)\r\n      },\r\n    },\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuffetSetting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuffetSetting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BuffetSetting.vue?vue&type=template&id=62067445&scoped=true&\"\nimport script from \"./BuffetSetting.vue?vue&type=script&lang=js&\"\nexport * from \"./BuffetSetting.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"62067445\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VCol,VDialog,VRow,VSelect,VSpacer,VTab,VTabItem,VTabs,VTextField})\n","import { IKDataEntity } from 'metaflow-js'\r\nimport hillo from 'hillo'\r\nimport GlobalSettings from '@/GlobalSettings'\r\nimport store from '../store'\r\nimport Category from './Category'\r\nimport PrinterGroup from './PrinterGroup'\r\nimport Allergen from './Allergen'\r\nimport StringEntity from './StringEntity'\r\nimport AttributeGroup from './AttributeGroup'\r\nimport i18n from '../i18n'\r\n\r\nconst showImage = Boolean(GlobalSettings.isShowOnTable === '0')\r\n\r\nconst entity = {\r\n  id: {\r\n    type: IKDataEntity.Types.Integer,\r\n    displayName: 'id',\r\n    form: false,\r\n    header: true,\r\n  },\r\n  image: {\r\n    type: IKDataEntity.Types.Image,\r\n    formConfig: {\r\n      type: {\r\n        root: () => store.getters.rootUrl + GlobalSettings.dishImageRoot,\r\n      },\r\n      required: false,\r\n    },\r\n    tableConfig: { filterable: false },\r\n    displayName: 'image',\r\n    header: showImage,\r\n  },\r\n  color: {\r\n    type: IKDataEntity.Types.Color,\r\n    formConfig: {\r\n      required: false,\r\n    },\r\n    tableConfig: { filterable: false },\r\n  },\r\n  code: {\r\n    tableConfig: {\r\n      width: '60px',\r\n    },\r\n    header: false,\r\n  },\r\n  displayCode: {\r\n    displayName: 'code',\r\n    form: false,\r\n    tableConfig: {},\r\n  },\r\n\r\n  dishName: {\r\n    displayName: 'name',\r\n    form: false,\r\n    tableConfig: {},\r\n  },\r\n  price: {\r\n    type: IKDataEntity.Types.Float,\r\n    formConfig: {\r\n      default: '',\r\n      overwriteRule: true,\r\n      rule: [\r\n        v => /^[0-9]+\\.{0,1}[0-9]{0,2}$/.test(v) || 'Bitte geben Sie den richtigen Preis ein',\r\n      ],\r\n    },\r\n  },\r\n\r\n  langs: {\r\n    displayName: 'name',\r\n    type: IKDataEntity.Types.Group,\r\n    formConfig: {\r\n      groupName: 'name',\r\n      default: GlobalSettings.supportLang,\r\n      childLabelKey: 'lang',\r\n      type: {},\r\n    },\r\n    tableConfig: {\r\n      displayCondition: (item) => {\r\n        return item.lang.toLowerCase() === GlobalSettings.getLang().toLowerCase()\r\n      },\r\n      displayChild: (key) => {\r\n        return key === 'name'\r\n      },\r\n    },\r\n    childKey: ['name', 'desc'],\r\n    labelKey: 'lang',\r\n    children: [\r\n      StringEntity, StringEntity, StringEntity,\r\n    ],\r\n    header: false,\r\n  },\r\n\r\n  printGroupId: {\r\n    displayName: i18n.t('printCatName'),\r\n    type: IKDataEntity.Types.Option,\r\n    formConfig: {\r\n      default: 1,\r\n      type: {\r\n        selectItems: PrinterGroup.getList,\r\n      },\r\n    },\r\n  },\r\n  extraPrintGroupIds: {\r\n    displayName: i18n.t('extraPrintGroup'),\r\n    type: IKDataEntity.Types.Option,\r\n    formConfig: {\r\n      type: {\r\n        multiple: true,\r\n        selectItems: PrinterGroup.getList,\r\n      },\r\n      required: false,\r\n    },\r\n    header: false,\r\n  },\r\n  categoryId: {\r\n    displayName: '分类',\r\n    tableConfig: { filterable: false },\r\n    type: IKDataEntity.Types.Option,\r\n    formConfig: {\r\n      type: {\r\n        selectItems: Category.getList,\r\n        itemText: '_langsname',\r\n      },\r\n    },\r\n  },\r\n  AllergenId: {\r\n    displayName: i18n.t('过敏源'),\r\n    type: IKDataEntity.Types.Option,\r\n    formConfig: {\r\n      type: {\r\n        selectItems: Allergen.getList,\r\n        multiple: true,\r\n      },\r\n      required: false,\r\n    },\r\n    header: false,\r\n  },\r\n  attributeGroupId: {\r\n    displayName: i18n.t('attributeGroupNames'),\r\n    type: IKDataEntity.Types.Option,\r\n    formConfig: {\r\n      merge: false,\r\n      required: false,\r\n      type: {\r\n        selectItems: AttributeGroup.getList,\r\n        multiple: true,\r\n        disabledItem: (item, editedItem) => {\r\n          if (editedItem.inheritAttributeGroupId) {\r\n            return ({\r\n              ...item,\r\n              disabled: editedItem.inheritAttributeGroupId.includes(item.id),\r\n            })\r\n          } else {\r\n            return item\r\n          }\r\n        },\r\n      },\r\n    },\r\n    header: false,\r\n  },\r\n  localAttributeGroupId: {\r\n    type: IKDataEntity.Types.Option,\r\n    formConfig: {\r\n      type: {\r\n        selectItems: AttributeGroup.getList,\r\n        multiple: true,\r\n      },\r\n    },\r\n    form: false,\r\n    header: false,\r\n  },\r\n\r\n  inheritAttributeGroupId: {\r\n    displayName: 'AttributeGroupName',\r\n    type: IKDataEntity.Types.Option,\r\n    formConfig: {\r\n      type: {\r\n        selectItems: AttributeGroup.getList,\r\n        multiple: true,\r\n      },\r\n    },\r\n    form: false,\r\n    header: false,\r\n  },\r\n  dishWeight: {\r\n    displayName: 'DishWeight',\r\n    type: IKDataEntity.Types.Integer,\r\n    formConfig: {\r\n      default: 1,\r\n      required: false,\r\n      rule: [\r\n        v => /^[0-9]\\d*$/.test(v) || 'Bitte geben Sie die ganze Zahl ein',\r\n      ],\r\n    },\r\n    header: false,\r\n  },\r\n  isActive: {\r\n    type: IKDataEntity.Types.Boolean,\r\n    displayName: 'isActive',\r\n    formConfig: {\r\n      default: 1,\r\n      required: false,\r\n    },\r\n  },\r\n  dishAlias: {\r\n    required: false,\r\n    formConfig: {\r\n      requiredNew: false,\r\n      requiredEdit: false,\r\n    },\r\n    header: false,\r\n  },\r\n\r\n}\r\nconst config = {\r\n\r\n  load: async function (filter) {\r\n    // const allPfands = await Pfand.getList()\r\n    // console.log('allPfands', allPfands)\r\n\r\n    return (await hillo.get('Dishes.php', {\r\n      lang: GlobalSettings.getLang(),\r\n      onlyActive: 0,\r\n      ...filter,\r\n    }))\r\n      .content.map(function (item) {\r\n        item.displayCode = item.code.length > 5 ? item.code.slice(0, 5) + '...' : item.code\r\n        item.id = item.dishId\r\n        item.attributeGroupId = [\r\n          item.inheritAttributeGroupId ? item.inheritAttributeGroupId.split(',') : [],\r\n          item.localAttributeGroupId ? item.localAttributeGroupId.split(',') : [],\r\n        ].flat().join(',')\r\n        item.langs = item.langs.map(i => {\r\n          return {\r\n            ...i,\r\n            desc: i.description,\r\n          }\r\n        })\r\n        return item\r\n      })\r\n  },\r\n\r\n  multipleAdd: function (item) {\r\n    return hillo.postWithUploadFile('Dishes.php?op=add', {\r\n      ...item,\r\n      params: JSON.stringify(item),\r\n    }, { showLoading: false })\r\n  },\r\n  add: function (item) {\r\n    item.attributeGroup = item.attributeGroupId\r\n      .filter(i => !item.inheritAttributeGroupId.includes(i)).join(',')\r\n    item.allergenGroup = item.AllergenId.join(',')\r\n    console.log(item.extraPrintGroupIds)\r\n    item.extraPrintGroupIds = item.extraPrintGroupIds?.join ? item.extraPrintGroupIds.join(',') : ''\r\n\r\n    return hillo.postWithUploadFile('Dishes.php?op=add', {\r\n      ...item,\r\n      params: JSON.stringify(item),\r\n    }, { showLoading: true })\r\n  },\r\n\r\n  remove: function (id) {\r\n    return hillo.post('Dishes.php?op=delete', { id: id })\r\n  },\r\n  edit: function (item) {\r\n    item.attributeGroup = item.attributeGroupId\r\n      .filter(i => !item.inheritAttributeGroupId.includes(i)).join(',')\r\n    item.allergenGroup = item.AllergenId.join(',')\r\n    item.extraPrintGroupIds = item.extraPrintGroupIds?.join ? item.extraPrintGroupIds.join(',') : ''\r\n    if (item.file) {\r\n      item.imageExt = item.file.name.split('.')[1]\r\n    }\r\n    item.isActive = item.isActive ? 1 : 0\r\n\r\n    // hillo.postWithUploadFile('Dishes.php?op=flipManyCombination', {\r\n    //   dishIdComboDishIds: JSON.stringify(item),\r\n    // })\r\n\r\n    return hillo.postWithUploadFile('Dishes.php?op=update', {\r\n      ...item,\r\n      params: JSON.stringify(item),\r\n    }, { showLoading: true })\r\n  },\r\n\r\n}\r\nconst DishModel = IKDataEntity.ModelFactory(entity, config)\r\nDishModel.getBuffet = async function () {\r\n  return (await DishModel.getList()).filter(i => i.dishesCategoryTypeId === '8')\r\n}\r\nexport default DishModel\r\n","import i18n from '../i18n'\r\nexport default {\r\n  list: [\r\n    {\r\n      id: 1,\r\n      name: i18n.t('Monday'),\r\n    }, {\r\n      id: 2,\r\n      name: i18n.t('Tuesday'),\r\n    }, {\r\n      id: 3,\r\n      name: i18n.t('Wednesday'),\r\n    }, {\r\n      id: 4,\r\n      name: i18n.t('Thursday'),\r\n    }, {\r\n      id: 5,\r\n      name: i18n.t('Friday'),\r\n    }, {\r\n      id: 6,\r\n      name: i18n.t('Saturday'),\r\n    }, {\r\n      id: 7,\r\n      name: i18n.t('Sunday'),\r\n    },\r\n  ],\r\n  getList: function () {\r\n    return this.list\r\n  },\r\n}\r\n","import GlobalSettings from '@/GlobalSettings'\r\nimport { IKDataEntity } from 'metaflow-js'\r\nimport hillo from 'hillo'\r\n\r\nconst entity = {\r\n  id: {\r\n    type: IKDataEntity.Types.Integer,\r\n    displayName: 'id',\r\n    tableConfig: {\r\n      align: 'start',\r\n    },\r\n    formConfig: {\r\n      requiredNew: false,\r\n    },\r\n  },\r\n  name: {},\r\n  lang: {},\r\n}\r\nconst config = {\r\n  load: async function (filter) {\r\n    return (await hillo.get('CategoryType.php', {\r\n      lang: GlobalSettings.getLang(),\r\n      ...filter,\r\n    }))\r\n      .content\r\n  },\r\n}\r\n\r\nexport default IKDataEntity.ModelFactory(entity, config)\r\n"],"sourceRoot":""}