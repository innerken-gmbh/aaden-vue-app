(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-63c069ca"],{"1f00":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"fill-height align-start",attrs:{fluid:""}},[a("v-container",{attrs:{fluid:""}},[a("v-card",{staticClass:"mb-2 py-2"},[a("v-card-title",{staticClass:"font-weight-bold d-flex justify-center pt-4 display-2"},[t._v(" "+t._s(t.$t("现金总额"))+": "),a("span",{staticClass:"pl-4"},[t._v(" "+t._s(t.currentAmount)+" Euro ")])])],1),a("v-card",{staticClass:"d-flex"},[a("v-card",{staticClass:"pt-3 d-flex pr-1",staticStyle:{width:"33%","border-right":"1px solid lightgrey"},attrs:{flat:""}},[a("v-card-text",[a("v-card-title",{staticClass:"display-3 font-weight-bold"},[t._v(" "+t._s(t.$t("现金支出"))+" ")]),a("v-text-field",{attrs:{label:t.$t("现金支出，直接使用数字，然后点添加记录"),placeholder:t.$t("请输入金额")},model:{value:t.amountCashBook,callback:function(e){t.amountCashBook=e},expression:"amountCashBook"}}),a("v-text-field",{attrs:{label:t.$t("remark"),placeholder:t.$t("请添加备注")},model:{value:t.noteCashBook,callback:function(e){t.noteCashBook=e},expression:"noteCashBook"}}),a("div",[a("v-spacer"),a("v-btn",{staticClass:"primary",attrs:{large:""},on:{click:function(e){return t.saveCashBook(t.amountCashBook,t.noteCashBook)}}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-content-save-outline ")]),t._v(" "+t._s(t.$t("添加记录"))+" ")],1)],1)],1)],1),a("v-card",{staticClass:"pt-3 d-flex",staticStyle:{width:"33%","border-right":"1px solid lightgrey"},attrs:{flat:""}},[a("v-card-text",[a("v-card-title",{staticClass:"font-weight-bold display-3"},[t._v(" "+t._s(t.$t("买东西支出"))+" ")]),a("v-text-field",{attrs:{label:t.$t("买东西支出，直接使用数字，然后点添加记录"),placeholder:t.$t("请输入金额")},model:{value:t.amountCashBookSpecial,callback:function(e){t.amountCashBookSpecial=e},expression:"amountCashBookSpecial"}}),a("v-text-field",{attrs:{label:t.$t("remark"),placeholder:t.$t("请添加备注")},model:{value:t.noteCashBookSpecial,callback:function(e){t.noteCashBookSpecial=e},expression:"noteCashBookSpecial"}}),a("div",[a("v-spacer"),a("v-btn",{staticClass:"green white--text",attrs:{large:""},on:{click:function(e){return t.saveCashBook(t.amountCashBookSpecial,t.noteCashBookSpecial,1)}}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-content-save-outline ")]),t._v(" "+t._s(t.$t("添加记录"))+" ")],1)],1)],1)],1),a("v-card",{staticClass:"pt-3 d-flex",staticStyle:{width:"33%"},attrs:{flat:""}},[a("v-card-text",[a("v-card-title",{staticClass:"font-weight-bold display-3"},[t._v(" "+t._s(t.$t("现金收入"))+" ")]),a("v-text-field",{attrs:{label:t.$t("现金收入，直接使用数字，然后点添加记录"),placeholder:t.$t("请输入金额")},model:{value:t.amountCashBookInput,callback:function(e){t.amountCashBookInput=e},expression:"amountCashBookInput"}}),a("v-text-field",{attrs:{label:t.$t("remark"),placeholder:t.$t("请添加备注")},model:{value:t.noteCashBookInput,callback:function(e){t.noteCashBookInput=e},expression:"noteCashBookInput"}}),a("div",[a("v-spacer"),a("v-btn",{staticClass:"white--text",attrs:{large:""},on:{click:function(e){return t.saveCashBook(-t.amountCashBookInput,t.noteCashBookInput)}}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-content-save-outline ")]),t._v(" "+t._s(t.$t("添加记录"))+" ")],1)],1)],1)],1)],1),a("ik-data-table",{staticClass:"mt-5",attrs:{model:t.model,"entity-name":t.$t("现金账"),icon:"mdi-devices",filter:t.filter,"use-default-action":!1,"use-select":!1,"use-edit-action":!1},scopedSlots:t._u([{key:"filterLeft",fn:function(){return[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.dates,"offset-y":""},on:{"update:returnValue":function(e){t.dates=e},"update:return-value":function(e){t.dates=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-text-field",t._g({staticClass:"ml-auto",staticStyle:{"max-width":"250px"},attrs:{"hide-details":"",label:t.$t("日期筛选"),"prepend-icon":"mdi-calendar",readonly:"","single-line":"","append-icon":"mdi-close"},on:{"click:append":t.clear},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}},n))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":"",range:"",scrollable:"",locale:"de"},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v(" "+t._s(t.$t("Cancel"))+" ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.dates)}}},[t._v(" "+t._s(t.$t("OK"))+" ")])],1)],1)]},proxy:!0}])})],1)],1)},o=[],r=(a("96cf"),a("1da1")),s=a("5530"),i=a("f4d6"),c=a("9d8f"),l=a.n(c),u=a("6f56"),d={orderId:{tableConfig:{align:"start"},formConfig:{requiredEdit:!1,requiredNew:!1},header:!1},payLogId:{type:i["IKDataEntity"].Types.Integer,displayName:"ID",formConfig:{}},payLogAmount:{type:i["IKDataEntity"].Types.Float,displayName:"Amount",formConfig:{type:{}}},updateTimestamp:{},consumeTypeId:{type:i["IKDataEntity"].Types.Option,formConfig:{type:{selectItems:u["a"].getList,itemText:"_langsname"}}},cashAccountNote:{displayName:"Note"}},p={load:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("CashBook run"),console.log(e,"i am loaded"),console.log(e[0],"Data"),e[0].toDate||(e[0].toDate=e[0].fromDate),t.next=6,l.a.get("Complex.php?op=getCashInOutDetail",Object(s["a"])({},e[0]));case 6:return a=t.sent.content,console.log("dateCashBook",a),t.abrupt("return",a);case 9:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},f=i["IKDataEntity"].ModelFactory(d,p),m=a("0a61"),h=a("5a0c"),v=a.n(h),g=a("ccdd"),C=v()().format("YYYY-MM-DD"),y=[C,C],b={components:{IkDataTable:i["IkDataTable"]},data:function(){return{model:f,dates:y,amountCashBook:null,amountCashBookSpecial:null,amountCashBookInput:null,noteCashBook:"",noteCashBookSpecial:"",noteCashBookInput:"",menu:!1,currentAmount:-1}},computed:{filter:function(){if(Date.parse(this.dates[0])>Date.parse(this.dates[1])){var t=[this.dates[1],this.dates[0]];this.dates[0]=t[0],this.dates[1]=t[1]}var e={fromDate:this.dates[0],toDate:this.dates[1]};return e}},watch:{},created:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.showCashAmount();case 2:case"end":return e.stop()}}),e)})))()},methods:{initialize:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.showCashAmount();case 2:t.clear();case 3:case"end":return e.stop()}}),e)})))()},clear:function(){this.dates=[C,C]},clearInput:function(){this.amountCashBook=0,this.amountCashBookSpecial=0,this.noteCashBook="",this.noteCashBookSpecial=""},showCashAmount:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(m["r"])();case 2:t.currentAmount=e.sent;case 3:case"end":return e.stop()}}),e)})))()},saveCashBook:function(t,e,a){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(!t){o.next=8;break}return o.next=3,Object(m["E"])(-t,e,a);case 3:return g["a"].toast("保存成功"),o.next=6,n.initialize();case 6:o.next=9;break;case 8:g["a"].showError("金额不能为空");case 9:n.clearInput();case 10:case"end":return o.stop()}}),o)})))()}}},k=b,x=a("2877"),w=a("6544"),B=a.n(w),I=a("8336"),_=a("b0af"),D=a("99d9"),O=a("a523"),S=a("2e4b"),$=a("132d"),j=a("e449"),N=a("2fa4"),T=a("8654"),E=Object(x["a"])(k,n,o,!1,null,null,null);e["default"]=E.exports;B()(E,{VBtn:I["a"],VCard:_["a"],VCardText:D["b"],VCardTitle:D["c"],VContainer:O["a"],VDatePicker:S["a"],VIcon:$["a"],VMenu:j["a"],VSpacer:N["a"],VTextField:T["a"]})},"6f56":function(t,e,a){"use strict";a("4160"),a("b0c0"),a("07ac"),a("159b");var n=a("5530"),o=(a("96cf"),a("1da1")),r=a("f4d6"),s=a("9d8f"),i=a.n(s),c=a("5089"),l=a("a86d"),u={id:{type:r["IKDataEntity"].Types.Integer,displayName:"id",tableConfig:{align:"start"},formConfig:{requiredNew:!1}},langs:{displayName:"name",type:r["IKDataEntity"].Types.Group,formConfig:{groupName:"name",default:c["b"].supportLang,childLabelKey:"lang",type:{}},tableConfig:{displayCondition:function(t){return t.lang.toUpperCase()===c["b"].getLang()},displayChild:function(t){return"name"===t}},childKey:["name","desc"],labelKey:"lang",children:[l["a"],l["a"],l["a"]],header:!1},name:{displayName:"shownName",form:!1},printName:{displayName:"printTitle"},zbonGroup:{displayName:"zbonGroup"},color:{type:r["IKDataEntity"].Types.Color,formConfig:{required:!1}}},d={load:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("Complex.php",Object(n["a"])({op:"showAllConsumeTypeInfo",lang:c["b"].getLang()},e));case 2:return a=t.sent.content,console.log(a,"response"),a.forEach((function(t){t.langs=Object.values(t.langs)})),t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),add:function(t){return t.name=t.langs[2].name,i.a.post("ConsumeType.php?op=add",Object(n["a"])(Object(n["a"])({},t),{},{langs:JSON.stringify(t.langs)}),{showLoading:!0})},edit:function(t){return t.name=t.langs[2].name,i.a.postWithUploadFile("ConsumeType.php?op=update",Object(n["a"])(Object(n["a"])({},t),{},{langs:JSON.stringify(t.langs)}),{showLoading:!0})},remove:function(t){return i.a.post("ConsumeType.php?op=delete",{id:t})}};e["a"]=r["IKDataEntity"].ModelFactory(u,d)},a523:function(t,e,a){"use strict";a("99af"),a("4de4"),a("b64b"),a("2ca0"),a("20f6"),a("4b85"),a("a15b"),a("498a");var n=a("2b0e");function o(t){return n["a"].extend({name:"v-".concat(t),functional:!0,props:{id:String,tag:{type:String,default:"div"}},render:function(e,a){var n=a.props,o=a.data,r=a.children;o.staticClass="".concat(t," ").concat(o.staticClass||"").trim();var s=o.attrs;if(s){o.attrs={};var i=Object.keys(s).filter((function(t){if("slot"===t)return!1;var e=s[t];return t.startsWith("data-")?(o.attrs[t]=e,!1):e||"string"===typeof e}));i.length&&(o.staticClass+=" ".concat(i.join(" ")))}return n.id&&(o.domProps=o.domProps||{},o.domProps.id=n.id),e(n.tag,o,r)}})}var r=a("d9f7");e["a"]=o("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render:function(t,e){var a,n=e.props,o=e.data,s=e.children,i=o.attrs;return i&&(o.attrs={},a=Object.keys(i).filter((function(t){if("slot"===t)return!1;var e=i[t];return t.startsWith("data-")?(o.attrs[t]=e,!1):e||"string"===typeof e}))),n.id&&(o.domProps=o.domProps||{},o.domProps.id=n.id),t(n.tag,Object(r["a"])(o,{staticClass:"container",class:Array({"container--fluid":n.fluid}).concat(a||[])}),s)}})},a86d:function(t,e,a){"use strict";var n=a("f4d6"),o={id:{type:n["IKDataEntity"].Types.Integer,displayName:"id",tableConfig:{align:"start"},formConfig:{requiredNew:!1}},name:{displayName:"Name"},lang:{},desc:{displayName:"Beschreibung",formConfig:{required:!1}}};e["a"]=n["IKDataEntity"].ModelFactory(o,{})},ccdd:function(t,e,a){"use strict";var n=a("5530"),o=a("641f"),r=a.n(o);e["a"]=Object(n["a"])({},r.a)}}]);
//# sourceMappingURL=chunk-63c069ca.eab76c1e.js.map