(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ab5af79"],{"8a36":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("base-material-card",{staticClass:"px-5 py-3",attrs:{color:"indigo",icon:"mdi-vuetify",inline:""}},[a("v-toolbar",{attrs:{dense:""}},[a("v-text-field",{staticClass:"ml-8",staticStyle:{"max-width":"250px"},attrs:{"hide-details":"",label:t.$t("日期筛选"),"prepend-icon":"mdi-calendar","append-icon":"mdi-close"},on:{change:t.reviewZbon,"click:append":t.clear},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}}),a("v-spacer"),a("v-switch",{staticClass:"mr-4",attrs:{"hide-details":"",label:t.isAllPrint?t.$t("已开启全部打印"):t.$t("未开启全部打印")},model:{value:t.isAllPrint,callback:function(e){t.isAllPrint=e},expression:"isAllPrint"}}),a("v-toolbar-items",[a("v-btn",{attrs:{large:"",color:"primary"},on:{click:t.printZbonBySpan}},[a("v-icon",[t._v("mdi-printer")]),t._v(" "+t._s(t.$t("打印"))+" ")],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"6",sm:"6"}},[a("v-date-picker",{staticStyle:{"font-size":"large","border-style":"solid","border-color":"#367aeb"},attrs:{range:"","full-width":"",max:t.todayDate,locale:"de"},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}})],1),a("v-col",{attrs:{cols:"12",md:"6",sm:"6"}},[t.taxInfos.length>0?a("v-card",{staticClass:"cardItem"},[a("v-card-title",{staticClass:"text-center justify-center text-h3 font-weight-bold"},[a("div",[t._v(t._s(t.$t("统计")))])]),a("v-divider"),a("div",{staticClass:"py-6 px-6 pb-2"},[a("div",[a("div",{staticClass:"d-flex justify-space-between text-subtitle-2 grey--text text--darken-2"},[a("div",[t._v(t._s(t.$t("Umsatz In Haus "))+t._s(parseInt(100*t.taxInfos[1].taxRateGroupValue))+"%")]),a("div",[t._v(t._s(t._f("priceDisplay")(t.taxInfos[1].taxGroupTotal))+"€")])]),a("div",{staticClass:"d-flex justify-space-between text-subtitle-2 grey--text text--darken-2"},[a("div",[t._v(t._s(t.$t("Umsatz Ausser Haus "))+t._s(parseInt(100*t.taxInfos[2].taxRateGroupValue))+"%")]),a("div",[t._v(t._s(t._f("priceDisplay")(t.taxInfos[2].taxGroupTotal))+"€")])]),a("v-divider",{staticClass:"mx-2 my-2"}),a("div",{staticClass:"d-flex justify-space-between font-weight-black grey--text text--darken-2"},[a("div",[t._v(t._s(t.$t("GesamtUmsatz "))+t._s(parseInt(100*t.taxInfos[0].taxRateGroupValue))+"%")]),a("div",[t._v(t._s(t._f("priceDisplay")(t.taxInfos[1].taxGroupTotal+t.taxInfos[2].taxGroupTotal))+"€")])]),a("div",{staticClass:"d-flex justify-space-between grey--text text--darken-2"},[a("div",[t._v("-"+t._s(t.$t("MWST")))]),a("div",[t._v(" "+t._s(t._f("priceDisplay")(t.taxInfos[1].taxGroupTotal/(1+t.taxInfos[1].taxRateGroupValue)*t.taxInfos[1].taxRateGroupValue+t.taxInfos[2].taxGroupTotal/(1+t.taxInfos[2].taxRateGroupValue)*t.taxInfos[2].taxRateGroupValue))+"€ ")])]),a("div",{staticClass:"d-flex justify-space-between grey--text text--darken-2"},[a("div",[t._v("-"+t._s(t.$t("Netto")))]),a("div",[t._v(" "+t._s(t._f("priceDisplay")(t.taxInfos[1].taxGroupTotal/(1+t.taxInfos[1].taxRateGroupValue)+t.taxInfos[2].taxGroupTotal/(1+t.taxInfos[2].taxRateGroupValue)))+"€ ")])]),a("v-divider",{staticClass:"mx-2 my-2"}),a("div",{staticClass:"d-flex justify-space-between text-subtitle-2 grey--text text--darken-2"},[a("div",[t._v(t._s(t.$t("Umsatz In Haus "))+t._s(parseInt(100*t.taxInfos[4].taxRateGroupValue))+"%")]),a("div",[t._v(t._s(t._f("priceDisplay")(t.taxInfos[4].taxGroupTotal))+"€")])]),a("div",{staticClass:"d-flex justify-space-between text-subtitle-2 grey--text text--darken-2"},[a("div",[t._v(t._s(t.$t("Umsatz Ausser Haus "))+t._s(parseInt(100*t.taxInfos[5].taxRateGroupValue))+"%")]),a("div",[t._v(t._s(t._f("priceDisplay")(t.taxInfos[5].taxGroupTotal))+"€")])]),a("v-divider",{staticClass:"mx-2 my-2"}),a("div",{staticClass:"d-flex justify-space-between font-weight-black grey--text text--darken-2"},[a("div",[t._v(t._s(t.$t("GesamtUmsatz "))+t._s(parseInt(100*t.taxInfos[3].taxRateGroupValue))+"%")]),a("div",[t._v(t._s(t._f("priceDisplay")(t.taxInfos[4].taxGroupTotal+t.taxInfos[5].taxGroupTotal))+"€")])]),a("div",{staticClass:"d-flex justify-space-between grey--text text--darken-2"},[a("div",[t._v("-"+t._s(t.$t("MWST")))]),a("div",[t._v(" "+t._s(t._f("priceDisplay")(t.taxInfos[4].taxGroupTotal/(1+t.taxInfos[4].taxRateGroupValue)*t.taxInfos[4].taxRateGroupValue+t.taxInfos[5].taxGroupTotal/(1+t.taxInfos[5].taxRateGroupValue)*t.taxInfos[3].taxRateGroupValue))+"€ ")])]),a("div",{staticClass:"d-flex justify-space-between grey--text text--darken-2"},[a("div",[t._v("-"+t._s(t.$t("Netto")))]),a("div",[t._v(" "+t._s(t._f("priceDisplay")(t.taxInfos[4].taxGroupTotal/(1+t.taxInfos[4].taxRateGroupValue)+t.taxInfos[5].taxGroupTotal/(1+t.taxInfos[5].taxRateGroupValue)))+"€ ")])]),a("v-divider",{staticClass:"mx-2 my-2"}),a("div",{staticClass:"d-flex justify-space-between font-weight-black grey--text text--darken-2"},[a("div",[t._v("Nettoumsatz:")]),a("div",[t._v(t._s(t.totalInfos[0])+"€")])]),a("div",{staticClass:"d-flex justify-space-between font-weight-black grey--text text--darken-2"},[a("div",[t._v("Umsatzsteuer:")]),a("div",[t._v(t._s(t.totalInfos[1])+"€")])]),a("div",{staticClass:"d-flex justify-space-between font-weight-black grey--text text--darken-2"},[a("div",[t._v("Tagsumsatz:")]),a("div",[t._v(t._s(t.totalInfos[2])+"€")])]),t._l(t.servantInfo,(function(e,s){return[a("div",{key:s,staticClass:"d-flex justify-space-between grey--text text--darken-2"},[a("div",[t._v("Kellner:"+t._s(e.name))]),a("div",[t._v(t._s(e.fTotal)+"€")])])]})),t._l(t.paidInfo,(function(e,s){return[a("div",{key:s+e.paidName,staticClass:"d-flex justify-space-between grey--text text--darken-2"},[a("div",[t._v(t._s(e.paidName)+"("+t._s(e.paidCount)+")")]),a("div",[t._v(t._s(e.fPaidTotal)+"€")])])]})),a("div",{staticClass:"d-flex justify-space-between font-weight-black grey--text text--darken-2"},[a("div",[t._v(t._s(t.$t("Stornogesamt"))+":")]),a("div",[t._v(t._s(t.totalInfos[3])+"€")])]),a("div",{staticClass:"d-flex justify-space-between font-weight-black grey--text text--darken-2"},[a("div",[t._v(t._s(t.$t("Rabattgesamt"))+":")]),a("div",[t._v(t._s(t.totalInfos[4])+"€")])])],2)])],1):t._e()],1)],1)],1)],1)},n=[],i=(a("4160"),a("a9e3"),a("159b"),a("96cf"),a("1da1")),o=a("0a61"),r=a("ff51"),d=a("c1df"),l=a.n(d),c=a("641f"),f=a.n(c),u=a("ccdd"),x={props:{id:{default:-1,type:Number}},data:function(){return{finishZbonTime:"",dates:[],printDates:[],taxInfos:[],taxItem:{consumeTypeName:"",taxGroupTotal:0,taxRateGroupValue:0},totalInfos:[],servantInfo:[],paidInfo:[],isAllPrint:!1,menu:!1,loading:!1,currentIndex:0,servantId:this.id,servantData:{},infoList:[],search:"",editedItem:{}}},computed:{todayDate:function(){return Date.parse(new Date)>Date.parse(this.finishZbonTime)?l()(new Date).add(-1,"days").format("YYYY-MM-DD"):l()(new Date).add(-2,"days").format("YYYY-MM-DD")}},watch:{dates:{immediate:!0,handler:function(){this.reviewZbon()}}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.finishZbonTime=l()().format("YYYY-MM-DD")+" 04:00:00",Date.parse(new Date)>Date.parse(t.finishZbonTime)?t.dates=[Object(r["a"])(-1),Object(r["a"])(-1)]:t.dates=[Object(r["a"])(-2),Object(r["a"])(-2)];case 2:case"end":return e.stop()}}),e)})))()},methods:{clear:function(){this.dates=[]},goBack:function(){this.$router.history.go(-1)},printZbonBySpan:function(){var t=this;console.log(this.printDates,"this.printDates"),2===this.printDates.length&&u["a"].showConfirm("Bist du sicher?","Möchten Sie Zbon drucken?",(function(){Object(o["G"])(t.printDates,t.isAllPrint?"0":"1").then((function(){u["a"].toast("Erfolgreich drucken!")}))}))},reviewZbon:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.dates.length>0)){e.next=6;break}return 1===t.dates.length?t.printDates=[t.dates[0],t.dates[0]]:(Date.parse(t.dates[0])>Date.parse(t.dates[1])&&(a=[t.dates[1],t.dates[0]],t.dates[0]=a[0],t.dates[1]=a[1]),t.printDates=[t.dates[0],t.dates[1]]),t.taxInfos=[],t.totalInfos=[],e.next=6,Object(o["r"])(t.printDates).then((function(e){e.content.content.taxInfos.forEach((function(e){t.taxItem=f.a.deepCopy(e),t.taxInfos.push(t.taxItem)})),t.servantInfo=e.content.content.servantInfo,t.paidInfo=e.content.content.paidInfo,t.totalInfos.push(e.content.content.fTotalTe),t.totalInfos.push(e.content.content.fTotalTax),t.totalInfos.push(e.content.content.fTotal),t.totalInfos.push(e.content.fValue),t.totalInfos.push(e.content.fValue2)}));case 6:case"end":return e.stop()}}),e)})))()}}},p=x,v=(a("ddca"),a("2877")),_=a("6544"),I=a.n(_),b=a("8336"),m=a("b0af"),y=a("99d9"),h=a("62ad"),w=a("a523"),g=a("2e4b"),k=a("ce7e"),D=a("132d"),G=a("0fd9"),T=a("2fa4"),V=a("b73d"),C=a("8654"),j=a("71d9"),R=a("2a7f"),$=Object(v["a"])(p,s,n,!1,null,"7eee432c",null);e["default"]=$.exports;I()($,{VBtn:b["a"],VCard:m["a"],VCardTitle:y["d"],VCol:h["a"],VContainer:w["a"],VDatePicker:g["a"],VDivider:k["a"],VIcon:D["a"],VRow:G["a"],VSpacer:T["a"],VSwitch:V["a"],VTextField:C["a"],VToolbar:j["a"],VToolbarItems:R["a"]})},a58f:function(t,e,a){},ddca:function(t,e,a){"use strict";var s=a("a58f"),n=a.n(s);n.a}}]);
//# sourceMappingURL=chunk-3ab5af79.9aaf49ad.js.map