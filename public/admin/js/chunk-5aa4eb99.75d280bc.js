(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5aa4eb99"],{"1f00":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"fill-height align-start",attrs:{fluid:""}},[a("v-container",{attrs:{fluid:""}},[a("v-card",[a("v-card-title",{staticClass:"font-weight-bold"},[a("v-btn",{staticStyle:{"font-size":"x-large"},attrs:{"x-large":"",text:""}},[e._v(" "+e._s(e.$t("现金总额"))+": "),a("span",{staticClass:"pl-4"},[e._v(" "+e._s(e.currentAmount)+" Euro ")])])],1),a("v-card-text",{staticClass:"pt-3"},[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:e.$t("现金支出，直接使用数字"),placeholder:e.$t("请输入金额"),rules:[function(){return!!e.amountCashBook||"This field should not be empty"}]},model:{value:e.amountCashBook,callback:function(t){e.amountCashBook=t},expression:"amountCashBook"}})],1),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:e.$t("remark"),placeholder:"$t('请添加备注')"},model:{value:e.noteCashBook,callback:function(t){e.noteCashBook=t},expression:"noteCashBook"}})],1)],1),a("v-row",{staticStyle:{display:"flex","justify-content":"right"}},[a("v-col",[a("v-btn",{staticClass:"primary",on:{click:e.saveCashBook}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-content-save-outline ")]),e._v(" "+e._s(e.$t("保存"))+" ")],1)],1)],1)],1)],1),a("ik-data-table",{staticClass:"mt-5",attrs:{model:e.model,"entity-name":e.$t("现金账"),icon:"mdi-devices",filter:e.filter,"use-default-action":!1,"use-select":!1,"use-edit-action":!1},scopedSlots:e._u([{key:"filterLeft",fn:function(){return[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.dates,"offset-y":""},on:{"update:returnValue":function(t){e.dates=t},"update:return-value":function(t){e.dates=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-text-field",e._g({staticClass:"ml-auto",staticStyle:{"max-width":"250px"},attrs:{"hide-details":"",label:e.$t("日期筛选"),"prepend-icon":"mdi-calendar",readonly:"","single-line":"","append-icon":"mdi-close"},on:{"click:append":e.clear},model:{value:e.dates,callback:function(t){e.dates=t},expression:"dates"}},n))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":"",range:"",scrollable:"",locale:"de"},model:{value:e.dates,callback:function(t){e.dates=t},expression:"dates"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v(" "+e._s(e.$t("Cancel"))+" ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu.save(e.dates)}}},[e._v(" "+e._s(e.$t("OK"))+" ")])],1)],1)]},proxy:!0}])})],1)],1)},r=[],o=(a("96cf"),a("1da1")),s=a("5530"),i=a("f4d6"),c=a("9d8f"),l=a.n(c),u=a("8976"),d={orderId:{tableConfig:{align:"start"},formConfig:{requiredEdit:!1,requiredNew:!1},header:!1},payLogId:{type:i["IKDataEntity"].Types.Integer,displayName:"ID",formConfig:{}},payLogAmount:{type:i["IKDataEntity"].Types.Float,displayName:"Amount",formConfig:{type:{}}},consumeTypeId:{type:i["IKDataEntity"].Types.Option,formConfig:{type:{selectItems:u["a"].getList,itemText:"_langsname"}},displayName:"payMethod"},cashAccountNote:{displayName:"Note"}},p={load:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("CashBook run"),console.log(t,"i am loaded"),console.log(t[0],"Data"),t[0].toDate||(t[0].toDate=t[0].fromDate),e.next=6,l.a.get("Complex.php?op=getCashInOutDetail",Object(s["a"])({},t[0]));case 6:return a=e.sent.content,console.log("dateCashBook",a),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},f=i["IKDataEntity"].ModelFactory(d,p),m=a("0a61"),h=a("5a0c"),y=a.n(h),g=a("ccdd"),v=y()().format("YYYY-MM-DD"),b=[v,v],C={components:{IkDataTable:i["IkDataTable"]},data:function(){return{model:f,dates:b,amountCashBook:null,noteCashBook:"",menu:!1,currentAmount:-1}},computed:{filter:function(){if(Date.parse(this.dates[0])>Date.parse(this.dates[1])){var e=[this.dates[1],this.dates[0]];this.dates[0]=e[0],this.dates[1]=e[1]}var t={fromDate:this.dates[0],toDate:this.dates[1]};return t}},watch:{},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.showCashAmount();case 2:case"end":return t.stop()}}),t)})))()},methods:{initialize:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.showCashAmount();case 2:e.clear();case 3:case"end":return t.stop()}}),t)})))()},clear:function(){this.dates=[v,v]},showCashAmount:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(m["r"])();case 2:e.currentAmount=t.sent;case 3:case"end":return t.stop()}}),t)})))()},saveCashBook:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.amountCashBook){t.next=8;break}return t.next=3,Object(m["E"])(-e.amountCashBook,e.noteCashBook);case 3:return g["a"].toast("保存成功"),t.next=6,e.initialize();case 6:t.next=9;break;case 8:g["a"].showError("金额不能为空");case 9:case"end":return t.stop()}}),t)})))()}}},k=C,w=a("2877"),x=a("6544"),D=a.n(x),I=a("8336"),O=a("b0af"),B=a("99d9"),N=a("62ad"),j=a("a523"),E=a("2e4b"),_=a("132d"),T=a("e449"),K=a("0fd9"),R=a("2fa4"),V=a("8654"),$=Object(w["a"])(k,n,r,!1,null,null,null);t["default"]=$.exports;D()($,{VBtn:I["a"],VCard:O["a"],VCardText:B["b"],VCardTitle:B["c"],VCol:N["a"],VContainer:j["a"],VDatePicker:E["a"],VIcon:_["a"],VMenu:T["a"],VRow:K["a"],VSpacer:R["a"],VTextField:V["a"]})},8976:function(e,t,a){"use strict";a("96cf");var n=a("1da1"),r=a("5530"),o=a("f4d6"),s=a("9d8f"),i=a.n(s),c=a("a86d"),l=a("5089"),u={id:{type:o["IKDataEntity"].Types.Integer,displayName:"id",tableConfig:{align:"start"},formConfig:{requiredNew:!1}},langs:{displayName:"paymentname",type:o["IKDataEntity"].Types.Group,formConfig:{groupName:"paymentname",default:l["b"].supportLang,childLabelKey:"lang",type:{}},tableConfig:{displayCondition:function(e){return e.lang.toUpperCase()===l["b"].getLang().toUpperCase()}},childKey:"name",children:[c["a"],c["a"],c["a"]]},fixedDisplay:{type:o["IKDataEntity"].Types.Boolean},isOnline:{displayName:"isOnline",type:o["IKDataEntity"].Types.Boolean},apiKey:{required:!1,formConfig:{requiredNew:!1,requiredEdit:!1}}},d={add:function(e){return i.a.post("PayMethod.php?op=add",Object(r["a"])(Object(r["a"])({},e),{},{langs:JSON.stringify(e.langs)}),{showLoading:!0})},edit:function(e){return i.a.postWithUploadFile("PayMethod.php?op=update",Object(r["a"])(Object(r["a"])({},e),{},{langs:JSON.stringify(e.langs)}),{showLoading:!0})},remove:function(e){return i.a.post("PayMethod.php?op=delete",{id:e})},load:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("PayMethod.php",Object(r["a"])({},t));case 2:return e.abrupt("return",e.sent.content);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()};t["a"]=o["IKDataEntity"].ModelFactory(u,d)},a86d:function(e,t,a){"use strict";var n=a("f4d6"),r={id:{type:n["IKDataEntity"].Types.Integer,displayName:"id",tableConfig:{align:"start"},formConfig:{requiredNew:!1}},name:{displayName:"Name"},lang:{},desc:{displayName:"Beschreibung",formConfig:{required:!1}}};t["a"]=n["IKDataEntity"].ModelFactory(r,{})},ccdd:function(e,t,a){"use strict";var n=a("5530"),r=a("641f"),o=a.n(r);t["a"]=Object(n["a"])({},o.a)}}]);
//# sourceMappingURL=chunk-5aa4eb99.75d280bc.js.map