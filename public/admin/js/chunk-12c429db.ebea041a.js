(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-12c429db","chunk-2d20862b"],{"1f00":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"fill-height align-start",attrs:{fluid:""}},[a("v-container",{attrs:{fluid:""}},[a("v-card",[a("v-card-title",{staticClass:"font-weight-bold"},[a("v-btn",{staticStyle:{"font-size":"x-large"},attrs:{"x-large":"",text:""}},[t._v(" "+t._s(t.$t("现金总额"))+": "),a("span",{staticClass:"pl-4"},[t._v(" "+t._s(t.currentAmount)+" Euro ")])])],1),a("v-card-text",{staticClass:"pt-3"},[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:t.$t("现金支出，直接使用数字"),placeholder:t.$t("请输入金额"),rules:[function(){return!!t.amountCashBook||"This field should not be empty"}]},model:{value:t.amountCashBook,callback:function(e){t.amountCashBook=e},expression:"amountCashBook"}})],1),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:t.$t("remark"),placeholder:"$t('请添加备注')"},model:{value:t.noteCashBook,callback:function(e){t.noteCashBook=e},expression:"noteCashBook"}})],1)],1),a("v-row",{staticStyle:{display:"flex","justify-content":"right"}},[a("v-col",[a("v-btn",{staticClass:"primary",on:{click:t.saveCashBook}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-content-save-outline ")]),t._v(" "+t._s(t.$t("保存"))+" ")],1)],1)],1)],1)],1),a("ik-data-table",{staticClass:"mt-5",attrs:{model:t.model,"entity-name":t.$t("现金账"),icon:"mdi-devices",filter:t.filter,"use-default-action":!1,"use-select":!1,"use-edit-action":!1},scopedSlots:t._u([{key:"filterLeft",fn:function(){return[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.dates,"offset-y":""},on:{"update:returnValue":function(e){t.dates=e},"update:return-value":function(e){t.dates=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-text-field",t._g({staticClass:"ml-auto",staticStyle:{"max-width":"250px"},attrs:{"hide-details":"",label:t.$t("日期筛选"),"prepend-icon":"mdi-calendar",readonly:"","single-line":"","append-icon":"mdi-close"},on:{"click:append":t.clear},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}},n))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":"",range:"",scrollable:"",locale:"de"},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v(" "+t._s(t.$t("Cancel"))+" ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.dates)}}},[t._v(" "+t._s(t.$t("OK"))+" ")])],1)],1)]},proxy:!0}])})],1)],1)},r=[],o=(a("96cf"),a("1da1")),i=a("5530"),s=a("f4d6"),c=a("9d8f"),l=a.n(c),u=a("8976"),d={orderId:{tableConfig:{align:"start"},formConfig:{requiredEdit:!1,requiredNew:!1},header:!1},payLogId:{type:s["IKDataEntity"].Types.Integer,displayName:"ID",formConfig:{}},payLogAmount:{type:s["IKDataEntity"].Types.Float,displayName:"Amount",formConfig:{type:{}}},consumeTypeId:{type:s["IKDataEntity"].Types.Option,formConfig:{type:{selectItems:u["a"].getList,itemText:"_langsname"}},displayName:"payMethod"},cashAccountNote:{displayName:"Note"}},p={load:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("CashBook run"),console.log(e,"i am loaded"),console.log(e[0],"Data"),e[0].toDate||(e[0].toDate=e[0].fromDate),t.next=6,l.a.get("Complex.php?op=getCashInOutDetail",Object(i["a"])({},e[0]));case 6:return a=t.sent.content,console.log("dateCashBook",a),t.abrupt("return",a);case 9:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},f=s["IKDataEntity"].ModelFactory(d,p),m=a("0a61"),h=a("5a0c"),y=a.n(h),g=a("ccdd"),v=y()().format("YYYY-MM-DD"),b=[v,v],C={components:{IkDataTable:s["IkDataTable"]},data:function(){return{model:f,dates:b,amountCashBook:null,noteCashBook:"",menu:!1,currentAmount:-1}},computed:{filter:function(){if(Date.parse(this.dates[0])>Date.parse(this.dates[1])){var t=[this.dates[1],this.dates[0]];this.dates[0]=t[0],this.dates[1]=t[1]}var e={fromDate:this.dates[0],toDate:this.dates[1]};return e}},watch:{},created:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.showCashAmount();case 2:case"end":return e.stop()}}),e)})))()},methods:{initialize:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.showCashAmount();case 2:t.clear();case 3:case"end":return e.stop()}}),e)})))()},clear:function(){this.dates=[v,v]},showCashAmount:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(m["r"])();case 2:t.currentAmount=e.sent;case 3:case"end":return e.stop()}}),e)})))()},saveCashBook:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.amountCashBook){e.next=8;break}return e.next=3,Object(m["E"])(-t.amountCashBook,t.noteCashBook);case 3:return g["a"].toast("保存成功"),e.next=6,t.initialize();case 6:e.next=9;break;case 8:g["a"].showError("金额不能为空");case 9:case"end":return e.stop()}}),e)})))()}}},k=C,x=a("2877"),w=a("6544"),D=a.n(w),O=a("8336"),I=a("b0af"),j=a("99d9"),B=a("62ad"),N=a("a523"),E=a("2e4b"),_=a("132d"),T=a("e449"),K=a("0fd9"),R=a("2fa4"),V=a("8654"),S=Object(x["a"])(k,n,r,!1,null,null,null);e["default"]=S.exports;D()(S,{VBtn:O["a"],VCard:I["a"],VCardText:j["b"],VCardTitle:j["c"],VCol:B["a"],VContainer:N["a"],VDatePicker:E["a"],VIcon:_["a"],VMenu:T["a"],VRow:K["a"],VSpacer:R["a"],VTextField:V["a"]})},8976:function(t,e,a){"use strict";a("96cf");var n=a("1da1"),r=a("5530"),o=a("f4d6"),i=a("9d8f"),s=a.n(i),c=a("a86d"),l=a("5089"),u={id:{type:o["IKDataEntity"].Types.Integer,displayName:"id",tableConfig:{align:"start"},formConfig:{requiredNew:!1}},langs:{displayName:"paymentname",type:o["IKDataEntity"].Types.Group,formConfig:{groupName:"paymentname",default:l["b"].supportLang,childLabelKey:"lang",type:{}},tableConfig:{displayCondition:function(t){return t.lang.toUpperCase()===l["b"].getLang().toUpperCase()}},childKey:"name",children:[c["a"],c["a"],c["a"]]},fixedDisplay:{type:o["IKDataEntity"].Types.Boolean},isOnline:{displayName:"isOnline",type:o["IKDataEntity"].Types.Boolean},apiKey:{required:!1,formConfig:{requiredNew:!1,requiredEdit:!1}}},d={add:function(t){return s.a.post("PayMethod.php?op=add",Object(r["a"])(Object(r["a"])({},t),{},{langs:JSON.stringify(t.langs)}),{showLoading:!0})},edit:function(t){return s.a.postWithUploadFile("PayMethod.php?op=update",Object(r["a"])(Object(r["a"])({},t),{},{langs:JSON.stringify(t.langs)}),{showLoading:!0})},remove:function(t){return s.a.post("PayMethod.php?op=delete",{id:t})},load:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.a.get("PayMethod.php",Object(r["a"])({},e));case 2:return t.abrupt("return",t.sent.content);case 3:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()};e["a"]=o["IKDataEntity"].ModelFactory(u,d)},a523:function(t,e,a){"use strict";a("99af"),a("4de4"),a("b64b"),a("2ca0"),a("20f6"),a("4b85"),a("a15b"),a("498a");var n=a("2b0e");function r(t){return n["a"].extend({name:"v-".concat(t),functional:!0,props:{id:String,tag:{type:String,default:"div"}},render:function(e,a){var n=a.props,r=a.data,o=a.children;r.staticClass="".concat(t," ").concat(r.staticClass||"").trim();var i=r.attrs;if(i){r.attrs={};var s=Object.keys(i).filter((function(t){if("slot"===t)return!1;var e=i[t];return t.startsWith("data-")?(r.attrs[t]=e,!1):e||"string"===typeof e}));s.length&&(r.staticClass+=" ".concat(s.join(" ")))}return n.id&&(r.domProps=r.domProps||{},r.domProps.id=n.id),e(n.tag,r,o)}})}var o=a("d9f7");e["a"]=r("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render:function(t,e){var a,n=e.props,r=e.data,i=e.children,s=r.attrs;return s&&(r.attrs={},a=Object.keys(s).filter((function(t){if("slot"===t)return!1;var e=s[t];return t.startsWith("data-")?(r.attrs[t]=e,!1):e||"string"===typeof e}))),n.id&&(r.domProps=r.domProps||{},r.domProps.id=n.id),t(n.tag,Object(o["a"])(r,{staticClass:"container",class:Array({"container--fluid":n.fluid}).concat(a||[])}),i)}})},a86d:function(t,e,a){"use strict";var n=a("f4d6"),r={id:{type:n["IKDataEntity"].Types.Integer,displayName:"id",tableConfig:{align:"start"},formConfig:{requiredNew:!1}},name:{displayName:"Name"},lang:{},desc:{displayName:"Beschreibung",formConfig:{required:!1}}};e["a"]=n["IKDataEntity"].ModelFactory(r,{})},ccdd:function(t,e,a){"use strict";var n=a("5530"),r=a("641f"),o=a.n(r);e["a"]=Object(n["a"])({},o.a)}}]);
//# sourceMappingURL=chunk-12c429db.ebea041a.js.map