{"version":3,"sources":["webpack:///./node_modules/aaden-base-model/lib/Models/Allergen.js","webpack:///./node_modules/aaden-base-model/lib/Models/CategoryType.js","webpack:///./node_modules/aaden-base-model/lib/Models/ParentCategoty.js","webpack:///./node_modules/aaden-base-model/lib/Models/Category.js","webpack:///./src/model/Attribute.js","webpack:///./node_modules/aaden-base-model/lib/Models/Dish.js","webpack:///./src/views/dishes/SalesInsight.vue?8ab0","webpack:///./src/model/Category.js","webpack:///./node_modules/aaden-base-model/lib/Models/AadenBase.js","webpack:///./src/model/PrinterGroup.js","webpack:///./src/model/Allergen.js","webpack:///./node_modules/aaden-base-model/lib/Models/AttributeGroup.js","webpack:///../../../src/components/VGrid/grid.ts","webpack:///../../../src/components/VGrid/VContainer.ts","webpack:///./src/model/StringEntity.js","webpack:///./node_modules/aaden-base-model/lib/Models/PrinterGroup.js","webpack:///./src/model/AttributeGroup.js","webpack:///./node_modules/aaden-base-model/lib/Models/StringEntity.js","webpack:///./src/model/Dish.js","webpack:///./src/components/Utlis/Utils.js","webpack:///./src/model/CategoryType.js","webpack:///./src/views/dishes/SalesInsight.vue?b9b4","webpack:///src/views/dishes/SalesInsight.vue","webpack:///./src/views/dishes/SalesInsight.vue?d1e4","webpack:///./src/views/dishes/SalesInsight.vue?804e","webpack:///./src/common/common.js"],"names":["Object","defineProperty","exports","value","default","_metaflowJs","_hillo","_interopRequireDefault","obj","__esModule","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","configurable","writable","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","err","undefined","entity","id","type","IKDataEntity","Types","Integer","displayName","tableConfig","align","form","name","icon","shortName","displayText","config","add","item","postWithUploadFile","showLoading","edit","remove","post","load","_load","get","op","content","_x","_default","ModelFactory","_GlobalSettings","formConfig","requiredNew","lang","getLang","_StringEntity","_langsname","langs","Group","groupName","supportLang","childLabelKey","displayCondition","toUpperCase","displayChild","childKey","labelKey","children","header","_CategoryType","_AttributeGroup","_ConsumeType","_ParentCategoty","appliedAttributeGroup","attributeGroupId","join","catTypeId","dishesCategoryTypeId","appliedConsumeTypeIds","consumeTypeIds","appliedFreeInConsumeTypeIds","freeInConsumeTypeIds","JSON","stringify","categorySort","required","Option","selectItems","getList","multiple","color","Color","printOrder","requiredEdit","rule","v","test","parentId","itemText","image","Image","root","store","getters","rootUrl","GlobalSettings","dcImageRoot","AttributeGroup","forceGetList","isMultiChosen","Boolean","printMod","priceMod","Float","overwriteRule","CategoryType","isAsDefault","isActive","frontendHide","hillo","_Category","_PrinterGroup","_Allergen","isShowOnTable","code","getEndPoint","dishImageRoot","dishName","price","printGroupId","categoryId","AllergenId","merge","disabledItem","editedItem","inheritAttributeGroupId","disabled","includes","localAttributeGroupId","inNew","inEdit","dishWeight","dishAlias","printText","attributeGroup","allergenGroup","params","file","imageExt","split","map","dishId","flat","desc","description","DishModel","getBuffet","colorList","table","dcImage","width","console","log","StringEntity","response","randomColor","list","IKUtils","Math","round","random","toast","removeAllColor","removeCategoryImage","res","calculatePriceWithDiscount","calculateDiscountPrice","calculateDiscountMod","StandardDishesListFactory","getDishesInfo","getDishes","_Dish","_innerkenJsUtils","defaultDish","note","modShow","forceFormat","formatApplyInfo","dish","_dish$apply","_dish$agName","displayApply","agName","mod","modInfo","find","groupId","selectId","reduce","arr","index","selectValue","indexOf","concat","selectName","priceInfo","hash","agNameArr","aNameArr","priceInfoArr","agIdArr","aIdArr","aName","agId","aId","ag","getAddPrice","ap","_ap$priceInfo","parseFloat","buildApplyString","applyArr","dishIdentity","tempDiscountStr","currentName","overrideConsumeTypeId","processApplyInfo","_dish$note","_ref","_dish$originPrice","_dish$tempDiscountMod","_dish$price","_dish$currentName","_dish$overrideConsume","addPrice","originPrice","realPrice","tempDiscountMod","identity","discountStr","timesMod","minusMod","discountPattern","finish","endsWith","slice","dishDictionary","orderDictionary","counter","addDishToList","count","newDish","deepCopy","sumCount","change","changeNumber","setDishList","dishList","assign","preProcessDishNoCopy","rawDish","preProcessDish","_ref2","_dish$count","_ref3","_ref4","_dish$name","copy","parseInt","toLowerCase","wellFormat","getDishList","k","dicDish","listDish","splice","formatList","total","t","d","loadTTDishList","ttDishList","loadList","_list","clear","_k","DCT","Category","Dishes","ParsedDCTInfo","rearrangeDish","categories","dishes","dct","c","_dct","sort","a","b","Manger","_getDishesInfo","consumeTypeId","all","_getDishes","isSingleLinePrint","isSingleOrderPrint","upsideDown","printerCount","defaultRetryCount","totalDishesCount","printTitle","multiSelect","attrubuteCount","VGrid","Vue","extend","functional","props","String","tag","render","h","data","staticClass","trim","attrs","classes","startsWith","domProps","Grid","fluid","mergeData","class","Array","showImage","filterable","displayCode","i18n","PrinterGroup","extraPrintGroupIds","Allergen","onlyActive","multipleAdd","_vm","_h","$createElement","_c","_self","_v","_s","$t","ref","dates","on","$event","scopedSlots","_u","_g","_b","model","callback","$$v","expression","datePickerDialog","$refs","dialog","save","hourStart","timeStartPickerDialog","timeDialog","hourEnd","timeEndPickerDialog","timeEndDialog","realAttributes","selectAttributes","fixedHideAttributes","clearFixedHideAttribute","hideAttributes","allFixedDishesData","selectFixedDishes","fixedHideDishes","clearFixedHideDishes","allDishData","selectDishes","hideDishes","tableData","showSalesTable","print","computeClass","headers","staticRenderFns","unfilteredData","displayData","attributeData","filterDishesData","mergedGroup","fixedHeader","text","computed","attributeHeader","watch","val","mounted","methods","localStorage","attributeId","groupElement","childList","childMatchKey","saveIn","getAllAttribute","Attribute","getAttributeGrouped","attribute","getSalesInfo","timeSpan","salesInsight","displayList","dict","categoryTypeId","totalCount","totalPrice","variants","variant","u","groupAttribute","selfChild","child","group","values","loadSalesData","salesData","totalData","g","groupData","loadData","Dish","Utils","PrinterSalesInSightBon","component","VBtn","VCard","VCardText","VCardTitle","VCol","VContainer","VDataTable","VDatePicker","VDialog","VIcon","VRow","VSelect","VSpacer","VTextField","VTimePicker","VToolbar","VToolbarTitle","formatDate","num","now","Date","nowTime","getTime","oneDayTime","ShowTime","myDate","y","getFullYear","m","getMonth","getDate","formatFullData","getHours","mm","getMinutes","s","getSeconds","rundTimeSecondToMin","temp","maxDineTime","roundTime"],"mappings":"kHAEAA,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,aAAU,EAElB,IAAIC,EAAc,EAAQ,QAEtBC,EAASC,EAAuB,EAAQ,SAE5C,SAASA,EAAuBC,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CAAEJ,QAASI,GAEvF,SAASE,EAAQC,EAAQC,GAAkB,IAAIC,EAAOb,OAAOa,KAAKF,GAAS,GAAIX,OAAOc,sBAAuB,CAAE,IAAIC,EAAUf,OAAOc,sBAAsBH,GAAaC,IAAgBG,EAAUA,EAAQC,QAAO,SAAUC,GAAO,OAAOjB,OAAOkB,yBAAyBP,EAAQM,GAAKE,eAAgBN,EAAKO,KAAKC,MAAMR,EAAME,GAAY,OAAOF,EAE9U,SAASS,EAAcC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAAyB,MAAhBF,UAAUD,GAAaC,UAAUD,GAAK,GAAQA,EAAI,EAAKd,EAAQV,OAAO2B,IAAS,GAAMC,SAAQ,SAAUC,GAAOC,EAAgBP,EAAQM,EAAKF,EAAOE,OAAsB7B,OAAO+B,0BAA6B/B,OAAOgC,iBAAiBT,EAAQvB,OAAO+B,0BAA0BJ,IAAmBjB,EAAQV,OAAO2B,IAASC,SAAQ,SAAUC,GAAO7B,OAAOC,eAAesB,EAAQM,EAAK7B,OAAOkB,yBAAyBS,EAAQE,OAAe,OAAON,EAE7gB,SAASO,EAAgBtB,EAAKqB,EAAK1B,GAAiK,OAApJ0B,KAAOrB,EAAOR,OAAOC,eAAeO,EAAKqB,EAAK,CAAE1B,MAAOA,EAAOgB,YAAY,EAAMc,cAAc,EAAMC,UAAU,IAAkB1B,EAAIqB,GAAO1B,EAAgBK,EAE3M,SAAS2B,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQX,EAAKY,GAAO,IAAM,IAAIC,EAAON,EAAIP,GAAKY,GAAUtC,EAAQuC,EAAKvC,MAAS,MAAOwC,GAAwB,YAAfL,EAAOK,GAAsBD,EAAKE,KAAQP,EAAQlC,GAAiB0C,QAAQR,QAAQlC,GAAO2C,KAAKP,EAAOC,GAE7P,SAASO,EAAkBC,GAAM,OAAO,WAAc,IAAIC,EAAOC,KAAMC,EAAO1B,UAAW,OAAO,IAAIoB,SAAQ,SAAUR,EAASC,GAAU,IAAIF,EAAMY,EAAG3B,MAAM4B,EAAME,GAAO,SAASZ,EAAMpC,GAASgC,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQrC,GAAU,SAASqC,EAAOY,GAAOjB,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAASY,GAAQb,OAAMc,OAEjX,IAAIC,EAAS,CACXC,GAAI,CACFC,KAAMnD,EAAYoD,aAAaC,MAAMC,QACrCC,YAAa,KACbC,YAAa,CACXC,MAAO,SAETC,MAAM,GAERC,KAAM,CACJJ,YAAa,cAEfK,KAAM,CACJL,YAAa,QAEfM,UAAW,CACTN,YAAa,aAEfO,YAAa,CACXP,YAAa,gBAGbQ,EAAS,CACXC,IAAK,SAAaC,GAChB,OAAOhE,EAAOF,QAAQmE,mBAAmB,4BAA6BD,EAAM,CAC1EE,aAAa,KAGjBC,KAAM,SAAcH,GAClB,OAAOhE,EAAOF,QAAQmE,mBAAmB,+BAAgCD,EAAM,CAC7EE,aAAa,KAGjBE,OAAQ,SAAgBnB,GACtB,OAAOjD,EAAOF,QAAQuE,KAAK,+BAAgC,CACzDpB,GAAIA,KAGRqB,KAAM,WACJ,IAAIC,EAAQ9B,GAAkB,UAAW/B,GACvC,aAAcV,EAAOF,QAAQ0E,IAAI,aAAcxD,EAAc,CAC3DyD,GAAI,mBACH/D,KAAUgE,WAGf,SAASJ,EAAKK,GACZ,OAAOJ,EAAMxD,MAAM6B,KAAMzB,WAG3B,OAAOmD,EAXH,IAeJM,EAAW7E,EAAYoD,aAAa0B,aAAa7B,EAAQc,GAE7DlE,EAAQE,QAAU8E,G,oCC5ElBlF,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,aAAU,EAElB,IAAIgF,EAAkB7E,EAAuB,EAAQ,SAEjDF,EAAc,EAAQ,QAEtBC,EAASC,EAAuB,EAAQ,SAE5C,SAASA,EAAuBC,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CAAEJ,QAASI,GAEvF,SAASE,EAAQC,EAAQC,GAAkB,IAAIC,EAAOb,OAAOa,KAAKF,GAAS,GAAIX,OAAOc,sBAAuB,CAAE,IAAIC,EAAUf,OAAOc,sBAAsBH,GAAaC,IAAgBG,EAAUA,EAAQC,QAAO,SAAUC,GAAO,OAAOjB,OAAOkB,yBAAyBP,EAAQM,GAAKE,eAAgBN,EAAKO,KAAKC,MAAMR,EAAME,GAAY,OAAOF,EAE9U,SAASS,EAAcC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAAyB,MAAhBF,UAAUD,GAAaC,UAAUD,GAAK,GAAQA,EAAI,EAAKd,EAAQV,OAAO2B,IAAS,GAAMC,SAAQ,SAAUC,GAAOC,EAAgBP,EAAQM,EAAKF,EAAOE,OAAsB7B,OAAO+B,0BAA6B/B,OAAOgC,iBAAiBT,EAAQvB,OAAO+B,0BAA0BJ,IAAmBjB,EAAQV,OAAO2B,IAASC,SAAQ,SAAUC,GAAO7B,OAAOC,eAAesB,EAAQM,EAAK7B,OAAOkB,yBAAyBS,EAAQE,OAAe,OAAON,EAE7gB,SAASO,EAAgBtB,EAAKqB,EAAK1B,GAAiK,OAApJ0B,KAAOrB,EAAOR,OAAOC,eAAeO,EAAKqB,EAAK,CAAE1B,MAAOA,EAAOgB,YAAY,EAAMc,cAAc,EAAMC,UAAU,IAAkB1B,EAAIqB,GAAO1B,EAAgBK,EAE3M,SAAS2B,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQX,EAAKY,GAAO,IAAM,IAAIC,EAAON,EAAIP,GAAKY,GAAUtC,EAAQuC,EAAKvC,MAAS,MAAOwC,GAAwB,YAAfL,EAAOK,GAAsBD,EAAKE,KAAQP,EAAQlC,GAAiB0C,QAAQR,QAAQlC,GAAO2C,KAAKP,EAAOC,GAE7P,SAASO,EAAkBC,GAAM,OAAO,WAAc,IAAIC,EAAOC,KAAMC,EAAO1B,UAAW,OAAO,IAAIoB,SAAQ,SAAUR,EAASC,GAAU,IAAIF,EAAMY,EAAG3B,MAAM4B,EAAME,GAAO,SAASZ,EAAMpC,GAASgC,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQrC,GAAU,SAASqC,EAAOY,GAAOjB,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAASY,GAAQb,OAAMc,OAEjX,IAAIC,EAAS,CACXC,GAAI,CACFC,KAAMnD,EAAYoD,aAAaC,MAAMC,QACrCC,YAAa,KACbC,YAAa,CACXC,MAAO,SAETuB,WAAY,CACVC,aAAa,IAGjBtB,KAAM,GACNuB,KAAM,IAEJnB,EAAS,CACXQ,KAAM,WACJ,IAAIC,EAAQ9B,GAAkB,UAAW/B,GACvC,aAAcV,EAAOF,QAAQ0E,IAAI,mBAAoBxD,EAAc,CACjEiE,KAAMH,EAAgBhF,QAAQoF,WAC7BxE,KAAUgE,WAGf,SAASJ,EAAKK,GACZ,OAAOJ,EAAMxD,MAAM6B,KAAMzB,WAG3B,OAAOmD,EAXH,IAeJM,EAAW7E,EAAYoD,aAAa0B,aAAa7B,EAAQc,GAE7DlE,EAAQE,QAAU8E,G,kCCvDlBlF,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,aAAU,EAElB,IAAIC,EAAc,EAAQ,QAEtBC,EAASC,EAAuB,EAAQ,SAExCkF,EAAgBlF,EAAuB,EAAQ,SAE/C6E,EAAkB7E,EAAuB,EAAQ,SAErD,SAASA,EAAuBC,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CAAEJ,QAASI,GAEvF,SAASE,EAAQC,EAAQC,GAAkB,IAAIC,EAAOb,OAAOa,KAAKF,GAAS,GAAIX,OAAOc,sBAAuB,CAAE,IAAIC,EAAUf,OAAOc,sBAAsBH,GAAaC,IAAgBG,EAAUA,EAAQC,QAAO,SAAUC,GAAO,OAAOjB,OAAOkB,yBAAyBP,EAAQM,GAAKE,eAAgBN,EAAKO,KAAKC,MAAMR,EAAME,GAAY,OAAOF,EAE9U,SAASS,EAAcC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAAyB,MAAhBF,UAAUD,GAAaC,UAAUD,GAAK,GAAQA,EAAI,EAAKd,EAAQV,OAAO2B,IAAS,GAAMC,SAAQ,SAAUC,GAAOC,EAAgBP,EAAQM,EAAKF,EAAOE,OAAsB7B,OAAO+B,0BAA6B/B,OAAOgC,iBAAiBT,EAAQvB,OAAO+B,0BAA0BJ,IAAmBjB,EAAQV,OAAO2B,IAASC,SAAQ,SAAUC,GAAO7B,OAAOC,eAAesB,EAAQM,EAAK7B,OAAOkB,yBAAyBS,EAAQE,OAAe,OAAON,EAE7gB,SAASO,EAAgBtB,EAAKqB,EAAK1B,GAAiK,OAApJ0B,KAAOrB,EAAOR,OAAOC,eAAeO,EAAKqB,EAAK,CAAE1B,MAAOA,EAAOgB,YAAY,EAAMc,cAAc,EAAMC,UAAU,IAAkB1B,EAAIqB,GAAO1B,EAAgBK,EAE3M,SAAS2B,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQX,EAAKY,GAAO,IAAM,IAAIC,EAAON,EAAIP,GAAKY,GAAUtC,EAAQuC,EAAKvC,MAAS,MAAOwC,GAAwB,YAAfL,EAAOK,GAAsBD,EAAKE,KAAQP,EAAQlC,GAAiB0C,QAAQR,QAAQlC,GAAO2C,KAAKP,EAAOC,GAE7P,SAASO,EAAkBC,GAAM,OAAO,WAAc,IAAIC,EAAOC,KAAMC,EAAO1B,UAAW,OAAO,IAAIoB,SAAQ,SAAUR,EAASC,GAAU,IAAIF,EAAMY,EAAG3B,MAAM4B,EAAME,GAAO,SAASZ,EAAMpC,GAASgC,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQrC,GAAU,SAASqC,EAAOY,GAAOjB,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAASY,GAAQb,OAAMc,OAEjX,IAAIe,EAAS,CACXQ,KAAM,WACJ,IAAIC,EAAQ9B,GAAkB,UAAW/B,GACvC,aAAcV,EAAOF,QAAQ0E,IAAI,eAAgBxD,EAAc,GAAIN,KAAUgE,WAG/E,SAASJ,EAAKK,GACZ,OAAOJ,EAAMxD,MAAM6B,KAAMzB,WAG3B,OAAOmD,EATH,IAYJtB,EAAS,CACXC,GAAI,CACFC,KAAMnD,EAAYoD,aAAaC,MAAMC,QACrCC,YAAa,KACbC,YAAa,CACXC,MAAO,SAETuB,WAAY,CACVC,aAAa,IAGjBI,WAAY,CACV9B,YAAa,YACbG,MAAM,GAER4B,MAAO,CACL/B,YAAa,YACbJ,KAAMnD,EAAYoD,aAAaC,MAAMkC,MACrCP,WAAY,CACVQ,UAAW,YACXzF,QAASgF,EAAgBhF,QAAQ0F,YACjCC,cAAe,OACfvC,KAAM,IAERK,YAAa,CACXmC,iBAAkB1B,GACTA,EAAKiB,KAAKU,gBAAkBb,EAAgBhF,QAAQoF,UAE7DU,aAAcrE,GACG,SAARA,GAGXsE,SAAU,CAAC,OAAQ,QACnBC,SAAU,OACVC,SAAU,CAACZ,EAAcrF,QAASqF,EAAcrF,QAASqF,EAAcrF,SACvEkG,QAAQ,IAIRpB,EAAW7E,EAAYoD,aAAa0B,aAAa7B,EAAQc,GAE7DlE,EAAQE,QAAU8E,G,oCC/ElBlF,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,aAAU,EAElB,IAAIC,EAAc,EAAQ,QAEtBC,EAASC,EAAuB,EAAQ,SAExCgG,EAAgBhG,EAAuB,EAAQ,SAE/CiG,EAAkBjG,EAAuB,EAAQ,SAEjDkF,EAAgBlF,EAAuB,EAAQ,SAE/C6E,EAAkB7E,EAAuB,EAAQ,SAEjDkG,EAAelG,EAAuB,EAAQ,SAE9CmG,EAAkBnG,EAAuB,EAAQ,SAErD,SAASA,EAAuBC,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CAAEJ,QAASI,GAEvF,SAAS2B,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQX,EAAKY,GAAO,IAAM,IAAIC,EAAON,EAAIP,GAAKY,GAAUtC,EAAQuC,EAAKvC,MAAS,MAAOwC,GAAwB,YAAfL,EAAOK,GAAsBD,EAAKE,KAAQP,EAAQlC,GAAiB0C,QAAQR,QAAQlC,GAAO2C,KAAKP,EAAOC,GAE7P,SAASO,EAAkBC,GAAM,OAAO,WAAc,IAAIC,EAAOC,KAAMC,EAAO1B,UAAW,OAAO,IAAIoB,SAAQ,SAAUR,EAASC,GAAU,IAAIF,EAAMY,EAAG3B,MAAM4B,EAAME,GAAO,SAASZ,EAAMpC,GAASgC,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQrC,GAAU,SAASqC,EAAOY,GAAOjB,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAASY,GAAQb,OAAMc,OAEjX,SAAS3C,EAAQC,EAAQC,GAAkB,IAAIC,EAAOb,OAAOa,KAAKF,GAAS,GAAIX,OAAOc,sBAAuB,CAAE,IAAIC,EAAUf,OAAOc,sBAAsBH,GAAaC,IAAgBG,EAAUA,EAAQC,QAAO,SAAUC,GAAO,OAAOjB,OAAOkB,yBAAyBP,EAAQM,GAAKE,eAAgBN,EAAKO,KAAKC,MAAMR,EAAME,GAAY,OAAOF,EAE9U,SAASS,EAAcC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAAyB,MAAhBF,UAAUD,GAAaC,UAAUD,GAAK,GAAQA,EAAI,EAAKd,EAAQV,OAAO2B,IAAS,GAAMC,SAAQ,SAAUC,GAAOC,EAAgBP,EAAQM,EAAKF,EAAOE,OAAsB7B,OAAO+B,0BAA6B/B,OAAOgC,iBAAiBT,EAAQvB,OAAO+B,0BAA0BJ,IAAmBjB,EAAQV,OAAO2B,IAASC,SAAQ,SAAUC,GAAO7B,OAAOC,eAAesB,EAAQM,EAAK7B,OAAOkB,yBAAyBS,EAAQE,OAAe,OAAON,EAE7gB,SAASO,EAAgBtB,EAAKqB,EAAK1B,GAAiK,OAApJ0B,KAAOrB,EAAOR,OAAOC,eAAeO,EAAKqB,EAAK,CAAE1B,MAAOA,EAAOgB,YAAY,EAAMc,cAAc,EAAMC,UAAU,IAAkB1B,EAAIqB,GAAO1B,EAAgBK,EAE3M,IAAI4D,EAAS,CACXC,IAAK,SAAaC,GAKhB,OAJAA,EAAKqC,sBAAwBrC,EAAKsC,iBAAiBC,KAAK,KACxDvC,EAAKwC,UAAYxC,EAAKyC,qBACtBzC,EAAK0C,sBAAwB1C,EAAK2C,eAAeJ,KAAK,KACtDvC,EAAK4C,4BAA8B5C,EAAK6C,qBAAqBN,KAAK,KAC3DvG,EAAOF,QAAQuE,KAAK,sBAAuBrD,EAAcA,EAAc,GAAIgD,GAAO,GAAI,CAC3FqB,MAAOyB,KAAKC,UAAU/C,EAAKqB,SACzB,CACFnB,aAAa,KAGjBC,KAAM,SAAcH,GAKlB,OAJAA,EAAKqC,sBAAwBrC,EAAKsC,iBAAiBC,KAAK,KACxDvC,EAAKwC,UAAYxC,EAAKyC,qBACtBzC,EAAK0C,sBAAwB1C,EAAK2C,eAAeJ,KAAK,KACtDvC,EAAK4C,4BAA8B5C,EAAK6C,qBAAqBN,KAAK,KAC3DvG,EAAOF,QAAQmE,mBAAmB,yBAA0BjD,EAAcA,EAAc,GAAIgD,GAAO,GAAI,CAC5GqB,MAAOyB,KAAKC,UAAU/C,EAAKqB,SACzB,CACFnB,aAAa,KAGjBE,OAAQ,SAAgBnB,GACtB,OAAOjD,EAAOF,QAAQuE,KAAK,yBAA0B,CACnDpB,GAAIA,KAGRqB,KAAM,WACJ,IAAIC,EAAQ9B,GAAkB,UAAW/B,GACvC,aAAcV,EAAOF,QAAQ0E,IAAI,eAAgBxD,EAAc,GAAIN,KAAUgE,WAG/E,SAASJ,EAAKK,GACZ,OAAOJ,EAAMxD,MAAM6B,KAAMzB,WAG3B,OAAOmD,EATH,IAYJtB,EAAS,CACXC,GAAI,CACFC,KAAMnD,EAAYoD,aAAaC,MAAMC,QACrCC,YAAa,KACbC,YAAa,CACXC,MAAO,SAETuB,WAAY,CACVC,aAAa,IAGjBgC,aAAc,CACZ9D,KAAMnD,EAAYoD,aAAaC,MAAMC,QACrCC,YAAa,cACbyB,WAAY,CACVjF,QAAS,GACTmH,UAAU,IAGd7B,WAAY,CACV9B,YAAa,YACbG,MAAM,GAER4B,MAAO,CACL/B,YAAa,YACbJ,KAAMnD,EAAYoD,aAAaC,MAAMkC,MACrCP,WAAY,CACVQ,UAAW,YACXzF,QAASgF,EAAgBhF,QAAQ0F,YACjCC,cAAe,OACfvC,KAAM,IAERK,YAAa,CACXmC,iBAAkB1B,GACTA,EAAKiB,KAAKU,gBAAkBb,EAAgBhF,QAAQoF,UAE7DU,aAAcrE,GACG,SAARA,GAGXsE,SAAU,CAAC,OAAQ,QACnBC,SAAU,OACVC,SAAU,CAACZ,EAAcrF,QAASqF,EAAcrF,QAASqF,EAAcrF,SACvEkG,QAAQ,GAEVS,qBAAsB,CACpBnD,YAAa,YACbJ,KAAMnD,EAAYoD,aAAaC,MAAM8D,OACrCnC,WAAY,CACV7B,KAAM,CACJiE,YAAalB,EAAcnG,QAAQsH,WAIzCd,iBAAkB,CAChBhD,YAAa,sBACbJ,KAAMnD,EAAYoD,aAAaC,MAAM8D,OACrCnC,WAAY,CACVkC,UAAU,EACV/D,KAAM,CACJiE,YAAajB,EAAgBpG,QAAQsH,QACrCC,UAAU,KAIhBV,eAAgB,CACdzD,KAAMnD,EAAYoD,aAAaC,MAAM8D,OACrCnC,WAAY,CACVkC,UAAU,EACV/D,KAAM,CACJiE,YAAahB,EAAarG,QAAQsH,QAClCC,UAAU,KAIhBR,qBAAsB,CACpB3D,KAAMnD,EAAYoD,aAAaC,MAAM8D,OACrCnC,WAAY,CACVkC,UAAU,EACV/D,KAAM,CACJiE,YAAahB,EAAarG,QAAQsH,QAClCC,UAAU,KAIhBC,MAAO,CACLpE,KAAMnD,EAAYoD,aAAaC,MAAMmE,MACrCxC,WAAY,CACVkC,UAAU,IAGdO,WAAY,CACVtE,KAAMnD,EAAYoD,aAAaC,MAAMC,QACrC4D,UAAU,EACVlC,WAAY,CACVjF,QAAS,GACTkF,aAAa,EACbyC,cAAc,EACdC,KAAM,CACNC,GAAK,aAAaC,KAAKD,IAAM,wCAGjCE,SAAU,CACR3E,KAAMnD,EAAYoD,aAAaC,MAAM8D,OACrCnC,WAAY,CACVkC,UAAU,EACV/D,KAAM,CACJiE,YAAaf,EAAgBtG,QAAQsH,QACrCU,SAAU,iBAMdlD,EAAW7E,EAAYoD,aAAa0B,aAAa7B,EAAQc,GAE7DlE,EAAQE,QAAU8E,G,mLCpLZ5B,EAAS,CACbC,GAAI,CACFC,KAAMC,kBAAaC,MAAMC,QACzBC,YAAa,KACbC,YAAa,CACXC,MAAO,SAETC,MAAM,GAERC,KAAM,CACJJ,YAAa,QAEfyE,MAAO,CACL7E,KAAMC,kBAAaC,MAAM4E,MACzBjD,WAAY,CACVkC,UAAU,EACV/D,KAAM,CACJ+E,KAAM,kBAAMC,OAAMC,QAAQC,QAAUC,OAAeC,gBAIzDhC,iBAAkB,CAChBhD,YAAa,YACbJ,KAAMC,kBAAaC,MAAM8D,OACzBnC,WAAY,CACV7B,KAAM,CACJiE,YAAaoB,OAAeC,gBAIlCC,cAAe,CACbvF,KAAMC,kBAAaC,MAAMsF,SAE3B7I,MAAO,CACLyD,YAAa,QACbyB,WAAY,CACVjF,QAAS,IAGb6I,SAAU,CACRrF,YAAa,YAEfsF,SAAU,CACR1F,KAAMC,kBAAaC,MAAMyF,MACzBvF,YAAa,WACbyB,WAAY,CACV+D,eAAe,EACfpB,KAAM,CACJ,SAAAC,GAAC,MAAI,gCAAgCC,KAAKD,IAAM,qCAItDlB,qBAAsB,CACpBnD,YAAa,cACbJ,KAAMC,kBAAaC,MAAM8D,OACzBnC,WAAY,CACV7B,KAAM,CACJiE,YAAa4B,OAAa3B,WAIhC4B,YAAa,CACX9F,KAAMC,kBAAaC,MAAMsF,SAE3BO,SAAU,CACR/F,KAAMC,kBAAaC,MAAMsF,SAE3BQ,aAAc,CACZhG,KAAMC,kBAAaC,MAAMsF,UAIvB5E,EAAS,CACbC,IAAK,SAAUC,GACb,OAAOmF,IAAMlF,mBAAmB,+BAAgCD,EAAM,CACpEE,aAAa,KAGjBC,KAAM,SAAUH,GACd,OAAOmF,IAAMlF,mBAAmB,kCAAmCD,EAAM,CACvEE,aAAa,KAGjBE,OAAQ,SAAUnB,GAChB,OAAOkG,IAAM9E,KAAK,kCAAmC,CAAEpB,GAAIA,KAE7DqB,KAAM,WAAF,4CAAE,WAAgB5D,GAAhB,+FACUyI,IAAM3E,IAAI,eAAV,gBACZC,GAAI,gBACJQ,KAAMoD,OAAenD,WAClBxE,IAJD,uCAMDgE,SANC,2CAAF,sDAAE,IAUOvB,yBAAa0B,aAAa7B,EAAQc,I,oCCzGjDpE,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,aAAU,EAElB,IAAIC,EAAc,EAAQ,QAEtBC,EAASC,EAAuB,EAAQ,SAExC6E,EAAkB7E,EAAuB,EAAQ,SAEjDmJ,EAAYnJ,EAAuB,EAAQ,SAE3CoJ,EAAgBpJ,EAAuB,EAAQ,SAE/CqJ,EAAYrJ,EAAuB,EAAQ,SAE3CkF,EAAgBlF,EAAuB,EAAQ,SAE/CiG,EAAkBjG,EAAuB,EAAQ,SAErD,SAASA,EAAuBC,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CAAEJ,QAASI,GAEvF,SAAS2B,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQX,EAAKY,GAAO,IAAM,IAAIC,EAAON,EAAIP,GAAKY,GAAUtC,EAAQuC,EAAKvC,MAAS,MAAOwC,GAAwB,YAAfL,EAAOK,GAAsBD,EAAKE,KAAQP,EAAQlC,GAAiB0C,QAAQR,QAAQlC,GAAO2C,KAAKP,EAAOC,GAE7P,SAASO,EAAkBC,GAAM,OAAO,WAAc,IAAIC,EAAOC,KAAMC,EAAO1B,UAAW,OAAO,IAAIoB,SAAQ,SAAUR,EAASC,GAAU,IAAIF,EAAMY,EAAG3B,MAAM4B,EAAME,GAAO,SAASZ,EAAMpC,GAASgC,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQrC,GAAU,SAASqC,EAAOY,GAAOjB,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAASY,GAAQb,OAAMc,OAEjX,SAAS3C,EAAQC,EAAQC,GAAkB,IAAIC,EAAOb,OAAOa,KAAKF,GAAS,GAAIX,OAAOc,sBAAuB,CAAE,IAAIC,EAAUf,OAAOc,sBAAsBH,GAAaC,IAAgBG,EAAUA,EAAQC,QAAO,SAAUC,GAAO,OAAOjB,OAAOkB,yBAAyBP,EAAQM,GAAKE,eAAgBN,EAAKO,KAAKC,MAAMR,EAAME,GAAY,OAAOF,EAE9U,SAASS,EAAcC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAAyB,MAAhBF,UAAUD,GAAaC,UAAUD,GAAK,GAAQA,EAAI,EAAKd,EAAQV,OAAO2B,IAAS,GAAMC,SAAQ,SAAUC,GAAOC,EAAgBP,EAAQM,EAAKF,EAAOE,OAAsB7B,OAAO+B,0BAA6B/B,OAAOgC,iBAAiBT,EAAQvB,OAAO+B,0BAA0BJ,IAAmBjB,EAAQV,OAAO2B,IAASC,SAAQ,SAAUC,GAAO7B,OAAOC,eAAesB,EAAQM,EAAK7B,OAAOkB,yBAAyBS,EAAQE,OAAe,OAAON,EAE7gB,SAASO,EAAgBtB,EAAKqB,EAAK1B,GAAiK,OAApJ0B,KAAOrB,EAAOR,OAAOC,eAAeO,EAAKqB,EAAK,CAAE1B,MAAOA,EAAOgB,YAAY,EAAMc,cAAc,EAAMC,UAAU,IAAkB1B,EAAIqB,GAAO1B,EAAgBK,EAE3M,IAAIgB,EAAIwH,QAAkD,MAA1C5D,EAAgBhF,QAAQyJ,eACpCvG,EAAS,CACXC,GAAI,CACFC,KAAMnD,EAAYoD,aAAaC,MAAMC,QACrCC,YAAa,KACbC,YAAa,CACXC,MAAO,SAETC,MAAM,GAER+F,KAAM,GACNzB,MAAO,CACL7E,KAAMnD,EAAYoD,aAAaC,MAAM4E,MACrCjD,WAAY,CACV7B,KAAM,CACJ+E,KAAM,IAAMnD,EAAgBhF,QAAQ2J,cAAgB3E,EAAgBhF,QAAQ4J,eAE9EzC,UAAU,GAEZ3D,YAAa,QACb0C,OAAQ9E,GAEVyI,SAAU,CACRrG,YAAa,OACbG,MAAM,GAERmG,MAAO,CACL1G,KAAMnD,EAAYoD,aAAaC,MAAMyF,MACrC9D,WAAY,CACVjF,QAAS,GACTgJ,eAAe,EACfpB,KAAM,CAACC,GAAK,4BAA4BC,KAAKD,IAAM,6CAGvDtC,MAAO,CACL/B,YAAa,OACbJ,KAAMnD,EAAYoD,aAAaC,MAAMkC,MACrCP,WAAY,CACVQ,UAAW,OACXzF,QAASgF,EAAgBhF,QAAQ0F,YACjCC,cAAe,OACfvC,KAAM,IAERK,YAAa,CACXmC,iBAAkB1B,GACTA,EAAKiB,KAAKU,gBAAkBb,EAAgBhF,QAAQoF,UAE7DU,aAAcrE,GACG,SAARA,GAGXsE,SAAU,CAAC,OAAQ,QACnBC,SAAU,OACVC,SAAU,CAACZ,EAAcrF,QAASqF,EAAcrF,QAASqF,EAAcrF,SACvEkG,QAAQ,GAEV6D,aAAc,CACZvG,YAAa,eACbJ,KAAMnD,EAAYoD,aAAaC,MAAM8D,OACrCnC,WAAY,CACVjF,QAAS,EACToD,KAAM,CACJiE,YAAakC,EAAcvJ,QAAQsH,WAIzC0C,WAAY,CACVxG,YAAa,YACbJ,KAAMnD,EAAYoD,aAAaC,MAAM8D,OACrCnC,WAAY,CACV7B,KAAM,CACJiE,YAAaiC,EAAUtJ,QAAQsH,QAC/BU,SAAU,gBAIhBiC,WAAY,CACV7G,KAAMnD,EAAYoD,aAAaC,MAAM8D,OACrCnC,WAAY,CACV7B,KAAM,CACJiE,YAAamC,EAAUxJ,QAAQsH,QAC/BC,UAAU,GAEZJ,UAAU,GAEZ3D,YAAa,OAEfgD,iBAAkB,CAChBhD,YAAa,sBACbJ,KAAMnD,EAAYoD,aAAaC,MAAM8D,OACrCnC,WAAY,CACViF,OAAO,EACP/C,UAAU,EACV/D,KAAM,CACJiE,YAAajB,EAAgBpG,QAAQsH,QACrCC,UAAU,EACV4C,aAAc,CAACjG,EAAMkG,IACfA,EAAWC,wBACNnJ,EAAcA,EAAc,GAAIgD,GAAO,GAAI,CAChDoG,SAAUF,EAAWC,wBAAwBE,SAASrG,EAAKf,MAGtDe,KAMjBsG,sBAAuB,CACrBpH,KAAMnD,EAAYoD,aAAaC,MAAM8D,OACrCnC,WAAY,CACV7B,KAAM,CACJiE,YAAajB,EAAgBpG,QAAQsH,QACrCC,UAAU,GAEZkD,OAAO,EACPC,QAAQ,GAEVxE,QAAQ,GAEVmE,wBAAyB,CACvB7G,YAAa,qBACbJ,KAAMnD,EAAYoD,aAAaC,MAAM8D,OACrCnC,WAAY,CACV7B,KAAM,CACJiE,YAAajB,EAAgBpG,QAAQsH,QACrCC,UAAU,GAEZkD,OAAO,EACPC,QAAQ,GAEVxE,QAAQ,GAEVyE,WAAY,CACVnH,YAAa,aACbJ,KAAMnD,EAAYoD,aAAaC,MAAMC,QACrC0B,WAAY,CACVjF,QAAS,EACTmH,UAAU,EACVS,KAAM,CACNC,GAAK,aAAaC,KAAKD,IAAM,wCAGjCsB,SAAU,CACR/F,KAAMnD,EAAYoD,aAAaC,MAAMsF,QACrCpF,YAAa,WACbyB,WAAY,CACVjF,QAAS,EACTmH,UAAU,IAGdyD,UAAW,CACTzD,UAAU,EACVlC,WAAY,CACVC,aAAa,EACbyC,cAAc,IAGlBkD,UAAW,CACTrH,YAAa,aACb2D,UAAU,EACVlC,WAAY,CACVC,aAAa,EACbyC,cAAc,KAIhB3D,EAAS,CACXC,IAAK,SAAaC,GAGhB,OAFAA,EAAK4G,eAAiB5G,EAAKsC,iBAAiB5F,OAAOQ,IAAM8C,EAAKmG,wBAAwBE,SAASnJ,IAAIqF,KAAK,KACxGvC,EAAK6G,cAAgB7G,EAAK+F,WAAWxD,KAAK,KACnCvG,EAAOF,QAAQmE,mBAAmB,oBAAqBjD,EAAcA,EAAc,GAAIgD,GAAO,GAAI,CACvG8G,OAAQhE,KAAKC,UAAU/C,KACrB,CACFE,aAAa,KAGjBC,KAAM,SAAcH,GAQlB,OAPAA,EAAK4G,eAAiB5G,EAAKsC,iBAAiB5F,OAAOQ,IAAM8C,EAAKmG,wBAAwBE,SAASnJ,IAAIqF,KAAK,KACxGvC,EAAK6G,cAAgB7G,EAAK+F,WAAWxD,KAAK,KAEtCvC,EAAK+G,OACP/G,EAAKgH,SAAWhH,EAAK+G,KAAKrH,KAAKuH,MAAM,KAAK,IAGrCjL,EAAOF,QAAQmE,mBAAmB,uBAAwBjD,EAAcA,EAAc,GAAIgD,GAAO,GAAI,CAC1G8G,OAAQhE,KAAKC,UAAU/C,KACrB,CACFE,aAAa,KAGjBE,OAAQ,SAAgBnB,GACtB,OAAOjD,EAAOF,QAAQuE,KAAK,uBAAwB,CACjDpB,GAAIA,KAGRqB,KAAM,WACJ,IAAIC,EAAQ9B,GAAkB,UAAW/B,GACvC,aAAcV,EAAOF,QAAQ0E,IAAI,aAAcxD,EAAc,CAC3DiE,KAAMH,EAAgBhF,QAAQoF,WAC7BxE,KAAUgE,QAAQwG,KAAI,SAAUlH,GAQjC,OAPAA,EAAKf,GAAKe,EAAKmH,OACfnH,EAAKsC,iBAAmB,CAACtC,EAAKmG,wBAA0BnG,EAAKmG,wBAAwBc,MAAM,KAAO,GAAIjH,EAAKsG,sBAAwBtG,EAAKsG,sBAAsBW,MAAM,KAAO,IAAIG,OAAO7E,KAAK,KAC3LvC,EAAKqB,MAAQrB,EAAKqB,MAAM6F,IAAIhK,GACnBF,EAAcA,EAAc,GAAIE,GAAI,GAAI,CAC7CmK,KAAMnK,EAAEoK,eAGLtH,QAIX,SAASM,EAAKK,GACZ,OAAOJ,EAAMxD,MAAM6B,KAAMzB,WAG3B,OAAOmD,EApBH,IAwBJiH,EAAYxL,EAAYoD,aAAa0B,aAAa7B,EAAQc,GAE9DyH,EAAUC,UAAyB/I,GAAkB,YACnD,aAAc8I,EAAUnE,WAAW1G,OAAOQ,GAAgC,MAA3BA,EAAEuF,yBAEnD,IAAI7B,EAAW2G,EACf3L,EAAQE,QAAU8E,G,oCCrQlB,W,oPCSM1D,EAAIwH,QAAyC,MAAjCL,OAAekB,eAE3BkC,EAAY,CAAC,UAAW,UAAW,UACvC,UAAW,UAAW,UACtB,UAAW,UAAW,UACtB,UAAW,UAAW,UACtB,UAAW,UAAW,UACtB,UAAW,UAAW,WAElBzI,EAAS,CACbC,GAAI,CACFC,KAAMC,kBAAaC,MAAMC,QACzBI,MAAM,EACNiI,OAAO,GAETpE,MAAO,CACLpE,KAAMC,kBAAaC,MAAMmE,MACzBxC,WAAY,CACVkC,UAAU,IAGd0E,QAAS,CACPzI,KAAMC,kBAAaC,MAAM4E,MACzBjD,WAAY,CACVkC,UAAU,EACV/D,KAAM,CACJ+E,KAAM,kBAAMC,OAAMC,QAAQC,QAAUC,OAAeC,eAGvDhF,YAAa,QACb0C,OAAQ9E,GAEVoF,iBAAkB,CAChBhD,YAAa,sBACbJ,KAAMC,kBAAaC,MAAM8D,OACzB3D,YAAa,CACXqI,MAAO,SAET7G,WAAY,CACVkC,UAAU,EACV/D,KAAM,CACJiE,YAAaoB,OAAenB,QAC5BC,UAAU,KAIhBjC,WAAY,CACV9B,YAAa,gBACbG,MAAM,GAER4B,MAAO,CACL/B,YAAa,YACbJ,KAAMC,kBAAaC,MAAMkC,MACzBP,WAAY,CACVQ,UAAW,YACXzF,QAASuI,OAAe7C,YACxBC,cAAe,OACfvC,KAAM,IAERK,YAAa,CACXmC,iBAAkB,SAAC1B,GACjB,OAAOA,EAAKiB,KAAKU,gBAAkB0C,OAAenD,UAAUS,eAE9DC,aAAc,SAACrE,GAEb,OADAsK,QAAQC,IAAIvK,GACG,SAARA,IAGXsE,SAAU,CAAC,OAAQ,QACnBC,SAAU,OACVC,SAAU,CACRgG,OAAcA,OAAcA,QAE9B/F,QAAQ,GAEVS,qBAAsB,CACpBnD,YAAa,cACbJ,KAAMC,kBAAaC,MAAM8D,OACzBnC,WAAY,CACV7B,KAAM,CACJiE,YAAa4B,OAAa3B,WAKhCI,WAAY,CACVtE,KAAMC,kBAAaC,MAAMC,QACzB4D,UAAU,EACVlC,WAAY,CACVjF,QAAS,GACTkF,aAAa,EACbyC,cAAc,EACdC,KAAM,CACJ,SAAAC,GAAC,MAAI,aAAaC,KAAKD,IAAM,yCAInCX,aAAc,CACZ9D,KAAMC,kBAAaC,MAAMC,QACzBC,YAAa,cACbyB,WAAY,CACVkC,UAAU,KAMVnD,EAAS,CAEbC,IAAK,SAAUC,GAGb,OAFAA,EAAKqC,sBAAwBrC,EAAKsC,iBAAiBC,KAAK,KACxDvC,EAAKwC,UAAYxC,EAAKyC,qBACf0C,IAAM9E,KAAK,sBAAX,iCACFL,GADE,IAELqB,MAAOyB,KAAKC,UAAU/C,EAAKqB,SAC1B,CACDnB,aAAa,KAGjBC,KAAM,SAAUH,GAKd,OAJAA,EAAKqC,sBAAwBrC,EAAKsC,iBAAiBC,KAAK,KACxDvC,EAAKwC,UAAYxC,EAAKyC,qBAEtBoF,QAAQC,IAAI,uBAAwB9H,GAC7BmF,IAAMlF,mBAAmB,yBAAzB,iCACFD,GADE,IAELqB,MAAOyB,KAAKC,UAAU/C,EAAKqB,SAC1B,CACDnB,aAAa,KAGjBE,OAAQ,SAAUnB,GAChB,OAAOkG,IAAM9E,KAAK,yBAA0B,CAAEpB,GAAIA,KAEpDqB,KAAM,WAAF,4CAAE,WAAgB5D,GAAhB,qGACoByI,IAAM3E,IAAI,eAAgB9D,GAD9C,cACEsL,EADF,OACuDtH,QAC3DmH,QAAQC,IAAIE,EAAU,iBAFlB,kBAGGA,GAHH,2CAAF,sDAAE,GAKNC,YAAa,WAAF,4CAAE,WAAgBC,GAAhB,yFACXC,IAAQjI,aAAY,GADT,iBAEQgI,GAFR,gEAEAlI,EAFA,QAGTA,EAAKqC,sBAAwBrC,EAAKsC,iBAAiBC,KAAK,KACxDvC,EAAKwC,UAAYxC,EAAKyC,qBAEtBzC,EAAKsD,MAAQmE,EAAUW,KAAKC,MAAsB,GAAhBD,KAAKE,WAN9B,UAQHnD,IAAMlF,mBAAmB,yBAAzB,iCACDD,GADC,IAEJqB,MAAOyB,KAAKC,UAAU/C,EAAKqB,SAC1B,CACDnB,aAAa,IAZN,kJAeXiI,IAAQI,MAAM,MAfH,gEAAF,sDAAE,GAkBbC,eAAgB,WAAF,4CAAE,WAAgBN,GAAhB,yFACdC,IAAQjI,aAAY,GADN,iBAEKgI,GAFL,gEAEHlI,EAFG,QAGZA,EAAKqC,sBAAwBrC,EAAKsC,iBAAiBC,KAAK,KACxDvC,EAAKwC,UAAYxC,EAAKyC,qBACtBzC,EAAKsD,MAAQ,UALD,UAMN6B,IAAMlF,mBAAmB,yBAAzB,iCACDD,GADC,IAEJqB,MAAOyB,KAAKC,UAAU/C,EAAKqB,SAC1B,CACDnB,aAAa,IAVH,kJAadiI,IAAQI,MAAM,MAbA,gEAAF,sDAAE,GAgBhBE,oBAAqB,WAAF,4CAAE,WAAgB3C,GAAhB,+FACbX,IAAM9E,KAAK,sCAAX,kBACDyF,GACF,CACD5F,aAAa,IAJI,2CAAF,sDAAE,IAWVwI,EAAMvJ,kBAAa0B,aAAa7B,EAAQc,GACrD+H,QAAQC,IAAI,WAAYY,GACTA,U,oCCjMfhN,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQ+M,2BAA6BA,EACrC/M,EAAQgN,uBAAyBA,EACjChN,EAAQiN,qBAAuBA,EAC/BjN,EAAQkN,0BAA4BA,EACpClN,EAAQmN,cAAgBA,EACxBnN,EAAQoN,UAAYA,EAEpB,IAAIC,EAAQhN,EAAuB,EAAQ,SAEvCgG,EAAgBhG,EAAuB,EAAQ,SAE/CmJ,EAAYnJ,EAAuB,EAAQ,SAE3CiN,EAAmBjN,EAAuB,EAAQ,SAElDD,EAASC,EAAuB,EAAQ,SAE5C,SAASA,EAAuBC,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CAAEJ,QAASI,GAEvF,SAAS2B,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQX,EAAKY,GAAO,IAAM,IAAIC,EAAON,EAAIP,GAAKY,GAAUtC,EAAQuC,EAAKvC,MAAS,MAAOwC,GAAwB,YAAfL,EAAOK,GAAsBD,EAAKE,KAAQP,EAAQlC,GAAiB0C,QAAQR,QAAQlC,GAAO2C,KAAKP,EAAOC,GAE7P,SAASO,EAAkBC,GAAM,OAAO,WAAc,IAAIC,EAAOC,KAAMC,EAAO1B,UAAW,OAAO,IAAIoB,SAAQ,SAAUR,EAASC,GAAU,IAAIF,EAAMY,EAAG3B,MAAM4B,EAAME,GAAO,SAASZ,EAAMpC,GAASgC,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQrC,GAAU,SAASqC,EAAOY,GAAOjB,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAASY,GAAQb,OAAMc,OAEjX,IAAIoK,EAAc,CAEhBC,KAAM,GACNrM,MAAO,GACPsM,SAAS,EACTC,aAAa,GAGf,SAASC,EAAgBC,GACvB,IAAIC,EAAaC,EAEbC,EAAe,GAEnB,OAAMH,EAAKzM,OAASyM,EAAKI,SAIX,OAATJ,QAA0B,IAATA,GAA0D,QAA9BC,EAAcD,EAAKzM,aAAmC,IAAhB0M,OAAhD,EAAkFA,EAAYrM,QAAU,EAC9IoM,EAAKzM,MAAMO,QAAQuM,IACjB,IAAIC,EAAUN,EAAKM,QAAQC,KAAK7M,GAAKA,EAAE+B,KAAO4K,EAAIG,SAC9CzI,EAAYuI,EAAQpK,KACpBM,EAAO,CAAC6J,EAAII,UAAU7C,OAAO8C,OAAO,CAACC,EAAKlL,KAC5C,IAAKA,EACH,OAAOkL,EAGT,IAAIC,EAAQN,EAAQO,YAAYC,QAAQrL,GACpCpD,EAAQ,GAAG0O,OAAOT,EAAQU,WAAWJ,IACrCK,EAAYX,EAAQW,UAAUL,GAOlC,OANAD,EAAIrN,KAAK,CACPyE,YACA1F,QACA4O,YACAC,KAAMnJ,EAAY,IAAM1F,EAAQ,IAAM4O,IAEjCN,GACN,IACHR,EAAeA,EAAaY,OAAOvK,MAElB,OAATwJ,QAA0B,IAATA,GAA4D,QAAhCE,EAAeF,EAAKI,cAAqC,IAAjBF,OAAlD,EAAqFA,EAAatM,QAAU,KACxJoM,EAAKmB,UAAWnB,EAAKoB,SAAUpB,EAAKqB,aAAcrB,EAAKsB,QAAStB,EAAKuB,QAAU,CAACvB,EAAKI,OAAQJ,EAAKwB,MAAOxB,EAAKiB,UAAWjB,EAAKyB,KAAMzB,EAAK0B,KAAKhE,IAAIhK,GAAKA,EAAE+J,MAAM,MAChKuC,EAAKmB,UAAUrN,QAAQ,CAAC6N,EAAIjO,KAC1ByM,EAAa7M,KAAK,CAChBmO,KAAMzB,EAAKsB,QAAQ5N,GACnBgO,IAAK1B,EAAKuB,OAAO7N,GACjBqE,UAAW4J,EACXtP,MAAO2N,EAAKoB,SAAS1N,GACrBuN,UAAWjB,EAAKqB,aAAa3N,GAC7BwN,KAAMS,EAAK,IAAM3B,EAAKoB,SAAS1N,GAAK,IAAMsM,EAAKqB,aAAa3N,GAAK,IAAMsM,EAAKsB,QAAQ5N,QAKnFyM,GAvCEA,EA0CX,SAASyB,EAAY5B,GACnB,IAAI5D,EAAQ,EAMZ,OALA4D,EAAKG,aAAarM,QAAQ+N,IACxB,IAAIC,EAEJ1F,GAAS2F,WAA8C,QAAlCD,EAAgBD,EAAGZ,iBAAyC,IAAlBa,EAA2BA,EAAgB,KAErG1F,EAGT,SAAS4F,EAAiBC,GACxB,OAAOA,EAASvB,OAAO,CAACC,EAAKjN,KAC3BiN,EAAIrN,KAAKI,EAAEwN,MACJP,GACN,IAAI5H,KAAK,KAGd,SAASmJ,EAAalG,EAAMzI,EAAOqM,EAAMuC,EAAiB/F,EAAOgG,EAAaC,GAC5E,OAAOrG,EAAO,IAAMgG,EAAiBzO,GAAS,MAAQqM,EAAO,MAAQuC,EAAkB,MAAQ/F,EAAQ,KAAOgG,EAAc,KAAOC,EAGrI,SAASC,EAAiBtC,GACxB,IAAIuC,EAAYC,EAAMC,EAAmBC,EAAuBC,EAAaC,EAAmBC,EAEhG7C,EAAKJ,KAAoC,QAA5B2C,EAAavC,EAAKJ,YAAiC,IAAf2C,EAAwBA,EAAa,GACtFvC,EAAKG,aAAeJ,EAAgBC,GACpCA,EAAK8C,SAAWlB,EAAY5B,GAC5BA,EAAK+C,YAAchB,WAAsC,IAA3BA,WAAW/B,EAAK5D,OAAe,EAAkI,QAA7HoG,EAAkD,QAA1CC,EAAoBzC,EAAK+C,mBAA+C,IAAtBN,EAA+BA,EAAoBzC,EAAK5D,aAA4B,IAAToG,EAAkBA,EAAO,GAChOxC,EAAKgD,UAAYjB,WAAW/B,EAAK+C,aAAehB,WAAW/B,EAAK8C,UAAYf,WAA8D,QAAlDW,EAAwB1C,EAAKiD,uBAAuD,IAA1BP,EAAmCA,EAAwB,GAEzM1C,EAAKhE,KAAKa,SAAS,QACrBmD,EAAKgD,UAAYhD,EAAK5D,OAGxB4D,EAAKkD,SAAWhB,EAAalC,EAAKhE,KAAMgE,EAAKG,aAAcH,EAAKJ,KAAMI,EAAKmC,gBAAgD,QAA9BQ,EAAc3C,EAAK5D,aAAmC,IAAhBuG,EAAyBA,EAAc3C,EAAKgD,UAAsD,QAA1CJ,EAAoB5C,EAAKoC,mBAA+C,IAAtBQ,EAA+BA,EAAoB,GAA6D,QAAxDC,EAAwB7C,EAAKqC,6BAA6D,IAA1BQ,EAAmCA,EAAwB,IAGla,SAAS1D,EAA2B/C,EAAO+G,GACzC,IAAI,SACFC,EAAQ,SACRC,GACEhE,EAAqB8D,GACzB,OAAOpB,WAAW3F,GAASgH,EAAWC,EAGxC,SAASjE,EAAuBhD,EAAO+G,GACrC,IAAI,SACFC,EAAQ,SACRC,GACEhE,EAAqB8D,GACzB,OAAOpB,WAAW3F,IAAU2F,WAAW3F,GAASgH,EAAWC,GAG7D,SAAShE,EAAqB8D,GAC5B,IAAIC,EAAW,EACXC,EAAW,EACXC,EAAkB,uCAElBC,EAAS,KACJ,CACLF,WACAD,aAIJ,OAAKE,EAAgBlJ,KAAK+I,IAItBA,EAAYK,SAAS,KACvBJ,EAAW,EAA2C,IAAvCrB,WAAWoB,EAAYM,MAAM,GAAI,IAEhDJ,EAAWtB,WAAWoB,GAGjBI,KATEA,IAYX,SAASjE,IACP,IAAIZ,EAAO,GACPgF,EAAiB,GAEjBC,EAAkB,GAElBC,EAAU,EAEVC,EAAgB,SAAuB7D,EAAM8D,GAC/C,IAAIC,EAAUrE,EAAiBpN,QAAQ0R,SAAShE,GAEhD+D,EAAQD,MAAkB,OAAVA,QAA4B,IAAVA,EAAmBA,EAAQ9D,EAAK8D,MAClEC,EAAQE,SAAWF,EAAQD,MAE3BC,EAAQ7C,KAAO0C,EACftB,EAAiByB,GACjBH,IACAD,EAAgBI,EAAQb,UAAYa,EAEpCA,EAAQG,OAAS,SAAUJ,GACzBK,EAAaJ,EAASD,IAGxBpF,EAAKpL,KAAKyQ,IAGZ,SAASK,IACP,IAAIC,EAAW1Q,UAAUC,OAAS,QAAsB2B,IAAjB5B,UAAU,GAAmBA,UAAU,GAAK,IAEjE,OAAb0Q,QAAkC,IAAbA,OAAsB,EAASA,EAASzQ,QAAU,GAC1E1B,OAAOoS,OAAOZ,EAAgBW,EAAS3D,OAAO,CAAChO,EAAKgB,KAClDhB,EAAIgB,EAAEsI,MAAQtI,EACPhB,GACN,KAIP,SAAS6R,EAAqBC,GAC5B,OAAOC,EAAeD,GAAS,GAGjC,SAASC,EAAeD,GACtB,IAAIE,EAAOC,EAAaC,EAAOC,EAAOC,EAElCC,IAAOpR,UAAUC,OAAS,QAAsB2B,IAAjB5B,UAAU,KAAmBA,UAAU,GACtEqM,EAAO+E,EAAOrF,EAAiBpN,QAAQ0R,SAASQ,GAAWA,EAU/D,OATAxE,EAAK8D,MAAQkB,SAAmH,QAAzGN,EAAuC,QAA9BC,EAAc3E,EAAK8D,aAAmC,IAAhBa,EAAyBA,EAAc3E,EAAKiE,gBAAgC,IAAVS,EAAmBA,EAAQ,GACnK1E,EAAK9J,KAA8K,QAAtK0O,EAA8G,QAArGC,EAAqC,QAA5BC,EAAa9E,EAAK9J,YAAiC,IAAf4O,EAAwBA,EAAa9E,EAAK7D,gBAAgC,IAAV0I,EAAmBA,EAAQ7E,EAAKpI,kBAAkC,IAAVgN,EAAmBA,EAAQ5E,EAAKoC,YAEvNpC,EAAKhE,KAAKiJ,cAAcpI,SAAS,QACnCmD,EAAK9J,KAAO8J,EAAKoC,aAGnBE,EAAiBtC,GACjBA,EAAKkF,YAAa,EACXhT,OAAOoS,OAAO,GAAI3E,EAAaK,GAGxC,SAASmF,IACP,OAAOjT,OAAOa,KAAK2Q,GAAgBhD,OAAO,CAACC,EAAKyE,KAC9CzE,EAAIrN,KAAKoQ,EAAe0B,IACjBzE,GACN,IAGL,IAAIwD,EAAe,SAAsBnE,EAAM8D,GAC7C,IAAIuB,EAAU3B,EAAe1D,EAAKhE,MAE9BqJ,IACEL,SAASK,EAAQvB,OAASkB,SAASlB,GAAS,EAC9CuB,EAAQvB,OAASA,EAEjBuB,EAAQvB,MAAQ,GAIf9D,EAAKkF,aAAclF,EAAKF,cAC3BE,EAAKF,aAAc,EACnBE,EAAOyE,EAAezE,IAGxB,IAAIsF,EAAW3B,EAAgB3D,EAAKkD,UAEhCoC,EAEEA,EAASxB,MAAQA,EAAQ,GAC3BwB,EAASxB,OAASA,EAClBwB,EAASrB,SAAWqB,EAASxB,QAE7BpF,EAAK6G,OAAO7G,EAAKoC,QAAQwE,GAAW,UAC7B3B,EAAgB3D,EAAKkD,YAI1BY,GAAS,GAAK9D,EAAK8D,OAAS,IAC9BD,EAAc7D,EAAM8D,IAKtB0B,EAAa,SAAoB9G,GACnC,OAAOA,EAAKhB,IAAI6G,IAGdhO,EAAM,SAAayJ,EAAM8D,GAC3BK,EAAanE,EAAM8D,IAGjBlN,EAAS,SAAgBoJ,EAAM8D,GACjCK,EAAanE,EAAM8D,IAGjB2B,EAAQ,WACV,OAAO/G,EAAKgC,OAAO,CAACgF,EAAGC,IACdD,EAAI3D,WAAW4D,EAAE3C,UAAY2C,EAAE7B,OACrC,IAGDA,EAAQ,WACV,OAAOkB,SAAStG,EAAKgC,OAAO,CAACgF,EAAGC,IACvBD,EAAIV,SAASW,EAAE7B,OACrB,KAGD8B,EAAiB,SAAwBC,GAC3CC,EAASD,IAGPC,EAAW,SAAkBC,GAG/B,IAAK,IAAIJ,KAFTK,IAEcD,GACZxP,EAAIoP,IAIJK,EAAQ,WACV,IAAK,IAAIZ,KAAKlT,OAAOa,KAAK2Q,GACxBA,EAAe0B,GAAGtB,MAAQ,EAG5B,IAAK,IAAImC,KAAM/T,OAAOa,KAAK4Q,UAClBA,EAAgBsC,GAGzBvH,EAAK6G,OAAO,EAAG7G,EAAK9K,SAGtB,MAAO,CACL+P,kBACAS,cACAV,iBACAhF,OACAyG,cACA5O,MACAK,SACA6O,QACA3B,QACA8B,iBACAJ,aACAM,WACAE,SAMJ,IAAIE,EAAM,GACNC,EAAW,GACXC,EAAS,GACTC,EAAgB,GAEpB,SAASC,EAAcC,EAAYC,EAAQC,GASzC,OARAF,EAAaA,EAAW7I,IAAIgJ,IAC1BA,EAAEF,OAASA,EAAOtT,OAAOyS,GAAKX,SAASW,EAAErJ,cAAgB0I,SAAS0B,EAAEjR,KAAKiI,IAAIiI,IAC3EA,EAAE7B,MAAQ,EACV6B,EAAE/F,KAAO,GACF+F,IAEFe,IACNxT,OAAOwT,GAAKA,EAAEF,OAAO5S,OAAS,GAC1B6S,EAAI/I,IAAIiJ,IACbA,EAAKJ,WAAaA,EAAWrT,OAAOwT,GAAK1B,SAAS2B,EAAKlR,MAAQuP,SAAS0B,EAAEzN,uBACnE0N,IACNC,KAAK,CAACC,EAAGC,IACa,IAAnB9B,SAAS8B,EAAErR,KACL,EAGa,IAAnBuP,SAAS6B,EAAEpR,IACN,EAGLuP,SAAS6B,EAAEpR,IAAMuP,SAAS8B,EAAErR,KACtB,EAGNuP,SAAS6B,EAAEpR,IAAMuP,SAAS8B,EAAErR,IACvB,EAGF,GAIX,IAAIsR,EAASzH,IAEb,SAASC,IACP,OAAOyH,EAAezT,MAAM6B,KAAMzB,WAGpC,SAASqT,IAoBP,OAnBAA,EAAiB/R,GAAkB,YACjC,IAAIgS,EAAgBtT,UAAUC,OAAS,QAAsB2B,IAAjB5B,UAAU,IAAmBA,UAAU,GAC/E8D,EAAO9D,UAAUC,OAAS,QAAsB2B,IAAjB5B,UAAU,GAAmBA,UAAU,GAAK,KAe/E,OAb6B,IAAzB0S,EAAczS,UACfwS,EAAQD,EAAUD,SAAanR,QAAQmS,IAAI,CAAC1H,IAAa5D,EAAUtJ,QAAQsH,UAAWnB,EAAcnG,QAAQsH,aAEvF,IAAlBqN,IACFd,SAAkB3T,EAAOF,QAAQ0E,IAAI,kCAAmC,CACtES,OACAwP,mBACE/P,SAGNmP,EAAgBC,EAAcH,EAAUC,EAAQF,IAG3CG,KAEFW,EAAezT,MAAM6B,KAAMzB,WAGpC,SAAS6L,IACP,OAAO2H,EAAW5T,MAAM6B,KAAMzB,WAGhC,SAASwT,IAQP,OAPAA,EAAalS,GAAkB,YAK7B,OAJsB,IAAlBmR,EAAOxS,SACTwS,EAASW,EAAOvB,iBAAiB/F,EAAMnN,QAAQsH,YAG1CwM,KAEFe,EAAW5T,MAAM6B,KAAMzB,a,2GCrZ1B6B,EAAS,CACbC,GAAI,CACFC,KAAMC,kBAAaC,MAAMC,QACzBC,YAAa,KACbC,YAAa,CACXC,MAAO,SAETC,MAAM,GAERC,KAAM,CACJJ,YAAa,eAEfsR,kBAAmB,CACjB1R,KAAMC,kBAAaC,MAAMsF,QACzBpF,YAAa,qBAEfuR,mBAAoB,CAClB3R,KAAMC,kBAAaC,MAAMsF,QACzBpF,YAAa,sBAEfwR,WAAY,CACV5R,KAAMC,kBAAaC,MAAMsF,SAE3BqM,aAAc,CACZzR,YAAa,eACbyB,WAAY,CACVyF,QAAQ,EACRD,OAAO,IAGXyK,kBAAmB,CACjBjQ,WAAY,CACVjF,QAAS,MAGbmV,iBAAkB,CAChBlQ,WAAY,CACVyF,QAAQ,EACRD,OAAO,KAIPzG,EAAS,CACbQ,KAAM,WAAF,4CAAE,WAAgB5D,GAAhB,qGACeyI,IAAM3E,IAAI,cAAV,gBACjBC,GAAI,qBACD/D,IAHD,cACEgM,EADF,OAKDhI,QAEHmH,QAAQC,IAAI,UAAWY,GAPnB,kBAQGA,GARH,2CAAF,sDAAE,GAUN3I,IAAK,SAAUC,GACb,OAAOmF,IAAMlF,mBAAmB,kCAAmCD,EAAM,CACvEE,aAAa,KAGjBC,KAAM,SAAUH,GACd,OAAOmF,IAAMlF,mBAAmB,qCAAsCD,EAAM,CAC1EE,aAAa,KAGjBE,OAAQ,SAAUnB,GAChB,OAAOkG,IAAM9E,KAAK,oCAAqC,CAAEpB,GAAIA,MAIlDE,yBAAa0B,aAAa7B,EAAQc,I,6GCpE3Cd,EAAS,CACbC,GAAI,CACFC,KAAMC,kBAAaC,MAAMC,QACzBC,YAAa,KACbC,YAAa,CACXC,MAAO,SAETC,MAAM,GAERC,KAAM,CACJJ,YAAa,cAEfK,KAAM,CACJL,YAAa,QAEfM,UAAW,CACTN,YAAa,aAEfO,YAAa,CACXP,YAAa,gBAGXQ,EAAS,CACbC,IAAK,SAAUC,GACb,OAAOmF,IAAMlF,mBAAmB,4BAA6BD,EAAM,CACjEE,aAAa,KAGjBC,KAAM,SAAUH,GACd,OAAOmF,IAAMlF,mBAAmB,+BAAgCD,EAAM,CACpEE,aAAa,KAGjBE,OAAQ,SAAUnB,GAChB,OAAOkG,IAAM9E,KAAK,+BAAgC,CAAEpB,GAAIA,KAE1DqB,KAAM,WAAF,4CAAE,WAAgB5D,GAAhB,+FACUyI,IAAM3E,IAAI,aAAV,gBACZC,GAAI,mBACD/D,IAHD,uCAKDgE,SALC,2CAAF,sDAAE,IASOvB,yBAAa0B,aAAa7B,EAAQc,I,2DC9CjDpE,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,aAAU,EAElB,IAAIgF,EAAkB7E,EAAuB,EAAQ,SAEjDF,EAAc,EAAQ,QAEtBC,EAASC,EAAuB,EAAQ,SAE5C,SAASA,EAAuBC,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CAAEJ,QAASI,GAEvF,SAASE,EAAQC,EAAQC,GAAkB,IAAIC,EAAOb,OAAOa,KAAKF,GAAS,GAAIX,OAAOc,sBAAuB,CAAE,IAAIC,EAAUf,OAAOc,sBAAsBH,GAAaC,IAAgBG,EAAUA,EAAQC,QAAO,SAAUC,GAAO,OAAOjB,OAAOkB,yBAAyBP,EAAQM,GAAKE,eAAgBN,EAAKO,KAAKC,MAAMR,EAAME,GAAY,OAAOF,EAE9U,SAASS,EAAcC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAAyB,MAAhBF,UAAUD,GAAaC,UAAUD,GAAK,GAAQA,EAAI,EAAKd,EAAQV,OAAO2B,IAAS,GAAMC,SAAQ,SAAUC,GAAOC,EAAgBP,EAAQM,EAAKF,EAAOE,OAAsB7B,OAAO+B,0BAA6B/B,OAAOgC,iBAAiBT,EAAQvB,OAAO+B,0BAA0BJ,IAAmBjB,EAAQV,OAAO2B,IAASC,SAAQ,SAAUC,GAAO7B,OAAOC,eAAesB,EAAQM,EAAK7B,OAAOkB,yBAAyBS,EAAQE,OAAe,OAAON,EAE7gB,SAASO,EAAgBtB,EAAKqB,EAAK1B,GAAiK,OAApJ0B,KAAOrB,EAAOR,OAAOC,eAAeO,EAAKqB,EAAK,CAAE1B,MAAOA,EAAOgB,YAAY,EAAMc,cAAc,EAAMC,UAAU,IAAkB1B,EAAIqB,GAAO1B,EAAgBK,EAE3M,SAAS2B,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQX,EAAKY,GAAO,IAAM,IAAIC,EAAON,EAAIP,GAAKY,GAAUtC,EAAQuC,EAAKvC,MAAS,MAAOwC,GAAwB,YAAfL,EAAOK,GAAsBD,EAAKE,KAAQP,EAAQlC,GAAiB0C,QAAQR,QAAQlC,GAAO2C,KAAKP,EAAOC,GAE7P,SAASO,EAAkBC,GAAM,OAAO,WAAc,IAAIC,EAAOC,KAAMC,EAAO1B,UAAW,OAAO,IAAIoB,SAAQ,SAAUR,EAASC,GAAU,IAAIF,EAAMY,EAAG3B,MAAM4B,EAAME,GAAO,SAASZ,EAAMpC,GAASgC,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQrC,GAAU,SAASqC,EAAOY,GAAOjB,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAASY,GAAQb,OAAMc,OAEjX,IAAIC,EAAS,CACXC,GAAI,CACFC,KAAMnD,EAAYoD,aAAaC,MAAMC,QACrCC,YAAa,KACbC,YAAa,CACXC,MAAO,SAETC,MAAM,GAERC,KAAM,GACNwR,WAAY,GACZjO,SAAU,CACR/D,KAAMnD,EAAYoD,aAAaC,MAAMsF,SAEvCyM,YAAa,CACXjS,KAAMnD,EAAYoD,aAAaC,MAAMsF,SAEvC0M,eAAgB,CACdlS,KAAMnD,EAAYoD,aAAaC,MAAMC,QACrCI,MAAM,IAGNK,EAAS,CACXQ,KAAM,WACJ,IAAIC,EAAQ9B,GAAkB,UAAW/B,GACvC,aAAcV,EAAOF,QAAQ0E,IAAI,eAAgBxD,EAAc,CAC7DyD,GAAI,qBACJQ,KAAMH,EAAgBhF,QAAQoF,WAC7BxE,KAAUgE,WAGf,SAASJ,EAAKK,GACZ,OAAOJ,EAAMxD,MAAM6B,KAAMzB,WAG3B,OAAOmD,EAZH,GAcNP,IAAK,SAAaC,GAChB,OAAOhE,EAAOF,QAAQmE,mBAAmB,oCAAqCD,EAAM,CAClFE,aAAa,KAGjBC,KAAM,SAAcH,GAClB,OAAOhE,EAAOF,QAAQmE,mBAAmB,uCAAwCD,EAAM,CACrFE,aAAa,KAGjBE,OAAQ,SAAgBnB,GACtB,OAAOjD,EAAOF,QAAQuE,KAAK,uCAAwC,CACjEpB,GAAIA,MAKN2B,EAAW7E,EAAYoD,aAAa0B,aAAa7B,EAAQc,GAE7DlE,EAAQE,QAAU8E,G,4IC9EJ,SAAUyQ,EAAO3R,GAE7B,OAAO4R,OAAIC,OAAO,CAChB7R,KAAM,KAAF,OAAOA,GAEX8R,YAAY,EAEZC,MAAO,CACLxS,GAAIyS,OACJC,IAAK,CACHzS,KAAMwS,OACN5V,QAAS,QAIb8V,OAbgB,SAaRC,EAbQ,GAaoB,IAAvBJ,EAAuB,EAAvBA,MAAOK,EAAgB,EAAhBA,KAAM/P,EAAU,EAAVA,SACxB+P,EAAKC,YAAe,UAAGrS,EAAH,YAAWoS,EAAKC,aAAe,IAAMC,OAEzD,IAAQC,EAAUH,EAAVG,MACR,GAAIA,EAAO,CAETH,EAAKG,MAAQ,GACb,IAAMC,EAAUxW,OAAOa,KAAK0V,GAAOvV,QAAO,SAAAa,GAGxC,GAAY,SAARA,EAAgB,OAAO,EAE3B,IAAM1B,EAAQoW,EAAM1U,GAIpB,OAAIA,EAAI4U,WAAW,UACjBL,EAAKG,MAAO1U,GAAO1B,GACZ,GAGFA,GAA0B,kBAAVA,KAGrBqW,EAAQ9U,SAAQ0U,EAAKC,aAAL,WAAwBG,EAAQ3P,KAAK,OAQ3D,OALIkP,EAAMxS,KACR6S,EAAKM,SAAWN,EAAKM,UAAY,GACjCN,EAAKM,SAASnT,GAAKwS,EAAMxS,IAGpB4S,EAAEJ,EAAME,IAAKG,EAAM/P,M,gBC1CjBsQ,SAAK,aAAad,OAAO,CACtC7R,KAAM,cACN8R,YAAY,EACZC,MAAO,CACLxS,GAAIyS,OACJC,IAAK,CACHzS,KAAMwS,OACN5V,QAAS,OAEXwW,MAAO,CACLpT,KAAMwF,QACN5I,SAAS,IAGb8V,OAdsC,SAc9BC,EAd8B,GAcF,IAC9BK,EADOT,EAAuB,EAAvBA,MAAOK,EAAgB,EAAhBA,KAAM/P,EAAU,EAAVA,SAEhBkQ,EAAUH,EAAVG,MA2BR,OA1BIA,IAEFH,EAAKG,MAAQ,GACbC,EAAUxW,OAAOa,KAAK0V,GAAOvV,QAAO,SAAAa,GAGlC,GAAY,SAARA,EAAgB,OAAO,EAE3B,IAAM1B,EAAQoW,EAAM1U,GAIpB,OAAIA,EAAI4U,WAAW,UACjBL,EAAKG,MAAO1U,GAAO1B,GACZ,GAGFA,GAA0B,kBAAVA,MAIvB4V,EAAMxS,KACR6S,EAAKM,SAAWN,EAAKM,UAAY,GACjCN,EAAKM,SAASnT,GAAKwS,EAAMxS,IAGpB4S,EACLJ,EAAME,IACNY,eAAUT,EAAM,CACdC,YAAa,YACbS,MAAOC,MAAW,CAChB,mBAAoBhB,EAAMa,QACzB/H,OAAO2H,GAAW,MAEvBnQ,O,kCC3DN,gBAEM/C,EAAS,CACbC,GAAI,CACFC,KAAMC,kBAAaC,MAAMC,QACzBC,YAAa,KACbC,YAAa,CACXC,MAAO,SAETuB,WAAY,CACVC,aAAa,IAGjBtB,KAAM,CACJJ,YAAa,QAEf2B,KAAM,GACNoG,KAAM,CACJ/H,YAAa,eACbyB,WAAY,CACVkC,UAAU,KAID9D,yBAAa0B,aAAa7B,EAAQ,K,kCCtBjDtD,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,aAAU,EAElB,IAAIC,EAAc,EAAQ,QAEtBC,EAASC,EAAuB,EAAQ,SAE5C,SAASA,EAAuBC,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CAAEJ,QAASI,GAEvF,SAASE,EAAQC,EAAQC,GAAkB,IAAIC,EAAOb,OAAOa,KAAKF,GAAS,GAAIX,OAAOc,sBAAuB,CAAE,IAAIC,EAAUf,OAAOc,sBAAsBH,GAAaC,IAAgBG,EAAUA,EAAQC,QAAO,SAAUC,GAAO,OAAOjB,OAAOkB,yBAAyBP,EAAQM,GAAKE,eAAgBN,EAAKO,KAAKC,MAAMR,EAAME,GAAY,OAAOF,EAE9U,SAASS,EAAcC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAAyB,MAAhBF,UAAUD,GAAaC,UAAUD,GAAK,GAAQA,EAAI,EAAKd,EAAQV,OAAO2B,IAAS,GAAMC,SAAQ,SAAUC,GAAOC,EAAgBP,EAAQM,EAAKF,EAAOE,OAAsB7B,OAAO+B,0BAA6B/B,OAAOgC,iBAAiBT,EAAQvB,OAAO+B,0BAA0BJ,IAAmBjB,EAAQV,OAAO2B,IAASC,SAAQ,SAAUC,GAAO7B,OAAOC,eAAesB,EAAQM,EAAK7B,OAAOkB,yBAAyBS,EAAQE,OAAe,OAAON,EAE7gB,SAASO,EAAgBtB,EAAKqB,EAAK1B,GAAiK,OAApJ0B,KAAOrB,EAAOR,OAAOC,eAAeO,EAAKqB,EAAK,CAAE1B,MAAOA,EAAOgB,YAAY,EAAMc,cAAc,EAAMC,UAAU,IAAkB1B,EAAIqB,GAAO1B,EAAgBK,EAE3M,SAAS2B,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQX,EAAKY,GAAO,IAAM,IAAIC,EAAON,EAAIP,GAAKY,GAAUtC,EAAQuC,EAAKvC,MAAS,MAAOwC,GAAwB,YAAfL,EAAOK,GAAsBD,EAAKE,KAAQP,EAAQlC,GAAiB0C,QAAQR,QAAQlC,GAAO2C,KAAKP,EAAOC,GAE7P,SAASO,EAAkBC,GAAM,OAAO,WAAc,IAAIC,EAAOC,KAAMC,EAAO1B,UAAW,OAAO,IAAIoB,SAAQ,SAAUR,EAASC,GAAU,IAAIF,EAAMY,EAAG3B,MAAM4B,EAAME,GAAO,SAASZ,EAAMpC,GAASgC,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQrC,GAAU,SAASqC,EAAOY,GAAOjB,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAASY,GAAQb,OAAMc,OAEjX,IAAIC,EAAS,CACXC,GAAI,CACFC,KAAMnD,EAAYoD,aAAaC,MAAMC,QACrCC,YAAa,KACbC,YAAa,CACXC,MAAO,SAETC,MAAM,GAERC,KAAM,CACJJ,YAAa,eAEfsR,kBAAmB,CACjB1R,KAAMnD,EAAYoD,aAAaC,MAAMsF,QACrCpF,YAAa,qBAEfuR,mBAAoB,CAClB3R,KAAMnD,EAAYoD,aAAaC,MAAMsF,QACrCpF,YAAa,sBAEfyR,aAAc,CACZzR,YAAa,eACbyB,WAAY,CACVyF,QAAQ,EACRD,OAAO,IAGXyK,kBAAmB,CACjBjQ,WAAY,CACVjF,QAAS,MAGbmV,iBAAkB,CAChBlQ,WAAY,CACVyF,QAAQ,EACRD,OAAO,KAITzG,EAAS,CACXQ,KAAM,WACJ,IAAIC,EAAQ9B,GAAkB,UAAW/B,GACvC,aAAcV,EAAOF,QAAQ0E,IAAI,cAAexD,EAAc,CAC5DyD,GAAI,qBACH/D,KAAUgE,WAGf,SAASJ,EAAKK,GACZ,OAAOJ,EAAMxD,MAAM6B,KAAMzB,WAG3B,OAAOmD,EAXH,GAaNP,IAAK,SAAaC,GAChB,OAAOhE,EAAOF,QAAQmE,mBAAmB,kCAAmCD,EAAM,CAChFE,aAAa,KAGjBC,KAAM,SAAcH,GAClB,OAAOhE,EAAOF,QAAQmE,mBAAmB,qCAAsCD,EAAM,CACnFE,aAAa,KAGjBE,OAAQ,SAAgBnB,GACtB,OAAOjD,EAAOF,QAAQuE,KAAK,oCAAqC,CAC9DpB,GAAIA,MAKN2B,EAAW7E,EAAYoD,aAAa0B,aAAa7B,EAAQc,GAE7DlE,EAAQE,QAAU8E,G,uHC1FZ5B,EAAS,CACbC,GAAI,CACFC,KAAMC,kBAAaC,MAAMC,QACzBC,YAAa,KACbC,YAAa,CACXC,MAAO,SAETC,MAAM,GAERC,KAAM,GACNwR,WAAY,GACZjO,SAAU,CACR/D,KAAMC,kBAAaC,MAAMsF,SAE3ByM,YAAa,CACXjS,KAAMC,kBAAaC,MAAMsF,SAE3B0M,eAAgB,CACdlS,KAAMC,kBAAaC,MAAMC,QACzBI,MAAM,IAGJK,EAAS,CACbQ,KAAM,WAAF,4CAAE,WAAgB5D,GAAhB,+FACUyI,IAAM3E,IAAI,eAAV,gBACZC,GAAI,qBACJQ,KAAMoD,OAAenD,WAClBxE,IAJD,uCAMDgE,SANC,2CAAF,sDAAE,GAQNX,IAAK,SAAUC,GACb,OAAOmF,IAAMlF,mBAAmB,oCAAqCD,EAAM,CACzEE,aAAa,KAGjBC,KAAM,SAAUH,GACd,OAAOmF,IAAMlF,mBAAmB,uCAAwCD,EAAM,CAC5EE,aAAa,KAGjBE,OAAQ,SAAUnB,GAChB,OAAOkG,IAAM9E,KAAK,uCAAwC,CAAEpB,GAAIA,MAIrDE,yBAAa0B,aAAa7B,EAAQc,I,kCCjDjDpE,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,aAAU,EAElB,IAAIC,EAAc,EAAQ,QAEtBiD,EAAS,CACXC,GAAI,CACFC,KAAMnD,EAAYoD,aAAaC,MAAMC,QACrCC,YAAa,KACbC,YAAa,CACXC,MAAO,SAETuB,WAAY,CACVC,aAAa,IAGjBtB,KAAM,CACJJ,YAAa,QAEf2B,KAAM,GACNoG,KAAM,CACJ/H,YAAa,eACbyB,WAAY,CACVkC,UAAU,KAKZrC,EAAW7E,EAAYoD,aAAa0B,aAAa7B,EAAQ,IAE7DpD,EAAQE,QAAU8E,G,6WCvBZ8R,EAAYhO,QAAyC,MAAjCL,OAAekB,eAEnCvG,EAAS,CACbC,GAAI,CACFC,KAAMC,kBAAaC,MAAMC,QACzBC,YAAa,KACbG,MAAM,EACNuC,QAAQ,GAEV+B,MAAO,CACL7E,KAAMC,kBAAaC,MAAM4E,MACzBjD,WAAY,CACV7B,KAAM,CACJ+E,KAAM,kBAAMC,OAAMC,QAAQC,QAAUC,OAAeqB,gBAErDzC,UAAU,GAEZ1D,YAAa,CAAEoT,YAAY,GAC3BrT,YAAa,QACb0C,OAAQ0Q,GAEVpP,MAAO,CACLpE,KAAMC,kBAAaC,MAAMmE,MACzBxC,WAAY,CACVkC,UAAU,GAEZ1D,YAAa,CAAEoT,YAAY,IAE7BnN,KAAM,CACJjG,YAAa,CACXqI,MAAO,QAET5F,QAAQ,GAEV4Q,YAAa,CACXtT,YAAa,OACbG,MAAM,EACNF,YAAa,IAGfoG,SAAU,CACRrG,YAAa,OACbG,MAAM,EACNF,YAAa,IAEfqG,MAAO,CACL1G,KAAMC,kBAAaC,MAAMyF,MACzB9D,WAAY,CACVjF,QAAS,GACTgJ,eAAe,EACfpB,KAAM,CACJ,SAAAC,GAAC,MAAI,4BAA4BC,KAAKD,IAAM,8CAKlDtC,MAAO,CACL/B,YAAa,OACbJ,KAAMC,kBAAaC,MAAMkC,MACzBP,WAAY,CACVQ,UAAW,OACXzF,QAASuI,OAAe7C,YACxBC,cAAe,OACfvC,KAAM,IAERK,YAAa,CACXmC,iBAAkB,SAAC1B,GACjB,OAAOA,EAAKiB,KAAKwN,gBAAkBpK,OAAenD,UAAUuN,eAE9D7M,aAAc,SAACrE,GACb,MAAe,SAARA,IAGXsE,SAAU,CAAC,OAAQ,QACnBC,SAAU,OACVC,SAAU,CACRgG,OAAcA,OAAcA,QAE9B/F,QAAQ,GAGV6D,aAAc,CACZvG,YAAauT,OAAK3D,EAAE,gBACpBhQ,KAAMC,kBAAaC,MAAM8D,OACzBnC,WAAY,CACVjF,QAAS,EACToD,KAAM,CACJiE,YAAa2P,OAAa1P,WAIhC2P,mBAAoB,CAClBzT,YAAauT,OAAK3D,EAAE,mBACpBhQ,KAAMC,kBAAaC,MAAM8D,OACzBnC,WAAY,CACV7B,KAAM,CACJmE,UAAU,EACVF,YAAa2P,OAAa1P,SAE5BH,UAAU,GAEZjB,QAAQ,GAEV8D,WAAY,CACVxG,YAAa,KACbC,YAAa,CAAEoT,YAAY,GAC3BzT,KAAMC,kBAAaC,MAAM8D,OACzBnC,WAAY,CACV7B,KAAM,CACJiE,YAAawM,OAASvM,QACtBU,SAAU,gBAIhBiC,WAAY,CACVzG,YAAauT,OAAK3D,EAAE,OACpBhQ,KAAMC,kBAAaC,MAAM8D,OACzBnC,WAAY,CACV7B,KAAM,CACJiE,YAAa6P,OAAS5P,QACtBC,UAAU,GAEZJ,UAAU,GAEZjB,QAAQ,GAEVM,iBAAkB,CAChBhD,YAAauT,OAAK3D,EAAE,uBACpBhQ,KAAMC,kBAAaC,MAAM8D,OACzBnC,WAAY,CACViF,OAAO,EACP/C,UAAU,EACV/D,KAAM,CACJiE,YAAaoB,OAAenB,QAC5BC,UAAU,EACV4C,aAAc,SAACjG,EAAMkG,GACnB,OAAIA,EAAWC,wBACN,eAAC,kBACHnG,GADL,IAEEoG,SAAUF,EAAWC,wBAAwBE,SAASrG,EAAKf,MAGtDe,KAKfgC,QAAQ,GAEVsE,sBAAuB,CACrBpH,KAAMC,kBAAaC,MAAM8D,OACzBnC,WAAY,CACV7B,KAAM,CACJiE,YAAaoB,OAAenB,QAC5BC,UAAU,IAGd5D,MAAM,EACNuC,QAAQ,GAGVmE,wBAAyB,CACvB7G,YAAa,qBACbJ,KAAMC,kBAAaC,MAAM8D,OACzBnC,WAAY,CACV7B,KAAM,CACJiE,YAAaoB,OAAenB,QAC5BC,UAAU,IAGd5D,MAAM,EACNuC,QAAQ,GAEVyE,WAAY,CACVnH,YAAa,aACbJ,KAAMC,kBAAaC,MAAMC,QACzB0B,WAAY,CACVjF,QAAS,EACTmH,UAAU,EACVS,KAAM,CACJ,SAAAC,GAAC,MAAI,aAAaC,KAAKD,IAAM,wCAGjC3B,QAAQ,GAEViD,SAAU,CACR/F,KAAMC,kBAAaC,MAAMsF,QACzBpF,YAAa,WACbyB,WAAY,CACVjF,QAAS,EACTmH,UAAU,IAGdyD,UAAW,CACTzD,UAAU,EACVlC,WAAY,CACVC,aAAa,EACbyC,cAAc,GAEhBzB,QAAQ,IAINlC,EAAS,CAEbQ,KAAM,WAAF,4CAAE,WAAgB5D,GAAhB,+FAIUyI,IAAM3E,IAAI,aAAV,gBACZS,KAAMoD,OAAenD,UACrB+R,WAAY,GACTvW,IAPD,uCASDgE,QAAQwG,KAAI,SAAUlH,GAarB,OAZAA,EAAK4S,YAAc5S,EAAKwF,KAAKpI,OAAS,EAAI4C,EAAKwF,KAAKyH,MAAM,EAAG,GAAK,MAAQjN,EAAKwF,KAC/ExF,EAAKf,GAAKe,EAAKmH,OACfnH,EAAKsC,iBAAmB,CACtBtC,EAAKmG,wBAA0BnG,EAAKmG,wBAAwBc,MAAM,KAAO,GACzEjH,EAAKsG,sBAAwBtG,EAAKsG,sBAAsBW,MAAM,KAAO,IACrEG,OAAO7E,KAAK,KACdvC,EAAKqB,MAAQrB,EAAKqB,MAAM6F,KAAI,SAAAhK,GAC1B,OAAO,iCACFA,GADL,IAEEmK,KAAMnK,EAAEoK,iBAGLtH,MAtBP,2CAAF,sDAAE,GA0BNkT,YAAa,SAAUlT,GACrB,OAAOmF,IAAMlF,mBAAmB,oBAAzB,iCACFD,GADE,IAEL8G,OAAQhE,KAAKC,UAAU/C,KACtB,CAAEE,aAAa,KAEpBH,IAAK,SAAUC,GAAM,MAOnB,OANAA,EAAK4G,eAAiB5G,EAAKsC,iBACxB5F,QAAO,SAAAQ,GAAC,OAAK8C,EAAKmG,wBAAwBE,SAASnJ,MAAIqF,KAAK,KAC/DvC,EAAK6G,cAAgB7G,EAAK+F,WAAWxD,KAAK,KAC1CsF,QAAQC,IAAI9H,EAAK+S,oBACjB/S,EAAK+S,mBAAqB,UAAA/S,EAAK+S,0BAAL,SAAyBxQ,KAAOvC,EAAK+S,mBAAmBxQ,KAAK,KAAO,GAEvF4C,IAAMlF,mBAAmB,oBAAzB,iCACFD,GADE,IAEL8G,OAAQhE,KAAKC,UAAU/C,KACtB,CAAEE,aAAa,KAGpBE,OAAQ,SAAUnB,GAChB,OAAOkG,IAAM9E,KAAK,uBAAwB,CAAEpB,GAAIA,KAElDkB,KAAM,SAAUH,GAAM,MAcpB,OAbAA,EAAK4G,eAAiB5G,EAAKsC,iBACxB5F,QAAO,SAAAQ,GAAC,OAAK8C,EAAKmG,wBAAwBE,SAASnJ,MAAIqF,KAAK,KAC/DvC,EAAK6G,cAAgB7G,EAAK+F,WAAWxD,KAAK,KAC1CvC,EAAK+S,mBAAqB,UAAA/S,EAAK+S,0BAAL,SAAyBxQ,KAAOvC,EAAK+S,mBAAmBxQ,KAAK,KAAO,GAC1FvC,EAAK+G,OACP/G,EAAKgH,SAAWhH,EAAK+G,KAAKrH,KAAKuH,MAAM,KAAK,IAE5CjH,EAAKiF,SAAWjF,EAAKiF,SAAW,EAAI,EAM7BE,IAAMlF,mBAAmB,uBAAzB,iCACFD,GADE,IAEL8G,OAAQhE,KAAKC,UAAU/C,KACtB,CAAEE,aAAa,MAIhBqH,EAAYpI,kBAAa0B,aAAa7B,EAAQc,GACpDyH,EAAUC,UAAV,sCAAsB,4GACND,EAAUnE,UADJ,uCACe1G,QAAO,SAAAQ,GAAC,MAA+B,MAA3BA,EAAEuF,yBAD7B,2CAGP8E,U,uEC/RA,yBACVY,M,uHCCCnJ,EAAS,CACbC,GAAI,CACFC,KAAMC,kBAAaC,MAAMC,QACzBC,YAAa,KACbC,YAAa,CACXC,MAAO,SAETuB,WAAY,CACVC,aAAa,IAGjBtB,KAAM,GACNuB,KAAM,IAEFnB,EAAS,CACbQ,KAAM,WAAF,4CAAE,WAAgB5D,GAAhB,+FACUyI,IAAM3E,IAAI,mBAAV,gBACZS,KAAMoD,OAAenD,WAClBxE,IAHD,uCAKDgE,SALC,2CAAF,sDAAE,IASOvB,yBAAa0B,aAAa7B,EAAQc,I,yCC5BjD,IAAI8R,EAAS,WAAa,IAAIuB,EAAIvU,KAASwU,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,SAAS,CAACA,EAAG,eAAe,CAACH,EAAIK,GAAGL,EAAIM,GAAGN,EAAIO,GAAG,cAAcJ,EAAG,cAAc,CAACA,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACrB,MAAM,CAAC,KAAO,MAAM,CAACqB,EAAG,WAAW,CAACK,IAAI,SAAS1B,MAAM,CAAC,eAAekB,EAAIS,MAAM,WAAa,GAAG,MAAQ,SAASC,GAAG,CAAC,qBAAqB,SAASC,GAAQX,EAAIS,MAAME,GAAQ,sBAAsB,SAASA,GAAQX,EAAIS,MAAME,IAASC,YAAYZ,EAAIa,GAAG,CAAC,CAACzW,IAAI,YAAYmB,GAAG,SAASiV,GAChf,IAAIE,EAAKF,EAAIE,GACT5B,EAAQ0B,EAAI1B,MAChB,MAAO,CAACqB,EAAG,eAAeH,EAAIc,GAAGd,EAAIe,GAAG,CAACjC,MAAM,CAAC,MAAQkB,EAAIO,GAAG,QAAQ,eAAe,eAAe,SAAW,IAAIS,MAAM,CAACtY,MAAOsX,EAAS,MAAEiB,SAAS,SAAUC,GAAMlB,EAAIS,MAAMS,GAAKC,WAAW,UAAU,eAAerC,GAAM,GAAO4B,SAAUM,MAAM,CAACtY,MAAOsX,EAAoB,iBAAEiB,SAAS,SAAUC,GAAMlB,EAAIoB,iBAAiBF,GAAKC,WAAW,qBAAqB,CAAChB,EAAG,gBAAgB,CAACrB,MAAM,CAAC,MAAQ,GAAG,WAAa,IAAIkC,MAAM,CAACtY,MAAOsX,EAAS,MAAEiB,SAAS,SAAUC,GAAMlB,EAAIS,MAAMS,GAAKC,WAAW,UAAU,CAAChB,EAAG,YAAYA,EAAG,QAAQ,CAACrB,MAAM,CAAC,KAAO,GAAG,MAAQ,WAAW4B,GAAG,CAAC,MAAQ,SAASC,GAAQX,EAAIoB,kBAAmB,KAAS,CAACpB,EAAIK,GAAG,cAAcF,EAAG,QAAQ,CAACrB,MAAM,CAAC,KAAO,GAAG,MAAQ,WAAW4B,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOX,EAAIqB,MAAMC,OAAOC,KAAKvB,EAAIS,UAAU,CAACT,EAAIK,GAAG,WAAW,IAAI,IAAI,GAAGF,EAAG,QAAQ,CAACrB,MAAM,CAAC,KAAO,MAAM,CAACqB,EAAG,WAAW,CAACK,IAAI,aAAa1B,MAAM,CAAC,eAAekB,EAAIwB,UAAU,WAAa,GAAG,MAAQ,SAASd,GAAG,CAAC,qBAAqB,SAASC,GAAQX,EAAIwB,UAAUb,GAAQ,sBAAsB,SAASA,GAAQX,EAAIwB,UAAUb,IAASC,YAAYZ,EAAIa,GAAG,CAAC,CAACzW,IAAI,YAAYmB,GAAG,SAASiV,GACnlC,IAAIE,EAAKF,EAAIE,GACT5B,EAAQ0B,EAAI1B,MAChB,MAAO,CAACqB,EAAG,eAAeH,EAAIc,GAAGd,EAAIe,GAAG,CAACjC,MAAM,CAAC,MAAQkB,EAAIO,GAAG,aAAa,eAAe,eAAe,SAAW,IAAIS,MAAM,CAACtY,MAAOsX,EAAa,UAAEiB,SAAS,SAAUC,GAAMlB,EAAIwB,UAAUN,GAAKC,WAAW,cAAc,eAAerC,GAAM,GAAO4B,SAAUM,MAAM,CAACtY,MAAOsX,EAAyB,sBAAEiB,SAAS,SAAUC,GAAMlB,EAAIyB,sBAAsBP,GAAKC,WAAW,0BAA0B,CAAChB,EAAG,gBAAgB,CAACrB,MAAM,CAAC,MAAQ,GAAG,WAAa,IAAIkC,MAAM,CAACtY,MAAOsX,EAAa,UAAEiB,SAAS,SAAUC,GAAMlB,EAAIwB,UAAUN,GAAKC,WAAW,cAAc,CAAChB,EAAG,YAAYA,EAAG,QAAQ,CAACrB,MAAM,CAAC,KAAO,GAAG,MAAQ,WAAW4B,GAAG,CAAC,MAAQ,SAASC,GAAQX,EAAIyB,uBAAwB,KAAS,CAACzB,EAAIK,GAAG,cAAcF,EAAG,QAAQ,CAACrB,MAAM,CAAC,KAAO,GAAG,MAAQ,WAAW4B,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOX,EAAIqB,MAAMK,WAAWH,KAAKvB,EAAIwB,cAAc,CAACxB,EAAIK,GAAG,WAAW,IAAI,IAAI,GAAGF,EAAG,QAAQ,CAACrB,MAAM,CAAC,KAAO,MAAM,CAACqB,EAAG,WAAW,CAACK,IAAI,gBAAgB1B,MAAM,CAAC,eAAekB,EAAI2B,QAAQ,WAAa,GAAG,MAAQ,SAASjB,GAAG,CAAC,qBAAqB,SAASC,GAAQX,EAAI2B,QAAQhB,GAAQ,sBAAsB,SAASA,GAAQX,EAAI2B,QAAQhB,IAASC,YAAYZ,EAAIa,GAAG,CAAC,CAACzW,IAAI,YAAYmB,GAAG,SAASiV,GACzoC,IAAIE,EAAKF,EAAIE,GACT5B,EAAQ0B,EAAI1B,MAChB,MAAO,CAACqB,EAAG,eAAeH,EAAIc,GAAGd,EAAIe,GAAG,CAACjC,MAAM,CAAC,MAAQkB,EAAIO,GAAG,WAAW,eAAe,eAAe,SAAW,IAAIS,MAAM,CAACtY,MAAOsX,EAAW,QAAEiB,SAAS,SAAUC,GAAMlB,EAAI2B,QAAQT,GAAKC,WAAW,YAAY,eAAerC,GAAM,GAAO4B,SAAUM,MAAM,CAACtY,MAAOsX,EAAuB,oBAAEiB,SAAS,SAAUC,GAAMlB,EAAI4B,oBAAoBV,GAAKC,WAAW,wBAAwB,CAAChB,EAAG,gBAAgB,CAACrB,MAAM,CAAC,MAAQ,GAAG,WAAa,IAAIkC,MAAM,CAACtY,MAAOsX,EAAW,QAAEiB,SAAS,SAAUC,GAAMlB,EAAI2B,QAAQT,GAAKC,WAAW,YAAY,CAAChB,EAAG,YAAYA,EAAG,QAAQ,CAACrB,MAAM,CAAC,KAAO,GAAG,MAAQ,WAAW4B,GAAG,CAAC,MAAQ,SAASC,GAAQX,EAAI4B,qBAAsB,KAAS,CAAC5B,EAAIK,GAAG,cAAcF,EAAG,QAAQ,CAACrB,MAAM,CAAC,KAAO,GAAG,MAAQ,WAAW4B,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOX,EAAIqB,MAAMQ,cAAcN,KAAKvB,EAAI2B,YAAY,CAAC3B,EAAIK,GAAG,WAAW,IAAI,IAAI,GAAGF,EAAG,QAAQ,CAACrB,MAAM,CAAC,KAAO,MAAM,CAACqB,EAAG,WAAW,CAACrB,MAAM,CAAC,MAAQkB,EAAIO,GAAG,UAAU,YAAY,OAAO,aAAa,KAAK,SAAW,GAAG,UAAY,GAAG,MAAQP,EAAI8B,gBAAgBpB,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOX,EAAI+B,iBAAiB/B,EAAIgC,sBAAsB,cAAchC,EAAIiC,yBAAyBjB,MAAM,CAACtY,MAAOsX,EAAuB,oBAAEiB,SAAS,SAAUC,GAAMlB,EAAIgC,oBAAoBd,GAAKC,WAAW,0BAA0B,GAAGhB,EAAG,QAAQ,CAACrB,MAAM,CAAC,KAAO,MAAM,CAACqB,EAAG,WAAW,CAACrB,MAAM,CAAC,MAAQkB,EAAIO,GAAG,QAAQ,YAAY,OAAO,aAAa,KAAK,SAAW,GAAG,UAAY,GAAG,MAAQP,EAAI8B,gBAAgBd,MAAM,CAACtY,MAAOsX,EAAkB,eAAEiB,SAAS,SAAUC,GAAMlB,EAAIkC,eAAehB,GAAKC,WAAW,qBAAqB,IAAI,GAAGhB,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACrB,MAAM,CAAC,KAAO,MAAM,CAACqB,EAAG,WAAW,CAACrB,MAAM,CAAC,MAAQkB,EAAIO,GAAG,UAAU,YAAY,WAAW,aAAa,WAAW,SAAW,GAAG,UAAY,GAAG,MAAQP,EAAImC,oBAAoBzB,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOX,EAAIoC,kBAAkBpC,EAAIqC,kBAAkB,cAAcrC,EAAIsC,sBAAsBtB,MAAM,CAACtY,MAAOsX,EAAmB,gBAAEiB,SAAS,SAAUC,GAAMlB,EAAIqC,gBAAgBnB,GAAKC,WAAW,sBAAsB,GAAGhB,EAAG,QAAQ,CAACrB,MAAM,CAAC,KAAO,MAAM,CAACqB,EAAG,WAAW,CAACrB,MAAM,CAAC,MAAQkB,EAAIO,GAAG,oBAAoB,YAAY,WAAW,aAAa,WAAW,SAAW,GAAG,MAAQP,EAAIuC,aAAa7B,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOX,EAAIwC,aAAaxC,EAAIyC,cAAczB,MAAM,CAACtY,MAAOsX,EAAc,WAAEiB,SAAS,SAAUC,GAAMlB,EAAIyC,WAAWvB,GAAKC,WAAW,iBAAiB,GAAGhB,EAAG,QAAQ,CAACrB,MAAM,CAAC,KAAO,MAAM,CAACqB,EAAG,QAAQ,CAACrB,MAAM,CAAC,SAAWkB,EAAI0C,UAAUzY,OAAO,EAAE,UAAU,GAAG,MAAQ,UAAU,MAAQ,IAAIyW,GAAG,CAAC,MAAQ,SAASC,GAAQX,EAAI2C,gBAAe,KAAQ,CAAC3C,EAAIK,GAAG,IAAIL,EAAIM,GAAGN,EAAIO,GAAG,WAAW,QAAQ,IAAI,IAAI,IAAI,GAAGJ,EAAG,WAAW,CAACrB,MAAM,CAAC,WAAa,GAAG,WAAa,IAAIkC,MAAM,CAACtY,MAAOsX,EAAkB,eAAEiB,SAAS,SAAUC,GAAMlB,EAAI2C,eAAezB,GAAKC,WAAW,mBAAmB,CAAChB,EAAG,SAAS,CAACA,EAAG,YAAY,CAACrB,MAAM,CAAC,MAAQ,GAAG,KAAO,KAAK,CAACqB,EAAG,kBAAkB,CAACH,EAAIK,GAAG,IAAIL,EAAIM,GAAGN,EAAIO,GAAG,SAAS,OAAOJ,EAAG,YAAYA,EAAG,QAAQ,CAACvB,YAAY,OAAO8B,GAAG,CAAC,MAAQV,EAAI4C,QAAQ,CAACzC,EAAG,SAAS,CAACrB,MAAM,CAAC,KAAO,KAAK,CAACkB,EAAIK,GAAG,mBAAmBL,EAAIK,GAAG,IAAIL,EAAIM,GAAGN,EAAIO,GAAG,UAAU,MAAM,GAAGJ,EAAG,SAAS,CAACO,GAAG,CAAC,MAAQ,SAASC,GAAQX,EAAI2C,gBAAgB3C,EAAI2C,kBAAkB,CAAC3C,EAAIK,GAAG,kBAAkB,GAAGF,EAAG,cAAc,CAACA,EAAG,eAAe,CAACrB,MAAM,CAAC,eAAe,GAAG,MAAQ,GAAG,sBAAsB,GAAG,qBAAqB,GAAG,OAAS,qBAAqB,aAAakB,EAAI6C,aAAa,QAAU7C,EAAI8C,QAAQ,MAAQ9C,EAAI0C,UAAU,iBAAiB,QAAQ,IAAI,IAAI,IAAI,IACj3GK,EAAkB,G,wQC6OtB,GACAxW,oBACAoS,gBACA,OACAyC,sBACAK,2BACAG,yBACAJ,aACAG,WACAlB,SACAkC,oBACAK,kBACAC,eACAC,iBACAT,cACAU,oBACAjB,kBACAF,uBACAK,mBACAe,eACAb,eACAJ,sBACAkB,aACA,CACAC,YACA5a,cAEA,CACA4a,aACA5a,eAEA,CACA4a,cACA5a,mBAKA6a,UACAT,QADA,WAEA,sDAEAhB,eAJA,WAKA,gDAKA,OAJA,mBACA5E,uCAAA,oBAGA,IACA,KAEAsG,gBAbA,WAaA,WACA,2BACAja,QAAA,8FACAwK,KAAA,YAGA,OAFAmJ,cACAA,oBACA,MAGAwF,UAtBA,WAuBA,SACA,cAOA,OANA1G,YACAA,8FACAA,sBACAA,iCACAA,0BAEA,GAEA,gBAMA,OALAxL,cACAA,iBACAA,iCACAA,0BAEA,GAiBA,OAfA,yBACA,2CACAkS,UACA1G,kCACA0G,qBAIA,sCACAA,aACA1G,kCACA0G,qBAIA,IAGAe,OACAhD,MADA,SACAiD,GACA,uBAEAlC,UAJA,SAIAkC,GACA,+CAEA/B,QAPA,SAOA+B,GACA,kDAGAC,QA5GA,WA4GA,oKACA,aADA,8CAGAC,SACA3B,wBADA,WAEA4B,+CAEAvB,qBAJA,WAKAuB,4CAEArB,aAPA,SAOAC,GACA,yFAEAL,kBAVA,SAUAC,GACA,wBACAwB,0CACA,8FACA,uFAEA9B,iBAhBA,SAgBA+B,GACA,wBACAD,8CAEAhB,aApBA,SAoBAhW,GACA,2CAEAkX,aAvBA,SAuBAC,EAAAC,GACA,oBACA,+BACA,cAUA,OATAD,uBACA,gDACA,IACA,OACAla,SAEAA,iBAGA,GAEA,OAAAoa,WAEA,OAAAxD,OAEAyD,gBA1CA,WA0CA,yJACAC,iBADA,uCAEA7a,QAAA,sDAFA,8CAIA8a,oBA9CA,WA8CA,4KACAjT,iBADA,cACAqC,EADA,gBAEA,oBAFA,cAEA6Q,EAFA,yBAGA,qCACA5D,GAAAjN,EAAA,MAAAyQ,OAAA,oBAJA,8CAMAK,aApDA,SAoDAC,EAAAhD,EAAAG,GAAA,8KACA8C,sBADA,UACA9F,EADA,OAEAA,aAFA,yCAGA,IAHA,cAKAjE,EAAA/E,yCACAkG,WAAA8C,WACA+F,EAAAhK,wBACA,gBACA,GAcAiK,sBACAA,oCAdA5b,WACA4J,kCACAiS,0CACAvS,YAEA9F,YACAsY,mBACAzL,0BACA0L,+BACAC,aAEAJ,aAKA,qEAWA,OAVA,EACAK,iBAEAL,iBACApL,oBACAY,wBACA3D,4BACA/D,oBAGA,IACA,IAtCA,kBAuCAlK,kCAEA,OADA0c,4BACA,MAzCA,8CA4CAC,eAhGA,SAgGA7O,GAAA,WAqBA,OAnBAA,uDACAA,gCACA7F,oDACAA,oCACA,qEACA,iEACA,OAGA,UACA2U,WAEAA,UACA,UACAC,WAEAA,iBAGA,iCAoBA,OAnBA5U,oCACA,oDACA,IACA6U,mCACA7O,GADA,IAEA8O,YAEAtO,WAEA,yDACA,EACAoO,UAEAC,+CACA7O,GADA,IAEA2D,cAIA,IACA,KAEAoL,cA5IA,SA4IAf,EAAAhD,EAAAG,GAAA,4KACA,sBADA,OACA6D,EADA,OAEAC,EAAAD,wBASA,OARAzc,2BACAA,mCAAA,MACA,UACA2c,WAEAA,4DAEA3c,2BACA,IACA,CACAsJ,SACA9F,YACAuY,aACA1L,cACAyL,aACAc,kDACAZ,cAEA,+BACA,gGAtBA,8CAwBAa,SApKA,WAoKA,2JACA,8CADA,SAEA,wBAFA,cAEA,gBAFA,gBAGAC,iBAHA,cAGA,qBAHA,OAIA,oDACA,8CALA,UAMA,+CANA,QAOA,6CACA,8EAEA,0CACA,uEAEA,2BACA,wGAEA,0DAhBA,+CAmBAjD,MAvLA,WAwLA,8DACA,4CADA,KACA,cADA,KAGA,wEACAkD,2FACAC,mCACAD,8CCpiBqW,I,6OCQjWE,EAAY,eACd,EACAvH,EACAsE,GACA,EACA,KACA,KACA,MAIa,aAAAiD,EAAiB,QAqBhC,IAAkBA,EAAW,CAACC,OAAA,KAAKC,QAAA,KAAMC,UAAA,OAAUC,WAAA,OAAWC,OAAA,KAAKC,aAAA,KAAWC,aAAA,KAAWC,cAAA,KAAYC,UAAA,KAAQC,QAAA,KAAMC,OAAA,KAAKC,UAAA,KAAQC,UAAA,KAAQC,aAAA,KAAWC,cAAA,KAAYC,WAAA,KAASC,cAAA,U,kJCxCjK,SAASC,EAAYC,GAC1B,IAAMC,EAAM,IAAIC,KACVC,EAAUF,EAAIG,UACdC,EAAa,MACbC,EAAWH,EAAUH,EAAMK,EAC3BE,EAAS,IAAIL,KAAKI,GAClBE,EAAID,EAAOE,cACXC,EAAIH,EAAOI,WAAa,EACxB9L,EAAI0L,EAAOK,UACjB,MAAO,CAACJ,EAAGE,EAAG7L,GAAG5M,KAAK,KAGjB,SAAS4Y,EAAgBb,GAC9B,IAAMC,EAAM,IAAIC,KACVC,EAAUF,EAAIG,UACdC,EAAa,MACbC,EAAWH,EAAUH,EAAMK,EAC3BE,EAAS,IAAIL,KAAKI,GAClBE,EAAID,EAAOE,cAAgB,IAC3BC,EAAIH,EAAOI,WAAa,EACxB9L,EAAI0L,EAAOK,UACXrJ,EAAIgJ,EAAOO,WAAa,GAAK,IAAMP,EAAOO,WAAaP,EAAOO,WAC9DC,EAAKR,EAAOS,aAAe,GAAK,IAAMT,EAAOS,aAAeT,EAAOS,aACnEC,EAAIV,EAAOW,aAAe,GAAK,IAAMX,EAAOW,aAAeX,EAAOW,aACxE,OAAOV,EAAIE,EAAI,IAAM7L,EAAI,IAAM0C,EAAI,IAAMwJ,EAAK,IAAME,EAG/C,SAASE,EAAqBzb,GACnC,IAAM0b,EAAO1b,EAIb,OAHI0b,EAAKC,cAAaD,EAAKC,YAAcD,EAAKC,YAAc,IACxDD,EAAKE,YAAWF,EAAKE,UAAYF,EAAKE,UAAY,IAE/CF","file":"js/chunk-68e35a05.02c59ae2.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _metaflowJs = require(\"metaflow-js\");\n\nvar _hillo = _interopRequireDefault(require(\"hillo\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar entity = {\n  id: {\n    type: _metaflowJs.IKDataEntity.Types.Integer,\n    displayName: 'id',\n    tableConfig: {\n      align: 'start'\n    },\n    form: false\n  },\n  name: {\n    displayName: 'allergName'\n  },\n  icon: {\n    displayName: 'icon'\n  },\n  shortName: {\n    displayName: 'shortName'\n  },\n  displayText: {\n    displayName: 'displayText'\n  }\n};\nvar config = {\n  add: function add(item) {\n    return _hillo.default.postWithUploadFile('Dishes.php?op=addAllergen', item, {\n      showLoading: true\n    });\n  },\n  edit: function edit(item) {\n    return _hillo.default.postWithUploadFile('Dishes.php?op=updateAllergen', item, {\n      showLoading: true\n    });\n  },\n  remove: function remove(id) {\n    return _hillo.default.post('Dishes.php?op=deleteAllergen', {\n      id: id\n    });\n  },\n  load: function () {\n    var _load = _asyncToGenerator(function* (filter) {\n      return (yield _hillo.default.get('Dishes.php', _objectSpread({\n        op: 'showAllAllergen'\n      }, filter))).content;\n    });\n\n    function load(_x) {\n      return _load.apply(this, arguments);\n    }\n\n    return load;\n  }()\n};\n\nvar _default = _metaflowJs.IKDataEntity.ModelFactory(entity, config);\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _GlobalSettings = _interopRequireDefault(require(\"./GlobalSettings\"));\n\nvar _metaflowJs = require(\"metaflow-js\");\n\nvar _hillo = _interopRequireDefault(require(\"hillo\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar entity = {\n  id: {\n    type: _metaflowJs.IKDataEntity.Types.Integer,\n    displayName: 'id',\n    tableConfig: {\n      align: 'start'\n    },\n    formConfig: {\n      requiredNew: false\n    }\n  },\n  name: {},\n  lang: {}\n};\nvar config = {\n  load: function () {\n    var _load = _asyncToGenerator(function* (filter) {\n      return (yield _hillo.default.get('CategoryType.php', _objectSpread({\n        lang: _GlobalSettings.default.getLang()\n      }, filter))).content;\n    });\n\n    function load(_x) {\n      return _load.apply(this, arguments);\n    }\n\n    return load;\n  }()\n};\n\nvar _default = _metaflowJs.IKDataEntity.ModelFactory(entity, config);\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _metaflowJs = require(\"metaflow-js\");\n\nvar _hillo = _interopRequireDefault(require(\"hillo\"));\n\nvar _StringEntity = _interopRequireDefault(require(\"./StringEntity\"));\n\nvar _GlobalSettings = _interopRequireDefault(require(\"./GlobalSettings\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar config = {\n  load: function () {\n    var _load = _asyncToGenerator(function* (filter) {\n      return (yield _hillo.default.get('Category.php', _objectSpread({}, filter))).content;\n    });\n\n    function load(_x) {\n      return _load.apply(this, arguments);\n    }\n\n    return load;\n  }()\n};\nvar entity = {\n  id: {\n    type: _metaflowJs.IKDataEntity.Types.Integer,\n    displayName: 'id',\n    tableConfig: {\n      align: 'start'\n    },\n    formConfig: {\n      requiredNew: false\n    }\n  },\n  _langsname: {\n    displayName: 'labelName',\n    form: false\n  },\n  langs: {\n    displayName: 'labelName',\n    type: _metaflowJs.IKDataEntity.Types.Group,\n    formConfig: {\n      groupName: 'labelName',\n      default: _GlobalSettings.default.supportLang,\n      childLabelKey: 'lang',\n      type: {}\n    },\n    tableConfig: {\n      displayCondition: item => {\n        return item.lang.toUpperCase() === _GlobalSettings.default.getLang();\n      },\n      displayChild: key => {\n        return key === 'name';\n      }\n    },\n    childKey: ['name', 'desc'],\n    labelKey: 'lang',\n    children: [_StringEntity.default, _StringEntity.default, _StringEntity.default],\n    header: false\n  }\n};\n\nvar _default = _metaflowJs.IKDataEntity.ModelFactory(entity, config);\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _metaflowJs = require(\"metaflow-js\");\n\nvar _hillo = _interopRequireDefault(require(\"hillo\"));\n\nvar _CategoryType = _interopRequireDefault(require(\"./CategoryType\"));\n\nvar _AttributeGroup = _interopRequireDefault(require(\"./AttributeGroup\"));\n\nvar _StringEntity = _interopRequireDefault(require(\"./StringEntity\"));\n\nvar _GlobalSettings = _interopRequireDefault(require(\"./GlobalSettings\"));\n\nvar _ConsumeType = _interopRequireDefault(require(\"./ConsumeType\"));\n\nvar _ParentCategoty = _interopRequireDefault(require(\"./ParentCategoty\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar config = {\n  add: function add(item) {\n    item.appliedAttributeGroup = item.attributeGroupId.join(',');\n    item.catTypeId = item.dishesCategoryTypeId;\n    item.appliedConsumeTypeIds = item.consumeTypeIds.join(',');\n    item.appliedFreeInConsumeTypeIds = item.freeInConsumeTypeIds.join(',');\n    return _hillo.default.post('Category.php?op=add', _objectSpread(_objectSpread({}, item), {}, {\n      langs: JSON.stringify(item.langs)\n    }), {\n      showLoading: true\n    });\n  },\n  edit: function edit(item) {\n    item.appliedAttributeGroup = item.attributeGroupId.join(',');\n    item.catTypeId = item.dishesCategoryTypeId;\n    item.appliedConsumeTypeIds = item.consumeTypeIds.join(',');\n    item.appliedFreeInConsumeTypeIds = item.freeInConsumeTypeIds.join(',');\n    return _hillo.default.postWithUploadFile('Category.php?op=update', _objectSpread(_objectSpread({}, item), {}, {\n      langs: JSON.stringify(item.langs)\n    }), {\n      showLoading: true\n    });\n  },\n  remove: function remove(id) {\n    return _hillo.default.post('Category.php?op=delete', {\n      id: id\n    });\n  },\n  load: function () {\n    var _load = _asyncToGenerator(function* (filter) {\n      return (yield _hillo.default.get('Category.php', _objectSpread({}, filter))).content;\n    });\n\n    function load(_x) {\n      return _load.apply(this, arguments);\n    }\n\n    return load;\n  }()\n};\nvar entity = {\n  id: {\n    type: _metaflowJs.IKDataEntity.Types.Integer,\n    displayName: 'id',\n    tableConfig: {\n      align: 'start'\n    },\n    formConfig: {\n      requiredNew: false\n    }\n  },\n  categorySort: {\n    type: _metaflowJs.IKDataEntity.Types.Integer,\n    displayName: 'sectionSort',\n    formConfig: {\n      default: 50,\n      required: false\n    }\n  },\n  _langsname: {\n    displayName: 'labelName',\n    form: false\n  },\n  langs: {\n    displayName: 'labelName',\n    type: _metaflowJs.IKDataEntity.Types.Group,\n    formConfig: {\n      groupName: 'labelName',\n      default: _GlobalSettings.default.supportLang,\n      childLabelKey: 'lang',\n      type: {}\n    },\n    tableConfig: {\n      displayCondition: item => {\n        return item.lang.toUpperCase() === _GlobalSettings.default.getLang();\n      },\n      displayChild: key => {\n        return key === 'name';\n      }\n    },\n    childKey: ['name', 'desc'],\n    labelKey: 'lang',\n    children: [_StringEntity.default, _StringEntity.default, _StringEntity.default],\n    header: false\n  },\n  dishesCategoryTypeId: {\n    displayName: 'labelType',\n    type: _metaflowJs.IKDataEntity.Types.Option,\n    formConfig: {\n      type: {\n        selectItems: _CategoryType.default.getList\n      }\n    }\n  },\n  attributeGroupId: {\n    displayName: 'attributeGroupNames',\n    type: _metaflowJs.IKDataEntity.Types.Option,\n    formConfig: {\n      required: false,\n      type: {\n        selectItems: _AttributeGroup.default.getList,\n        multiple: true\n      }\n    }\n  },\n  consumeTypeIds: {\n    type: _metaflowJs.IKDataEntity.Types.Option,\n    formConfig: {\n      required: false,\n      type: {\n        selectItems: _ConsumeType.default.getList,\n        multiple: true\n      }\n    }\n  },\n  freeInConsumeTypeIds: {\n    type: _metaflowJs.IKDataEntity.Types.Option,\n    formConfig: {\n      required: false,\n      type: {\n        selectItems: _ConsumeType.default.getList,\n        multiple: true\n      }\n    }\n  },\n  color: {\n    type: _metaflowJs.IKDataEntity.Types.Color,\n    formConfig: {\n      required: false\n    }\n  },\n  printOrder: {\n    type: _metaflowJs.IKDataEntity.Types.Integer,\n    required: false,\n    formConfig: {\n      default: 50,\n      requiredNew: false,\n      requiredEdit: false,\n      rule: [// ^-[1-9]\\d*$\n      v => /^[0-9]\\d*$/.test(v) || 'Bitte geben Sie die ganze Zahl ein']\n    }\n  },\n  parentId: {\n    type: _metaflowJs.IKDataEntity.Types.Option,\n    formConfig: {\n      required: false,\n      type: {\n        selectItems: _ParentCategoty.default.getList,\n        itemText: '_langsname'\n      }\n    }\n  }\n};\n\nvar _default = _metaflowJs.IKDataEntity.ModelFactory(entity, config);\n\nexports.default = _default;","/*\r\n * Copyright (c) 2022. Haodong JU\r\n */\r\n\r\nimport GlobalSettings from '@/GlobalSettings'\r\nimport { IKDataEntity } from 'metaflow-js'\r\nimport hillo from 'hillo'\r\nimport AttributeGroup from './AttributeGroup'\r\nimport CategoryType from './CategoryType'\r\nimport store from '@/store'\r\n\r\nconst entity = {\r\n  id: {\r\n    type: IKDataEntity.Types.Integer,\r\n    displayName: 'id',\r\n    tableConfig: {\r\n      align: 'start',\r\n    },\r\n    form: false,\r\n  },\r\n  name: {\r\n    displayName: 'name',\r\n  },\r\n  image: {\r\n    type: IKDataEntity.Types.Image,\r\n    formConfig: {\r\n      required: false,\r\n      type: {\r\n        root: () => store.getters.rootUrl + GlobalSettings.dcImageRoot,\r\n      },\r\n    },\r\n  },\r\n  attributeGroupId: {\r\n    displayName: 'groupName',\r\n    type: IKDataEntity.Types.Option,\r\n    formConfig: {\r\n      type: {\r\n        selectItems: AttributeGroup.forceGetList,\r\n      },\r\n    },\r\n  },\r\n  isMultiChosen: {\r\n    type: IKDataEntity.Types.Boolean,\r\n  },\r\n  value: {\r\n    displayName: 'value',\r\n    formConfig: {\r\n      default: 1,\r\n    },\r\n  },\r\n  printMod: {\r\n    displayName: 'printMod',\r\n  },\r\n  priceMod: {\r\n    type: IKDataEntity.Types.Float,\r\n    displayName: 'priceMod',\r\n    formConfig: {\r\n      overwriteRule: true,\r\n      rule: [\r\n        v => /^(-)?[0-9]+\\.{0,1}[0-9]{0,2}$/.test(v) || 'please enter the correct price',\r\n      ],\r\n    },\r\n  },\r\n  dishesCategoryTypeId: {\r\n    displayName: 'warengruppe',\r\n    type: IKDataEntity.Types.Option,\r\n    formConfig: {\r\n      type: {\r\n        selectItems: CategoryType.getList,\r\n      },\r\n    },\r\n  },\r\n  isAsDefault: {\r\n    type: IKDataEntity.Types.Boolean,\r\n  },\r\n  isActive: {\r\n    type: IKDataEntity.Types.Boolean,\r\n  },\r\n  frontendHide: {\r\n    type: IKDataEntity.Types.Boolean,\r\n  },\r\n\r\n}\r\nconst config = {\r\n  add: function (item) {\r\n    return hillo.postWithUploadFile('Category.php?op=addAttribute', item, {\r\n      showLoading: true,\r\n    })\r\n  },\r\n  edit: function (item) {\r\n    return hillo.postWithUploadFile('Category.php?op=updateAttribute', item, {\r\n      showLoading: true,\r\n    })\r\n  },\r\n  remove: function (id) {\r\n    return hillo.post('Category.php?op=deleteAttribute', { id: id })\r\n  },\r\n  load: async function (filter) {\r\n    return (await hillo.get('Category.php', {\r\n      op: 'showAttribute',\r\n      lang: GlobalSettings.getLang(),\r\n      ...filter,\r\n    }))\r\n      .content\r\n  },\r\n}\r\n\r\nexport default IKDataEntity.ModelFactory(entity, config)\r\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _metaflowJs = require(\"metaflow-js\");\n\nvar _hillo = _interopRequireDefault(require(\"hillo\"));\n\nvar _GlobalSettings = _interopRequireDefault(require(\"./GlobalSettings\"));\n\nvar _Category = _interopRequireDefault(require(\"./Category\"));\n\nvar _PrinterGroup = _interopRequireDefault(require(\"./PrinterGroup\"));\n\nvar _Allergen = _interopRequireDefault(require(\"./Allergen\"));\n\nvar _StringEntity = _interopRequireDefault(require(\"./StringEntity\"));\n\nvar _AttributeGroup = _interopRequireDefault(require(\"./AttributeGroup\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar i = Boolean(_GlobalSettings.default.isShowOnTable === '0');\nvar entity = {\n  id: {\n    type: _metaflowJs.IKDataEntity.Types.Integer,\n    displayName: 'id',\n    tableConfig: {\n      align: 'start'\n    },\n    form: false\n  },\n  code: {},\n  image: {\n    type: _metaflowJs.IKDataEntity.Types.Image,\n    formConfig: {\n      type: {\n        root: () => _GlobalSettings.default.getEndPoint() + _GlobalSettings.default.dishImageRoot\n      },\n      required: false\n    },\n    displayName: 'image',\n    header: i\n  },\n  dishName: {\n    displayName: 'name',\n    form: false\n  },\n  price: {\n    type: _metaflowJs.IKDataEntity.Types.Float,\n    formConfig: {\n      default: '',\n      overwriteRule: true,\n      rule: [v => /^[0-9]+\\.{0,1}[0-9]{0,2}$/.test(v) || 'Bitte geben Sie den richtigen Preis ein']\n    }\n  },\n  langs: {\n    displayName: 'name',\n    type: _metaflowJs.IKDataEntity.Types.Group,\n    formConfig: {\n      groupName: 'name',\n      default: _GlobalSettings.default.supportLang,\n      childLabelKey: 'lang',\n      type: {}\n    },\n    tableConfig: {\n      displayCondition: item => {\n        return item.lang.toUpperCase() === _GlobalSettings.default.getLang();\n      },\n      displayChild: key => {\n        return key === 'name';\n      }\n    },\n    childKey: ['name', 'desc'],\n    labelKey: 'lang',\n    children: [_StringEntity.default, _StringEntity.default, _StringEntity.default],\n    header: false\n  },\n  printGroupId: {\n    displayName: 'printCatName',\n    type: _metaflowJs.IKDataEntity.Types.Option,\n    formConfig: {\n      default: 1,\n      type: {\n        selectItems: _PrinterGroup.default.getList\n      }\n    }\n  },\n  categoryId: {\n    displayName: 'labelName',\n    type: _metaflowJs.IKDataEntity.Types.Option,\n    formConfig: {\n      type: {\n        selectItems: _Category.default.getList,\n        itemText: '_langsname'\n      }\n    }\n  },\n  AllergenId: {\n    type: _metaflowJs.IKDataEntity.Types.Option,\n    formConfig: {\n      type: {\n        selectItems: _Allergen.default.getList,\n        multiple: true\n      },\n      required: false\n    },\n    displayName: ''\n  },\n  attributeGroupId: {\n    displayName: 'attributeGroupNames',\n    type: _metaflowJs.IKDataEntity.Types.Option,\n    formConfig: {\n      merge: false,\n      required: false,\n      type: {\n        selectItems: _AttributeGroup.default.getList,\n        multiple: true,\n        disabledItem: (item, editedItem) => {\n          if (editedItem.inheritAttributeGroupId) {\n            return _objectSpread(_objectSpread({}, item), {}, {\n              disabled: editedItem.inheritAttributeGroupId.includes(item.id)\n            });\n          } else {\n            return item;\n          }\n        }\n      }\n    }\n  },\n  localAttributeGroupId: {\n    type: _metaflowJs.IKDataEntity.Types.Option,\n    formConfig: {\n      type: {\n        selectItems: _AttributeGroup.default.getList,\n        multiple: true\n      },\n      inNew: false,\n      inEdit: false\n    },\n    header: false\n  },\n  inheritAttributeGroupId: {\n    displayName: 'AttributeGroupName',\n    type: _metaflowJs.IKDataEntity.Types.Option,\n    formConfig: {\n      type: {\n        selectItems: _AttributeGroup.default.getList,\n        multiple: true\n      },\n      inNew: false,\n      inEdit: false\n    },\n    header: false\n  },\n  dishWeight: {\n    displayName: 'DishWeight',\n    type: _metaflowJs.IKDataEntity.Types.Integer,\n    formConfig: {\n      default: 1,\n      required: false,\n      rule: [// ^-[1-9]\\d*$\n      v => /^[0-9]\\d*$/.test(v) || 'Bitte geben Sie die ganze Zahl ein']\n    }\n  },\n  isActive: {\n    type: _metaflowJs.IKDataEntity.Types.Boolean,\n    displayName: 'isActive',\n    formConfig: {\n      default: 1,\n      required: false\n    }\n  },\n  dishAlias: {\n    required: false,\n    formConfig: {\n      requiredNew: false,\n      requiredEdit: false\n    }\n  },\n  printText: {\n    displayName: 'printTitle',\n    required: false,\n    formConfig: {\n      requiredNew: false,\n      requiredEdit: false\n    }\n  }\n};\nvar config = {\n  add: function add(item) {\n    item.attributeGroup = item.attributeGroupId.filter(i => !item.inheritAttributeGroupId.includes(i)).join(',');\n    item.allergenGroup = item.AllergenId.join(',');\n    return _hillo.default.postWithUploadFile('Dishes.php?op=add', _objectSpread(_objectSpread({}, item), {}, {\n      params: JSON.stringify(item)\n    }), {\n      showLoading: true\n    });\n  },\n  edit: function edit(item) {\n    item.attributeGroup = item.attributeGroupId.filter(i => !item.inheritAttributeGroupId.includes(i)).join(',');\n    item.allergenGroup = item.AllergenId.join(',');\n\n    if (item.file) {\n      item.imageExt = item.file.name.split('.')[1];\n    }\n\n    return _hillo.default.postWithUploadFile('Dishes.php?op=update', _objectSpread(_objectSpread({}, item), {}, {\n      params: JSON.stringify(item)\n    }), {\n      showLoading: true\n    });\n  },\n  remove: function remove(id) {\n    return _hillo.default.post('Dishes.php?op=delete', {\n      id: id\n    });\n  },\n  load: function () {\n    var _load = _asyncToGenerator(function* (filter) {\n      return (yield _hillo.default.get('Dishes.php', _objectSpread({\n        lang: _GlobalSettings.default.getLang()\n      }, filter))).content.map(function (item) {\n        item.id = item.dishId;\n        item.attributeGroupId = [item.inheritAttributeGroupId ? item.inheritAttributeGroupId.split(',') : [], item.localAttributeGroupId ? item.localAttributeGroupId.split(',') : []].flat().join(',');\n        item.langs = item.langs.map(i => {\n          return _objectSpread(_objectSpread({}, i), {}, {\n            desc: i.description\n          });\n        });\n        return item;\n      });\n    });\n\n    function load(_x) {\n      return _load.apply(this, arguments);\n    }\n\n    return load;\n  }()\n};\n\nvar DishModel = _metaflowJs.IKDataEntity.ModelFactory(entity, config);\n\nDishModel.getBuffet = /*#__PURE__*/_asyncToGenerator(function* () {\n  return (yield DishModel.getList()).filter(i => i.dishesCategoryTypeId === '8');\n});\nvar _default = DishModel;\nexports.default = _default;","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SalesInsight.vue?vue&type=style&index=0&lang=css&\"","import { IKDataEntity } from 'metaflow-js'\r\nimport hillo from 'hillo'\r\nimport CategoryType from './CategoryType'\r\nimport StringEntity from './StringEntity'\r\nimport GlobalSettings from '@/GlobalSettings'\r\nimport IKUtils from 'innerken-js-utils'\r\nimport store from '../store'\r\nimport AttributeGroup from './AttributeGroup'\r\n\r\nconst i = Boolean(GlobalSettings.isShowOnTable === '0')\r\n\r\nconst colorList = ['#FFCDD2', '#F8BBD0', '#E1BEE7',\r\n  '#D1C4E9', '#C5CAE9', '#BBDEFB',\r\n  '#B3E5FC', '#B2EBF2', '#B2DFDB',\r\n  '#C8E6C9', '#DCEDC8', '#F0F4C3',\r\n  '#FFF9C4', '#FFECB3', '#FFE0B2',\r\n  '#FFCCBC', '#D7CCC8', '#CFD8DC']\r\n\r\nconst entity = {\r\n  id: {\r\n    type: IKDataEntity.Types.Integer,\r\n    form: false,\r\n    table: false,\r\n  },\r\n  color: {\r\n    type: IKDataEntity.Types.Color,\r\n    formConfig: {\r\n      required: false,\r\n    },\r\n  },\r\n  dcImage: {\r\n    type: IKDataEntity.Types.Image,\r\n    formConfig: {\r\n      required: false,\r\n      type: {\r\n        root: () => store.getters.rootUrl + GlobalSettings.dcImageRoot,\r\n      },\r\n    },\r\n    displayName: 'image',\r\n    header: i,\r\n  },\r\n  attributeGroupId: {\r\n    displayName: 'attributeGroupNames',\r\n    type: IKDataEntity.Types.Option,\r\n    tableConfig: {\r\n      width: '100px',\r\n    },\r\n    formConfig: {\r\n      required: false,\r\n      type: {\r\n        selectItems: AttributeGroup.getList,\r\n        multiple: true,\r\n      },\r\n    },\r\n  },\r\n  _langsname: {\r\n    displayName: 'KategorieName',\r\n    form: false,\r\n  },\r\n  langs: {\r\n    displayName: 'labelName',\r\n    type: IKDataEntity.Types.Group,\r\n    formConfig: {\r\n      groupName: 'labelName',\r\n      default: GlobalSettings.supportLang,\r\n      childLabelKey: 'lang',\r\n      type: {},\r\n    },\r\n    tableConfig: {\r\n      displayCondition: (item) => {\r\n        return item.lang.toUpperCase() === GlobalSettings.getLang().toUpperCase()\r\n      },\r\n      displayChild: (key) => {\r\n        console.log(key)\r\n        return key === 'name'\r\n      },\r\n    },\r\n    childKey: ['name', 'desc'],\r\n    labelKey: 'lang',\r\n    children: [\r\n      StringEntity, StringEntity, StringEntity,\r\n    ],\r\n    header: false,\r\n  },\r\n  dishesCategoryTypeId: {\r\n    displayName: 'warengruppe',\r\n    type: IKDataEntity.Types.Option,\r\n    formConfig: {\r\n      type: {\r\n        selectItems: CategoryType.getList,\r\n      },\r\n    },\r\n  },\r\n\r\n  printOrder: {\r\n    type: IKDataEntity.Types.Integer,\r\n    required: false,\r\n    formConfig: {\r\n      default: 50,\r\n      requiredNew: false,\r\n      requiredEdit: false,\r\n      rule: [ // ^-[1-9]\\d*$\r\n        v => /^[0-9]\\d*$/.test(v) || 'Bitte geben Sie die ganze Zahl ein',\r\n      ],\r\n    },\r\n  },\r\n  categorySort: {\r\n    type: IKDataEntity.Types.Integer,\r\n    displayName: 'sectionSort',\r\n    formConfig: {\r\n      required: true,\r\n    },\r\n  },\r\n\r\n}\r\n\r\nconst config = {\r\n\r\n  add: function (item) {\r\n    item.appliedAttributeGroup = item.attributeGroupId.join(',')\r\n    item.catTypeId = item.dishesCategoryTypeId\r\n    return hillo.post('Category.php?op=add', {\r\n      ...item,\r\n      langs: JSON.stringify(item.langs),\r\n    }, {\r\n      showLoading: true,\r\n    })\r\n  },\r\n  edit: function (item) {\r\n    item.appliedAttributeGroup = item.attributeGroupId.join(',')\r\n    item.catTypeId = item.dishesCategoryTypeId\r\n\r\n    console.log('label-manage: item()', item)\r\n    return hillo.postWithUploadFile('Category.php?op=update', {\r\n      ...item,\r\n      langs: JSON.stringify(item.langs),\r\n    }, {\r\n      showLoading: true,\r\n    })\r\n  },\r\n  remove: function (id) {\r\n    return hillo.post('Category.php?op=delete', { id: id })\r\n  },\r\n  load: async function (filter) {\r\n    const response = (await hillo.get('Category.php', filter)).content\r\n    console.log(response, 'cate response')\r\n    return response\r\n  },\r\n  randomColor: async function (list) {\r\n    IKUtils.showLoading(true)\r\n    for (const item of list) {\r\n      item.appliedAttributeGroup = item.attributeGroupId.join(',')\r\n      item.catTypeId = item.dishesCategoryTypeId\r\n\r\n      item.color = colorList[Math.round(Math.random() * 18)]\r\n\r\n      await hillo.postWithUploadFile('Category.php?op=update', {\r\n        ...item,\r\n        langs: JSON.stringify(item.langs),\r\n      }, {\r\n        showLoading: false,\r\n      })\r\n    }\r\n    IKUtils.toast('OK')\r\n  },\r\n\r\n  removeAllColor: async function (list) {\r\n    IKUtils.showLoading(true)\r\n    for (const item of list) {\r\n      item.appliedAttributeGroup = item.attributeGroupId.join(',')\r\n      item.catTypeId = item.dishesCategoryTypeId\r\n      item.color = '#FFFFFF'\r\n      await hillo.postWithUploadFile('Category.php?op=update', {\r\n        ...item,\r\n        langs: JSON.stringify(item.langs),\r\n      }, {\r\n        showLoading: false,\r\n      })\r\n    }\r\n    IKUtils.toast('OK')\r\n  },\r\n\r\n  removeCategoryImage: async function (categoryId) {\r\n    await hillo.post('Category.php?op=removeCategoryImage', {\r\n      ...categoryId,\r\n    }, {\r\n      showLoading: true,\r\n    })\r\n  },\r\n\r\n}\r\n\r\n// export default IKDataEntity.ModelFactory(entity, config)\r\nexport const res = IKDataEntity.ModelFactory(entity, config)\r\nconsole.log('Category', res)\r\nexport default res\r\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.calculatePriceWithDiscount = calculatePriceWithDiscount;\nexports.calculateDiscountPrice = calculateDiscountPrice;\nexports.calculateDiscountMod = calculateDiscountMod;\nexports.StandardDishesListFactory = StandardDishesListFactory;\nexports.getDishesInfo = getDishesInfo;\nexports.getDishes = getDishes;\n\nvar _Dish = _interopRequireDefault(require(\"./Dish\"));\n\nvar _CategoryType = _interopRequireDefault(require(\"./CategoryType\"));\n\nvar _Category = _interopRequireDefault(require(\"./Category\"));\n\nvar _innerkenJsUtils = _interopRequireDefault(require(\"innerken-js-utils\"));\n\nvar _hillo = _interopRequireDefault(require(\"hillo\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar defaultDish = {\n  // basicInfo*/\n  note: '',\n  apply: [],\n  modShow: false,\n  forceFormat: false\n};\n\nfunction formatApplyInfo(dish) {\n  var _dish$apply, _dish$agName;\n\n  var displayApply = [];\n\n  if (!(dish.apply || dish.agName)) {\n    return displayApply;\n  }\n\n  if ((dish === null || dish === void 0 ? void 0 : (_dish$apply = dish.apply) === null || _dish$apply === void 0 ? void 0 : _dish$apply.length) > 0) {\n    dish.apply.forEach(mod => {\n      var modInfo = dish.modInfo.find(i => i.id === mod.groupId);\n      var groupName = modInfo.name;\n      var item = [mod.selectId].flat().reduce((arr, id) => {\n        if (!id) {\n          return arr;\n        }\n\n        var index = modInfo.selectValue.indexOf(id);\n        var value = \"\".concat(modInfo.selectName[index]);\n        var priceInfo = modInfo.priceInfo[index];\n        arr.push({\n          groupName,\n          value,\n          priceInfo,\n          hash: groupName + ':' + value + 'p' + priceInfo\n        });\n        return arr;\n      }, []);\n      displayApply = displayApply.concat(item);\n    });\n  } else if ((dish === null || dish === void 0 ? void 0 : (_dish$agName = dish.agName) === null || _dish$agName === void 0 ? void 0 : _dish$agName.length) > 0) {\n    [dish.agNameArr, dish.aNameArr, dish.priceInfoArr, dish.agIdArr, dish.aIdArr] = [dish.agName, dish.aName, dish.priceInfo, dish.agId, dish.aId].map(i => i.split(','));\n    dish.agNameArr.forEach((ag, i) => {\n      displayApply.push({\n        agId: dish.agIdArr[i],\n        aId: dish.aIdArr[i],\n        groupName: ag,\n        value: dish.aNameArr[i],\n        priceInfo: dish.priceInfoArr[i],\n        hash: ag + ':' + dish.aNameArr[i] + 'p' + dish.priceInfoArr[i] + 'g' + dish.agIdArr[i]\n      });\n    });\n  }\n\n  return displayApply;\n}\n\nfunction getAddPrice(dish) {\n  var price = 0;\n  dish.displayApply.forEach(ap => {\n    var _ap$priceInfo;\n\n    price += parseFloat((_ap$priceInfo = ap.priceInfo) !== null && _ap$priceInfo !== void 0 ? _ap$priceInfo : 0);\n  });\n  return price;\n}\n\nfunction buildApplyString(applyArr) {\n  return applyArr.reduce((arr, i) => {\n    arr.push(i.hash);\n    return arr;\n  }, []).join('/');\n}\n\nfunction dishIdentity(code, apply, note, tempDiscountStr, price, currentName, overrideConsumeTypeId) {\n  return code + '&' + buildApplyString(apply) + '-&-' + note + '-&-' + tempDiscountStr + '-&-' + price + '-&' + currentName + '-&' + overrideConsumeTypeId;\n}\n\nfunction processApplyInfo(dish) {\n  var _dish$note, _ref, _dish$originPrice, _dish$tempDiscountMod, _dish$price, _dish$currentName, _dish$overrideConsume;\n\n  dish.note = (_dish$note = dish.note) !== null && _dish$note !== void 0 ? _dish$note : '';\n  dish.displayApply = formatApplyInfo(dish);\n  dish.addPrice = getAddPrice(dish);\n  dish.originPrice = parseFloat(parseFloat(dish.price) === 0 ? 0 : (_ref = (_dish$originPrice = dish.originPrice) !== null && _dish$originPrice !== void 0 ? _dish$originPrice : dish.price) !== null && _ref !== void 0 ? _ref : 0);\n  dish.realPrice = parseFloat(dish.originPrice) + parseFloat(dish.addPrice) + parseFloat((_dish$tempDiscountMod = dish.tempDiscountMod) !== null && _dish$tempDiscountMod !== void 0 ? _dish$tempDiscountMod : 0);\n\n  if (dish.code.includes('ea')) {\n    dish.realPrice = dish.price;\n  }\n\n  dish.identity = dishIdentity(dish.code, dish.displayApply, dish.note, dish.tempDiscountStr, (_dish$price = dish.price) !== null && _dish$price !== void 0 ? _dish$price : dish.realPrice, (_dish$currentName = dish.currentName) !== null && _dish$currentName !== void 0 ? _dish$currentName : '', (_dish$overrideConsume = dish.overrideConsumeTypeId) !== null && _dish$overrideConsume !== void 0 ? _dish$overrideConsume : '');\n}\n\nfunction calculatePriceWithDiscount(price, discountStr) {\n  var {\n    timesMod,\n    minusMod\n  } = calculateDiscountMod(discountStr);\n  return parseFloat(price) * timesMod - minusMod;\n}\n\nfunction calculateDiscountPrice(price, discountStr) {\n  var {\n    timesMod,\n    minusMod\n  } = calculateDiscountMod(discountStr);\n  return parseFloat(price) - (parseFloat(price) * timesMod - minusMod);\n}\n\nfunction calculateDiscountMod(discountStr) {\n  var timesMod = 1;\n  var minusMod = 0;\n  var discountPattern = /^([0-9]+(\\.[0-9]+)?)?((p)+([kg])?)?$/;\n\n  var finish = () => {\n    return {\n      minusMod,\n      timesMod\n    };\n  };\n\n  if (!discountPattern.test(discountStr)) {\n    return finish();\n  }\n\n  if (discountStr.endsWith('p')) {\n    timesMod = 1 - parseFloat(discountStr.slice(0, -1)) * 0.01;\n  } else {\n    minusMod = parseFloat(discountStr);\n  }\n\n  return finish();\n}\n\nfunction StandardDishesListFactory() {\n  var list = [];\n  var dishDictionary = {}; // code as key\n\n  var orderDictionary = {}; // identity as key\n\n  var counter = 0;\n\n  var addDishToList = function addDishToList(dish, count) {\n    var newDish = _innerkenJsUtils.default.deepCopy(dish);\n\n    newDish.count = count !== null && count !== void 0 ? count : dish.count;\n    newDish.sumCount = newDish.count; // TODO: \n\n    newDish.hash = counter;\n    processApplyInfo(newDish);\n    counter++;\n    orderDictionary[newDish.identity] = newDish;\n\n    newDish.change = function (count) {\n      changeNumber(newDish, count);\n    };\n\n    list.push(newDish);\n  };\n\n  function setDishList() {\n    var dishList = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    if ((dishList === null || dishList === void 0 ? void 0 : dishList.length) > 0) {\n      Object.assign(dishDictionary, dishList.reduce((obj, i) => {\n        obj[i.code] = i;\n        return obj;\n      }, {}));\n    }\n  }\n\n  function preProcessDishNoCopy(rawDish) {\n    return preProcessDish(rawDish, false);\n  }\n\n  function preProcessDish(rawDish) {\n    var _ref2, _dish$count, _ref3, _ref4, _dish$name;\n\n    var copy = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var dish = copy ? _innerkenJsUtils.default.deepCopy(rawDish) : rawDish;\n    dish.count = parseInt((_ref2 = (_dish$count = dish.count) !== null && _dish$count !== void 0 ? _dish$count : dish.sumCount) !== null && _ref2 !== void 0 ? _ref2 : 0);\n    dish.name = (_ref3 = (_ref4 = (_dish$name = dish.name) !== null && _dish$name !== void 0 ? _dish$name : dish.dishName) !== null && _ref4 !== void 0 ? _ref4 : dish._langsname) !== null && _ref3 !== void 0 ? _ref3 : dish.currentName;\n\n    if (dish.code.toLowerCase().includes('ea')) {\n      dish.name = dish.currentName;\n    }\n\n    processApplyInfo(dish);\n    dish.wellFormat = true;\n    return Object.assign({}, defaultDish, dish);\n  }\n\n  function getDishList() {\n    return Object.keys(dishDictionary).reduce((arr, k) => {\n      arr.push(dishDictionary[k]);\n      return arr;\n    }, []);\n  }\n\n  var changeNumber = function changeNumber(dish, count) {\n    var dicDish = dishDictionary[dish.code];\n\n    if (dicDish) {\n      if (parseInt(dicDish.count) + parseInt(count) > 0) {\n        dicDish.count += count;\n      } else {\n        dicDish.count = 0;\n      }\n    }\n\n    if (!dish.wellFormat || dish.forceFormat) {\n      dish.forceFormat = false;\n      dish = preProcessDish(dish);\n    }\n\n    var listDish = orderDictionary[dish.identity];\n\n    if (listDish) {\n      // we found a dish in the list\n      if (listDish.count + count > 0) {\n        listDish.count += count;\n        listDish.sumCount = listDish.count;\n      } else {\n        list.splice(list.indexOf(listDish), 1);\n        delete orderDictionary[dish.identity];\n      }\n    } else {\n      // we found no dish in the list\n      if (count >= 0 || dish.count >= 0) {\n        addDishToList(dish, count);\n      }\n    }\n  };\n\n  var formatList = function formatList(list) {\n    return list.map(preProcessDishNoCopy);\n  };\n\n  var add = function add(dish, count) {\n    changeNumber(dish, count);\n  };\n\n  var remove = function remove(dish, count) {\n    changeNumber(dish, count);\n  };\n\n  var total = function total() {\n    return list.reduce((t, d) => {\n      return t + parseFloat(d.realPrice * d.count);\n    }, 0);\n  };\n\n  var count = function count() {\n    return parseInt(list.reduce((t, d) => {\n      return t + parseInt(d.count);\n    }, 0));\n  };\n\n  var loadTTDishList = function loadTTDishList(ttDishList) {\n    loadList(ttDishList);\n  };\n\n  var loadList = function loadList(_list) {\n    clear();\n\n    for (var d of _list) {\n      add(d);\n    }\n  };\n\n  var clear = function clear() {\n    for (var k of Object.keys(dishDictionary)) {\n      dishDictionary[k].count = 0;\n    }\n\n    for (var _k of Object.keys(orderDictionary)) {\n      delete orderDictionary[_k];\n    }\n\n    list.splice(0, list.length);\n  };\n\n  return {\n    orderDictionary,\n    setDishList,\n    dishDictionary,\n    list,\n    getDishList,\n    add,\n    remove,\n    total,\n    count,\n    loadTTDishList,\n    formatList,\n    loadList,\n    clear\n  };\n}\n/* Dishes Information */\n\n\nvar DCT = [];\nvar Category = [];\nvar Dishes = [];\nvar ParsedDCTInfo = [];\n\nfunction rearrangeDish(categories, dishes, dct) {\n  categories = categories.map(c => {\n    c.dishes = dishes.filter(d => parseInt(d.categoryId) === parseInt(c.id)).map(d => {\n      d.count = 0;\n      d.note = '';\n      return d;\n    });\n    return c;\n  }).filter(c => c.dishes.length > 0);\n  return dct.map(_dct => {\n    _dct.categories = categories.filter(c => parseInt(_dct.id) === parseInt(c.dishesCategoryTypeId));\n    return _dct;\n  }).sort((a, b) => {\n    if (parseInt(b.id) === 9) {\n      return -1;\n    }\n\n    if (parseInt(a.id) === 9) {\n      return 1;\n    }\n\n    if (parseInt(a.id) < parseInt(b.id)) {\n      return -1;\n    }\n\n    if (parseInt(a.id) > parseInt(b.id)) {\n      return 1;\n    }\n\n    return 0;\n  });\n}\n\nvar Manger = StandardDishesListFactory();\n\nfunction getDishesInfo() {\n  return _getDishesInfo.apply(this, arguments);\n}\n\nfunction _getDishesInfo() {\n  _getDishesInfo = _asyncToGenerator(function* () {\n    var consumeTypeId = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var lang = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'DE';\n\n    if (ParsedDCTInfo.length === 0) {\n      [Dishes, Category, DCT] = yield Promise.all([getDishes(), _Category.default.getList(), _CategoryType.default.getList()]);\n\n      if (consumeTypeId !== false) {\n        Category = (yield _hillo.default.get('Category.php?op=withConsumeType', {\n          lang,\n          consumeTypeId\n        })).content;\n      }\n\n      ParsedDCTInfo = rearrangeDish(Category, Dishes, DCT);\n    }\n\n    return ParsedDCTInfo;\n  });\n  return _getDishesInfo.apply(this, arguments);\n}\n\nfunction getDishes() {\n  return _getDishes.apply(this, arguments);\n}\n\nfunction _getDishes() {\n  _getDishes = _asyncToGenerator(function* () {\n    if (Dishes.length === 0) {\n      Dishes = Manger.formatList(yield _Dish.default.getList());\n    }\n\n    return Dishes;\n  });\n  return _getDishes.apply(this, arguments);\n}","import { IKDataEntity } from 'metaflow-js'\r\nimport hillo from 'hillo'\r\n\r\nconst entity = {\r\n  id: {\r\n    type: IKDataEntity.Types.Integer,\r\n    displayName: 'id',\r\n    tableConfig: {\r\n      align: 'start',\r\n    },\r\n    form: false,\r\n  },\r\n  name: {\r\n    displayName: 'sectionName',\r\n  },\r\n  isSingleLinePrint: {\r\n    type: IKDataEntity.Types.Boolean,\r\n    displayName: 'isSingleLinePrint',\r\n  },\r\n  isSingleOrderPrint: {\r\n    type: IKDataEntity.Types.Boolean,\r\n    displayName: 'isSingleOrderPrint',\r\n  },\r\n  upsideDown: {\r\n    type: IKDataEntity.Types.Boolean,\r\n  },\r\n  printerCount: {\r\n    displayName: 'printerCount',\r\n    formConfig: {\r\n      inEdit: false,\r\n      inNew: false,\r\n    },\r\n  },\r\n  defaultRetryCount: {\r\n    formConfig: {\r\n      default: '0',\r\n    },\r\n  },\r\n  totalDishesCount: {\r\n    formConfig: {\r\n      inEdit: false,\r\n      inNew: false,\r\n    },\r\n  },\r\n}\r\nconst config = {\r\n  load: async function (filter) {\r\n    const res = (await hillo.get('Printer.php', {\r\n      op: 'showPrinterGroups',\r\n      ...filter,\r\n    }))\r\n      .content\r\n\r\n    console.log('printer', res)\r\n    return res\r\n  },\r\n  add: function (item) {\r\n    return hillo.postWithUploadFile('Printer.php?op=addPrinterGroups', item, {\r\n      showLoading: true,\r\n    })\r\n  },\r\n  edit: function (item) {\r\n    return hillo.postWithUploadFile('Printer.php?op=updatePrinterGroups', item, {\r\n      showLoading: true,\r\n    })\r\n  },\r\n  remove: function (id) {\r\n    return hillo.post('Printer.php?op=deletePrinterGroup', { id: id })\r\n  },\r\n}\r\n\r\nexport default IKDataEntity.ModelFactory(entity, config)\r\n","import { IKDataEntity } from 'metaflow-js'\r\nimport hillo from 'hillo'\r\n\r\nconst entity = {\r\n  id: {\r\n    type: IKDataEntity.Types.Integer,\r\n    displayName: 'id',\r\n    tableConfig: {\r\n      align: 'start',\r\n    },\r\n    form: false,\r\n  },\r\n  name: {\r\n    displayName: 'allergName',\r\n  },\r\n  icon: {\r\n    displayName: 'icon',\r\n  },\r\n  shortName: {\r\n    displayName: 'shortName',\r\n  },\r\n  displayText: {\r\n    displayName: 'displayText',\r\n  },\r\n}\r\nconst config = {\r\n  add: function (item) {\r\n    return hillo.postWithUploadFile('Dishes.php?op=addAllergen', item, {\r\n      showLoading: true,\r\n    })\r\n  },\r\n  edit: function (item) {\r\n    return hillo.postWithUploadFile('Dishes.php?op=updateAllergen', item, {\r\n      showLoading: true,\r\n    })\r\n  },\r\n  remove: function (id) {\r\n    return hillo.post('Dishes.php?op=deleteAllergen', { id: id })\r\n  },\r\n  load: async function (filter) {\r\n    return (await hillo.get('Dishes.php', {\r\n      op: 'showAllAllergen',\r\n      ...filter,\r\n    }))\r\n      .content\r\n  },\r\n}\r\n\r\nexport default IKDataEntity.ModelFactory(entity, config)\r\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _GlobalSettings = _interopRequireDefault(require(\"./GlobalSettings\"));\n\nvar _metaflowJs = require(\"metaflow-js\");\n\nvar _hillo = _interopRequireDefault(require(\"hillo\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar entity = {\n  id: {\n    type: _metaflowJs.IKDataEntity.Types.Integer,\n    displayName: 'id',\n    tableConfig: {\n      align: 'start'\n    },\n    form: false\n  },\n  name: {},\n  printTitle: {},\n  required: {\n    type: _metaflowJs.IKDataEntity.Types.Boolean\n  },\n  multiSelect: {\n    type: _metaflowJs.IKDataEntity.Types.Boolean\n  },\n  attrubuteCount: {\n    type: _metaflowJs.IKDataEntity.Types.Integer,\n    form: false\n  }\n};\nvar config = {\n  load: function () {\n    var _load = _asyncToGenerator(function* (filter) {\n      return (yield _hillo.default.get('Category.php', _objectSpread({\n        op: 'showAttributeGroup',\n        lang: _GlobalSettings.default.getLang()\n      }, filter))).content;\n    });\n\n    function load(_x) {\n      return _load.apply(this, arguments);\n    }\n\n    return load;\n  }(),\n  add: function add(item) {\n    return _hillo.default.postWithUploadFile('Category.php?op=addAttributeGroup', item, {\n      showLoading: true\n    });\n  },\n  edit: function edit(item) {\n    return _hillo.default.postWithUploadFile('Category.php?op=updateAttributeGroup', item, {\n      showLoading: true\n    });\n  },\n  remove: function remove(id) {\n    return _hillo.default.post('Category.php?op=deleteAttributeGroup', {\n      id: id\n    });\n  }\n};\n\nvar _default = _metaflowJs.IKDataEntity.ModelFactory(entity, config);\n\nexports.default = _default;","// Types\nimport Vue, { VNode } from 'vue'\n\nexport default function VGrid (name: string) {\n  /* @vue/component */\n  return Vue.extend({\n    name: `v-${name}`,\n\n    functional: true,\n\n    props: {\n      id: String,\n      tag: {\n        type: String,\n        default: 'div',\n      },\n    },\n\n    render (h, { props, data, children }): VNode {\n      data.staticClass = (`${name} ${data.staticClass || ''}`).trim()\n\n      const { attrs } = data\n      if (attrs) {\n        // reset attrs to extract utility clases like pa-3\n        data.attrs = {}\n        const classes = Object.keys(attrs).filter(key => {\n          // TODO: Remove once resolved\n          // https://github.com/vuejs/vue/issues/7841\n          if (key === 'slot') return false\n\n          const value = attrs[key]\n\n          // add back data attributes like data-test=\"foo\" but do not\n          // add them as classes\n          if (key.startsWith('data-')) {\n            data.attrs![key] = value\n            return false\n          }\n\n          return value || typeof value === 'string'\n        })\n\n        if (classes.length) data.staticClass += ` ${classes.join(' ')}`\n      }\n\n      if (props.id) {\n        data.domProps = data.domProps || {}\n        data.domProps.id = props.id\n      }\n\n      return h(props.tag, data, children)\n    },\n  })\n}\n","import './_grid.sass'\nimport './VGrid.sass'\n\nimport Grid from './grid'\n\nimport mergeData from '../../util/mergeData'\n\n/* @vue/component */\nexport default Grid('container').extend({\n  name: 'v-container',\n  functional: true,\n  props: {\n    id: String,\n    tag: {\n      type: String,\n      default: 'div',\n    },\n    fluid: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  render (h, { props, data, children }) {\n    let classes\n    const { attrs } = data\n    if (attrs) {\n      // reset attrs to extract utility clases like pa-3\n      data.attrs = {}\n      classes = Object.keys(attrs).filter(key => {\n        // TODO: Remove once resolved\n        // https://github.com/vuejs/vue/issues/7841\n        if (key === 'slot') return false\n\n        const value = attrs[key]\n\n        // add back data attributes like data-test=\"foo\" but do not\n        // add them as classes\n        if (key.startsWith('data-')) {\n          data.attrs![key] = value\n          return false\n        }\n\n        return value || typeof value === 'string'\n      })\n    }\n\n    if (props.id) {\n      data.domProps = data.domProps || {}\n      data.domProps.id = props.id\n    }\n\n    return h(\n      props.tag,\n      mergeData(data, {\n        staticClass: 'container',\n        class: Array<any>({\n          'container--fluid': props.fluid,\n        }).concat(classes || []),\n      }),\n      children\n    )\n  },\n})\n","import { IKDataEntity } from 'metaflow-js'\r\n\r\nconst entity = {\r\n  id: {\r\n    type: IKDataEntity.Types.Integer,\r\n    displayName: 'id',\r\n    tableConfig: {\r\n      align: 'start',\r\n    },\r\n    formConfig: {\r\n      requiredNew: false,\r\n    },\r\n  },\r\n  name: {\r\n    displayName: 'Name',\r\n  },\r\n  lang: {},\r\n  desc: {\r\n    displayName: 'Beschreibung',\r\n    formConfig: {\r\n      required: false,\r\n    },\r\n  },\r\n}\r\nexport default IKDataEntity.ModelFactory(entity, {})\r\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _metaflowJs = require(\"metaflow-js\");\n\nvar _hillo = _interopRequireDefault(require(\"hillo\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar entity = {\n  id: {\n    type: _metaflowJs.IKDataEntity.Types.Integer,\n    displayName: 'id',\n    tableConfig: {\n      align: 'start'\n    },\n    form: false\n  },\n  name: {\n    displayName: 'sectionName'\n  },\n  isSingleLinePrint: {\n    type: _metaflowJs.IKDataEntity.Types.Boolean,\n    displayName: 'isSingleLinePrint'\n  },\n  isSingleOrderPrint: {\n    type: _metaflowJs.IKDataEntity.Types.Boolean,\n    displayName: 'isSingleOrderPrint'\n  },\n  printerCount: {\n    displayName: 'printerCount',\n    formConfig: {\n      inEdit: false,\n      inNew: false\n    }\n  },\n  defaultRetryCount: {\n    formConfig: {\n      default: '0'\n    }\n  },\n  totalDishesCount: {\n    formConfig: {\n      inEdit: false,\n      inNew: false\n    }\n  }\n};\nvar config = {\n  load: function () {\n    var _load = _asyncToGenerator(function* (filter) {\n      return (yield _hillo.default.get('Printer.php', _objectSpread({\n        op: 'showPrinterGroups'\n      }, filter))).content;\n    });\n\n    function load(_x) {\n      return _load.apply(this, arguments);\n    }\n\n    return load;\n  }(),\n  add: function add(item) {\n    return _hillo.default.postWithUploadFile('Printer.php?op=addPrinterGroups', item, {\n      showLoading: true\n    });\n  },\n  edit: function edit(item) {\n    return _hillo.default.postWithUploadFile('Printer.php?op=updatePrinterGroups', item, {\n      showLoading: true\n    });\n  },\n  remove: function remove(id) {\n    return _hillo.default.post('Printer.php?op=deletePrinterGroup', {\n      id: id\n    });\n  }\n};\n\nvar _default = _metaflowJs.IKDataEntity.ModelFactory(entity, config);\n\nexports.default = _default;","import GlobalSettings from '@/GlobalSettings'\r\n\r\nimport { IKDataEntity } from 'metaflow-js'\r\nimport hillo from 'hillo'\r\n\r\nconst entity = {\r\n  id: {\r\n    type: IKDataEntity.Types.Integer,\r\n    displayName: 'id',\r\n    tableConfig: {\r\n      align: 'start',\r\n    },\r\n    form: false,\r\n  },\r\n  name: {},\r\n  printTitle: {},\r\n  required: {\r\n    type: IKDataEntity.Types.Boolean,\r\n  },\r\n  multiSelect: {\r\n    type: IKDataEntity.Types.Boolean,\r\n  },\r\n  attrubuteCount: {\r\n    type: IKDataEntity.Types.Integer,\r\n    form: false,\r\n  },\r\n}\r\nconst config = {\r\n  load: async function (filter) {\r\n    return (await hillo.get('Category.php', {\r\n      op: 'showAttributeGroup',\r\n      lang: GlobalSettings.getLang(),\r\n      ...filter,\r\n    }))\r\n      .content\r\n  },\r\n  add: function (item) {\r\n    return hillo.postWithUploadFile('Category.php?op=addAttributeGroup', item, {\r\n      showLoading: true,\r\n    })\r\n  },\r\n  edit: function (item) {\r\n    return hillo.postWithUploadFile('Category.php?op=updateAttributeGroup', item, {\r\n      showLoading: true,\r\n    })\r\n  },\r\n  remove: function (id) {\r\n    return hillo.post('Category.php?op=deleteAttributeGroup', { id: id })\r\n  },\r\n}\r\n\r\nexport default IKDataEntity.ModelFactory(entity, config)\r\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _metaflowJs = require(\"metaflow-js\");\n\nvar entity = {\n  id: {\n    type: _metaflowJs.IKDataEntity.Types.Integer,\n    displayName: 'id',\n    tableConfig: {\n      align: 'start'\n    },\n    formConfig: {\n      requiredNew: false\n    }\n  },\n  name: {\n    displayName: 'Name'\n  },\n  lang: {},\n  desc: {\n    displayName: 'Beschreibung',\n    formConfig: {\n      required: false\n    }\n  }\n};\n\nvar _default = _metaflowJs.IKDataEntity.ModelFactory(entity, {});\n\nexports.default = _default;","import { IKDataEntity } from 'metaflow-js'\r\nimport hillo from 'hillo'\r\nimport GlobalSettings from '@/GlobalSettings'\r\nimport store from '../store'\r\nimport Category from './Category'\r\nimport PrinterGroup from './PrinterGroup'\r\nimport Allergen from './Allergen'\r\nimport StringEntity from './StringEntity'\r\nimport AttributeGroup from './AttributeGroup'\r\nimport i18n from '../i18n'\r\n\r\nconst showImage = Boolean(GlobalSettings.isShowOnTable === '0')\r\n\r\nconst entity = {\r\n  id: {\r\n    type: IKDataEntity.Types.Integer,\r\n    displayName: 'id',\r\n    form: false,\r\n    header: true,\r\n  },\r\n  image: {\r\n    type: IKDataEntity.Types.Image,\r\n    formConfig: {\r\n      type: {\r\n        root: () => store.getters.rootUrl + GlobalSettings.dishImageRoot,\r\n      },\r\n      required: false,\r\n    },\r\n    tableConfig: { filterable: false },\r\n    displayName: 'image',\r\n    header: showImage,\r\n  },\r\n  color: {\r\n    type: IKDataEntity.Types.Color,\r\n    formConfig: {\r\n      required: false,\r\n    },\r\n    tableConfig: { filterable: false },\r\n  },\r\n  code: {\r\n    tableConfig: {\r\n      width: '60px',\r\n    },\r\n    header: false,\r\n  },\r\n  displayCode: {\r\n    displayName: 'code',\r\n    form: false,\r\n    tableConfig: {},\r\n  },\r\n\r\n  dishName: {\r\n    displayName: 'name',\r\n    form: false,\r\n    tableConfig: {},\r\n  },\r\n  price: {\r\n    type: IKDataEntity.Types.Float,\r\n    formConfig: {\r\n      default: '',\r\n      overwriteRule: true,\r\n      rule: [\r\n        v => /^[0-9]+\\.{0,1}[0-9]{0,2}$/.test(v) || 'Bitte geben Sie den richtigen Preis ein',\r\n      ],\r\n    },\r\n  },\r\n\r\n  langs: {\r\n    displayName: 'name',\r\n    type: IKDataEntity.Types.Group,\r\n    formConfig: {\r\n      groupName: 'name',\r\n      default: GlobalSettings.supportLang,\r\n      childLabelKey: 'lang',\r\n      type: {},\r\n    },\r\n    tableConfig: {\r\n      displayCondition: (item) => {\r\n        return item.lang.toLowerCase() === GlobalSettings.getLang().toLowerCase()\r\n      },\r\n      displayChild: (key) => {\r\n        return key === 'name'\r\n      },\r\n    },\r\n    childKey: ['name', 'desc'],\r\n    labelKey: 'lang',\r\n    children: [\r\n      StringEntity, StringEntity, StringEntity,\r\n    ],\r\n    header: false,\r\n  },\r\n\r\n  printGroupId: {\r\n    displayName: i18n.t('printCatName'),\r\n    type: IKDataEntity.Types.Option,\r\n    formConfig: {\r\n      default: 1,\r\n      type: {\r\n        selectItems: PrinterGroup.getList,\r\n      },\r\n    },\r\n  },\r\n  extraPrintGroupIds: {\r\n    displayName: i18n.t('extraPrintGroup'),\r\n    type: IKDataEntity.Types.Option,\r\n    formConfig: {\r\n      type: {\r\n        multiple: true,\r\n        selectItems: PrinterGroup.getList,\r\n      },\r\n      required: false,\r\n    },\r\n    header: false,\r\n  },\r\n  categoryId: {\r\n    displayName: '',\r\n    tableConfig: { filterable: false },\r\n    type: IKDataEntity.Types.Option,\r\n    formConfig: {\r\n      type: {\r\n        selectItems: Category.getList,\r\n        itemText: '_langsname',\r\n      },\r\n    },\r\n  },\r\n  AllergenId: {\r\n    displayName: i18n.t(''),\r\n    type: IKDataEntity.Types.Option,\r\n    formConfig: {\r\n      type: {\r\n        selectItems: Allergen.getList,\r\n        multiple: true,\r\n      },\r\n      required: false,\r\n    },\r\n    header: false,\r\n  },\r\n  attributeGroupId: {\r\n    displayName: i18n.t('attributeGroupNames'),\r\n    type: IKDataEntity.Types.Option,\r\n    formConfig: {\r\n      merge: false,\r\n      required: false,\r\n      type: {\r\n        selectItems: AttributeGroup.getList,\r\n        multiple: true,\r\n        disabledItem: (item, editedItem) => {\r\n          if (editedItem.inheritAttributeGroupId) {\r\n            return ({\r\n              ...item,\r\n              disabled: editedItem.inheritAttributeGroupId.includes(item.id),\r\n            })\r\n          } else {\r\n            return item\r\n          }\r\n        },\r\n      },\r\n    },\r\n    header: false,\r\n  },\r\n  localAttributeGroupId: {\r\n    type: IKDataEntity.Types.Option,\r\n    formConfig: {\r\n      type: {\r\n        selectItems: AttributeGroup.getList,\r\n        multiple: true,\r\n      },\r\n    },\r\n    form: false,\r\n    header: false,\r\n  },\r\n\r\n  inheritAttributeGroupId: {\r\n    displayName: 'AttributeGroupName',\r\n    type: IKDataEntity.Types.Option,\r\n    formConfig: {\r\n      type: {\r\n        selectItems: AttributeGroup.getList,\r\n        multiple: true,\r\n      },\r\n    },\r\n    form: false,\r\n    header: false,\r\n  },\r\n  dishWeight: {\r\n    displayName: 'DishWeight',\r\n    type: IKDataEntity.Types.Integer,\r\n    formConfig: {\r\n      default: 1,\r\n      required: false,\r\n      rule: [\r\n        v => /^[0-9]\\d*$/.test(v) || 'Bitte geben Sie die ganze Zahl ein',\r\n      ],\r\n    },\r\n    header: false,\r\n  },\r\n  isActive: {\r\n    type: IKDataEntity.Types.Boolean,\r\n    displayName: 'isActive',\r\n    formConfig: {\r\n      default: 1,\r\n      required: false,\r\n    },\r\n  },\r\n  dishAlias: {\r\n    required: false,\r\n    formConfig: {\r\n      requiredNew: false,\r\n      requiredEdit: false,\r\n    },\r\n    header: false,\r\n  },\r\n\r\n}\r\nconst config = {\r\n\r\n  load: async function (filter) {\r\n    // const allPfands = await Pfand.getList()\r\n    // console.log('allPfands', allPfands)\r\n\r\n    return (await hillo.get('Dishes.php', {\r\n      lang: GlobalSettings.getLang(),\r\n      onlyActive: 0,\r\n      ...filter,\r\n    }))\r\n      .content.map(function (item) {\r\n        item.displayCode = item.code.length > 5 ? item.code.slice(0, 5) + '...' : item.code\r\n        item.id = item.dishId\r\n        item.attributeGroupId = [\r\n          item.inheritAttributeGroupId ? item.inheritAttributeGroupId.split(',') : [],\r\n          item.localAttributeGroupId ? item.localAttributeGroupId.split(',') : [],\r\n        ].flat().join(',')\r\n        item.langs = item.langs.map(i => {\r\n          return {\r\n            ...i,\r\n            desc: i.description,\r\n          }\r\n        })\r\n        return item\r\n      })\r\n  },\r\n\r\n  multipleAdd: function (item) {\r\n    return hillo.postWithUploadFile('Dishes.php?op=add', {\r\n      ...item,\r\n      params: JSON.stringify(item),\r\n    }, { showLoading: false })\r\n  },\r\n  add: function (item) {\r\n    item.attributeGroup = item.attributeGroupId\r\n      .filter(i => !item.inheritAttributeGroupId.includes(i)).join(',')\r\n    item.allergenGroup = item.AllergenId.join(',')\r\n    console.log(item.extraPrintGroupIds)\r\n    item.extraPrintGroupIds = item.extraPrintGroupIds?.join ? item.extraPrintGroupIds.join(',') : ''\r\n\r\n    return hillo.postWithUploadFile('Dishes.php?op=add', {\r\n      ...item,\r\n      params: JSON.stringify(item),\r\n    }, { showLoading: true })\r\n  },\r\n\r\n  remove: function (id) {\r\n    return hillo.post('Dishes.php?op=delete', { id: id })\r\n  },\r\n  edit: function (item) {\r\n    item.attributeGroup = item.attributeGroupId\r\n      .filter(i => !item.inheritAttributeGroupId.includes(i)).join(',')\r\n    item.allergenGroup = item.AllergenId.join(',')\r\n    item.extraPrintGroupIds = item.extraPrintGroupIds?.join ? item.extraPrintGroupIds.join(',') : ''\r\n    if (item.file) {\r\n      item.imageExt = item.file.name.split('.')[1]\r\n    }\r\n    item.isActive = item.isActive ? 1 : 0\r\n\r\n    // hillo.postWithUploadFile('Dishes.php?op=flipManyCombination', {\r\n    //   dishIdComboDishIds: JSON.stringify(item),\r\n    // })\r\n\r\n    return hillo.postWithUploadFile('Dishes.php?op=update', {\r\n      ...item,\r\n      params: JSON.stringify(item),\r\n    }, { showLoading: true })\r\n  },\r\n\r\n}\r\nconst DishModel = IKDataEntity.ModelFactory(entity, config)\r\nDishModel.getBuffet = async function () {\r\n  return (await DishModel.getList()).filter(i => i.dishesCategoryTypeId === '8')\r\n}\r\nexport default DishModel\r\n","import IKUtils from 'innerken-js-utils'\r\n\r\nexport default {\r\n  ...IKUtils,\r\n}\r\n","import GlobalSettings from '@/GlobalSettings'\r\nimport { IKDataEntity } from 'metaflow-js'\r\nimport hillo from 'hillo'\r\n\r\nconst entity = {\r\n  id: {\r\n    type: IKDataEntity.Types.Integer,\r\n    displayName: 'id',\r\n    tableConfig: {\r\n      align: 'start',\r\n    },\r\n    formConfig: {\r\n      requiredNew: false,\r\n    },\r\n  },\r\n  name: {},\r\n  lang: {},\r\n}\r\nconst config = {\r\n  load: async function (filter) {\r\n    return (await hillo.get('CategoryType.php', {\r\n      lang: GlobalSettings.getLang(),\r\n      ...filter,\r\n    }))\r\n      .content\r\n  },\r\n}\r\n\r\nexport default IKDataEntity.ModelFactory(entity, config)\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-card',[_c('v-card-title',[_vm._v(_vm._s(_vm.$t('')))]),_c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-dialog',{ref:\"dialog\",attrs:{\"return-value\":_vm.dates,\"persistent\":\"\",\"width\":\"290px\"},on:{\"update:returnValue\":function($event){_vm.dates=$event},\"update:return-value\":function($event){_vm.dates=$event}},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":_vm.$t(''),\"prepend-icon\":\"mdi-calendar\",\"readonly\":\"\"},model:{value:(_vm.dates),callback:function ($$v) {_vm.dates=$$v},expression:\"dates\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.datePickerDialog),callback:function ($$v) {_vm.datePickerDialog=$$v},expression:\"datePickerDialog\"}},[_c('v-date-picker',{attrs:{\"range\":\"\",\"scrollable\":\"\"},model:{value:(_vm.dates),callback:function ($$v) {_vm.dates=$$v},expression:\"dates\"}},[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.datePickerDialog = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$refs.dialog.save(_vm.dates)}}},[_vm._v(\" OK \")])],1)],1)],1),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-dialog',{ref:\"timeDialog\",attrs:{\"return-value\":_vm.hourStart,\"persistent\":\"\",\"width\":\"290px\"},on:{\"update:returnValue\":function($event){_vm.hourStart=$event},\"update:return-value\":function($event){_vm.hourStart=$event}},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":_vm.$t('startTime'),\"prepend-icon\":\"mdi-calendar\",\"readonly\":\"\"},model:{value:(_vm.hourStart),callback:function ($$v) {_vm.hourStart=$$v},expression:\"hourStart\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.timeStartPickerDialog),callback:function ($$v) {_vm.timeStartPickerDialog=$$v},expression:\"timeStartPickerDialog\"}},[_c('v-time-picker',{attrs:{\"range\":\"\",\"scrollable\":\"\"},model:{value:(_vm.hourStart),callback:function ($$v) {_vm.hourStart=$$v},expression:\"hourStart\"}},[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.timeStartPickerDialog = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$refs.timeDialog.save(_vm.hourStart)}}},[_vm._v(\" OK \")])],1)],1)],1),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-dialog',{ref:\"timeEndDialog\",attrs:{\"return-value\":_vm.hourEnd,\"persistent\":\"\",\"width\":\"290px\"},on:{\"update:returnValue\":function($event){_vm.hourEnd=$event},\"update:return-value\":function($event){_vm.hourEnd=$event}},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":_vm.$t('endTime'),\"prepend-icon\":\"mdi-calendar\",\"readonly\":\"\"},model:{value:(_vm.hourEnd),callback:function ($$v) {_vm.hourEnd=$$v},expression:\"hourEnd\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.timeEndPickerDialog),callback:function ($$v) {_vm.timeEndPickerDialog=$$v},expression:\"timeEndPickerDialog\"}},[_c('v-time-picker',{attrs:{\"range\":\"\",\"scrollable\":\"\"},model:{value:(_vm.hourEnd),callback:function ($$v) {_vm.hourEnd=$$v},expression:\"hourEnd\"}},[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.timeEndPickerDialog = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$refs.timeEndDialog.save(_vm.hourEnd)}}},[_vm._v(\" OK \")])],1)],1)],1),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-select',{attrs:{\"label\":_vm.$t(''),\"item-text\":\"name\",\"item-value\":\"id\",\"multiple\":\"\",\"clearable\":\"\",\"items\":_vm.realAttributes},on:{\"change\":function($event){return _vm.selectAttributes(_vm.fixedHideAttributes)},\"click:clear\":_vm.clearFixedHideAttribute},model:{value:(_vm.fixedHideAttributes),callback:function ($$v) {_vm.fixedHideAttributes=$$v},expression:\"fixedHideAttributes\"}})],1),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-select',{attrs:{\"label\":_vm.$t(''),\"item-text\":\"name\",\"item-value\":\"id\",\"multiple\":\"\",\"clearable\":\"\",\"items\":_vm.realAttributes},model:{value:(_vm.hideAttributes),callback:function ($$v) {_vm.hideAttributes=$$v},expression:\"hideAttributes\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-select',{attrs:{\"label\":_vm.$t(''),\"item-text\":\"dishName\",\"item-value\":\"dishName\",\"multiple\":\"\",\"clearable\":\"\",\"items\":_vm.allFixedDishesData},on:{\"change\":function($event){return _vm.selectFixedDishes(_vm.fixedHideDishes)},\"click:clear\":_vm.clearFixedHideDishes},model:{value:(_vm.fixedHideDishes),callback:function ($$v) {_vm.fixedHideDishes=$$v},expression:\"fixedHideDishes\"}})],1),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-select',{attrs:{\"label\":_vm.$t('()'),\"item-text\":\"dishName\",\"item-value\":\"dishName\",\"multiple\":\"\",\"items\":_vm.allDishData},on:{\"change\":function($event){return _vm.selectDishes(_vm.hideDishes)}},model:{value:(_vm.hideDishes),callback:function ($$v) {_vm.hideDishes=$$v},expression:\"hideDishes\"}})],1),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-btn',{attrs:{\"disabled\":_vm.tableData.length<2,\"x-large\":\"\",\"color\":\"primary\",\"block\":\"\"},on:{\"click\":function($event){_vm.showSalesTable=true}}},[_vm._v(\" \"+_vm._s(_vm.$t(''))+\" \")])],1)],1)],1)],1),_c('v-dialog',{attrs:{\"fullscreen\":\"\",\"scrollable\":\"\"},model:{value:(_vm.showSalesTable),callback:function ($$v) {_vm.showSalesTable=$$v},expression:\"showSalesTable\"}},[_c('v-card',[_c('v-toolbar',{attrs:{\"dense\":\"\",\"dark\":\"\"}},[_c('v-toolbar-title',[_vm._v(\" \"+_vm._s(_vm.$t(''))+\" \")]),_c('v-spacer'),_c('v-btn',{staticClass:\"mr-4\",on:{\"click\":_vm.print}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\" mdi-printer \")]),_vm._v(\" \"+_vm._s(_vm.$t(''))+\" \")],1),_c('v-icon',{on:{\"click\":function($event){_vm.showSalesTable=!_vm.showSalesTable}}},[_vm._v(\" mdi-close \")])],1),_c('v-card-text',[_c('v-data-table',{attrs:{\"fixed-header\":\"\",\"dense\":\"\",\"hide-default-footer\":\"\",\"disable-pagination\":\"\",\"height\":\"calc(100vh - 72px)\",\"item-class\":_vm.computeClass,\"headers\":_vm.headers,\"items\":_vm.tableData,\"items-per-page\":100}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <v-card>\r\n      <v-card-title>{{ $t('') }}</v-card-title>\r\n      <v-container>\r\n        <v-row>\r\n          <v-col cols=\"4\">\r\n            <v-dialog\r\n              ref=\"dialog\"\r\n              v-model=\"datePickerDialog\"\r\n              :return-value.sync=\"dates\"\r\n              persistent\r\n              width=\"290px\"\r\n            >\r\n              <template v-slot:activator=\"{ on, attrs }\">\r\n                <v-text-field\r\n                  v-model=\"dates\"\r\n                  :label=\"$t('')\"\r\n                  prepend-icon=\"mdi-calendar\"\r\n                  readonly\r\n                  v-bind=\"attrs\"\r\n                  v-on=\"on\"\r\n                />\r\n              </template>\r\n              <v-date-picker\r\n                v-model=\"dates\"\r\n                range\r\n                scrollable\r\n              >\r\n                <v-spacer/>\r\n                <v-btn\r\n                  text\r\n                  color=\"primary\"\r\n                  @click=\"datePickerDialog = false\"\r\n                >\r\n                  Cancel\r\n                </v-btn>\r\n                <v-btn\r\n                  text\r\n                  color=\"primary\"\r\n                  @click=\"$refs.dialog.save(dates)\"\r\n                >\r\n                  OK\r\n                </v-btn>\r\n              </v-date-picker>\r\n            </v-dialog>\r\n          </v-col>\r\n          <v-col cols=\"4\">\r\n            <v-dialog\r\n              ref=\"timeDialog\"\r\n              v-model=\"timeStartPickerDialog\"\r\n              :return-value.sync=\"hourStart\"\r\n              persistent\r\n              width=\"290px\"\r\n            >\r\n              <template v-slot:activator=\"{ on, attrs }\">\r\n                <v-text-field\r\n                  v-model=\"hourStart\"\r\n                  :label=\"$t('startTime')\"\r\n                  prepend-icon=\"mdi-calendar\"\r\n                  readonly\r\n                  v-bind=\"attrs\"\r\n                  v-on=\"on\"\r\n                />\r\n              </template>\r\n              <v-time-picker\r\n                v-model=\"hourStart\"\r\n                range\r\n                scrollable\r\n              >\r\n                <v-spacer/>\r\n                <v-btn\r\n                  text\r\n                  color=\"primary\"\r\n                  @click=\"timeStartPickerDialog = false\"\r\n                >\r\n                  Cancel\r\n                </v-btn>\r\n                <v-btn\r\n                  text\r\n                  color=\"primary\"\r\n                  @click=\"$refs.timeDialog.save(hourStart)\"\r\n                >\r\n                  OK\r\n                </v-btn>\r\n              </v-time-picker>\r\n            </v-dialog>\r\n          </v-col>\r\n          <v-col cols=\"4\">\r\n            <v-dialog\r\n              ref=\"timeEndDialog\"\r\n              v-model=\"timeEndPickerDialog\"\r\n              :return-value.sync=\"hourEnd\"\r\n              persistent\r\n              width=\"290px\"\r\n            >\r\n              <template v-slot:activator=\"{ on, attrs }\">\r\n                <v-text-field\r\n                  v-model=\"hourEnd\"\r\n                  :label=\"$t('endTime')\"\r\n                  prepend-icon=\"mdi-calendar\"\r\n                  readonly\r\n                  v-bind=\"attrs\"\r\n                  v-on=\"on\"\r\n                />\r\n              </template>\r\n              <v-time-picker\r\n                v-model=\"hourEnd\"\r\n                range\r\n                scrollable\r\n              >\r\n                <v-spacer/>\r\n                <v-btn\r\n                  text\r\n                  color=\"primary\"\r\n                  @click=\"timeEndPickerDialog = false\"\r\n                >\r\n                  Cancel\r\n                </v-btn>\r\n                <v-btn\r\n                  text\r\n                  color=\"primary\"\r\n                  @click=\"$refs.timeEndDialog.save(hourEnd)\"\r\n                >\r\n                  OK\r\n                </v-btn>\r\n              </v-time-picker>\r\n            </v-dialog>\r\n          </v-col>\r\n          <v-col cols=\"4\">\r\n            <v-select\r\n              v-model=\"fixedHideAttributes\"\r\n              :label=\"$t('')\"\r\n              item-text=\"name\"\r\n              item-value=\"id\"\r\n              multiple\r\n              clearable\r\n              :items=\"realAttributes\"\r\n              @change=\"selectAttributes(fixedHideAttributes)\"\r\n              @click:clear=\"clearFixedHideAttribute\"\r\n            />\r\n          </v-col>\r\n          <v-col cols=\"4\">\r\n            <v-select\r\n              v-model=\"hideAttributes\"\r\n              :label=\"$t('')\"\r\n              item-text=\"name\"\r\n              item-value=\"id\"\r\n              multiple\r\n              clearable\r\n              :items=\"realAttributes\"\r\n            />\r\n          </v-col>\r\n        </v-row>\r\n        <v-row>\r\n          <v-col cols=\"4\">\r\n            <v-select\r\n              v-model=\"fixedHideDishes\"\r\n              :label=\"$t('')\"\r\n              item-text=\"dishName\"\r\n              item-value=\"dishName\"\r\n              multiple\r\n              clearable\r\n              :items=\"allFixedDishesData\"\r\n              @change=\"selectFixedDishes(fixedHideDishes)\"\r\n              @click:clear=\"clearFixedHideDishes\"\r\n            />\r\n          </v-col>\r\n          <v-col cols=\"4\">\r\n            <v-select\r\n              v-model=\"hideDishes\"\r\n              :label=\"$t('()')\"\r\n              item-text=\"dishName\"\r\n              item-value=\"dishName\"\r\n              multiple\r\n              :items=\"allDishData\"\r\n              @change=\"selectDishes(hideDishes)\"\r\n            />\r\n          </v-col>\r\n          <v-col cols=\"4\">\r\n            <v-btn\r\n              :disabled=\"tableData.length<2\"\r\n              x-large\r\n              color=\"primary\"\r\n              block\r\n              @click=\"showSalesTable=true\"\r\n            >\r\n              {{ $t('') }}\r\n            </v-btn>\r\n          </v-col>\r\n        </v-row>\r\n      </v-container>\r\n    </v-card>\r\n    <v-dialog\r\n      v-model=\"showSalesTable\"\r\n      fullscreen\r\n      scrollable\r\n    >\r\n      <v-card>\r\n        <v-toolbar\r\n          dense\r\n          dark\r\n        >\r\n          <v-toolbar-title>\r\n            {{ $t('') }}\r\n          </v-toolbar-title>\r\n          <v-spacer/>\r\n          <v-btn\r\n            class=\"mr-4\"\r\n            @click=\"print\"\r\n          >\r\n            <v-icon left>\r\n              mdi-printer\r\n            </v-icon>\r\n            {{ $t('') }}\r\n          </v-btn>\r\n          <v-icon @click=\"showSalesTable=!showSalesTable\">\r\n            mdi-close\r\n          </v-icon>\r\n        </v-toolbar>\r\n        <v-card-text>\r\n          <v-data-table\r\n            fixed-header\r\n            dense\r\n            hide-default-footer\r\n            disable-pagination\r\n            height=\"calc(100vh - 72px)\"\r\n            :item-class=\"computeClass\"\r\n            :headers=\"headers\"\r\n            :items=\"tableData\"\r\n            :items-per-page=\"100\"\r\n          />\r\n        </v-card-text>\r\n      </v-card>\r\n    </v-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\n  import { PrinterSalesInSightBon, salesInsight } from '../../components/Utlis/api'\r\n  import { StandardDishesListFactory } from 'aaden-base-model/lib/Models/AadenBase'\r\n  import Attribute from '../../model/Attribute'\r\n  import AttributeGroup from '../../model/AttributeGroup'\r\n  import Dish from '../../model/Dish'\r\n  import { IKUtils } from 'innerken-js-utils'\r\n  import { formatDate } from '../../common/common'\r\n  import Utils from '../../components/Utlis/Utils'\r\n\r\n  export default {\r\n    name: 'SalesInsight',\r\n    data: function () {\r\n      return {\r\n        datePickerDialog: null,\r\n        timeStartPickerDialog: null,\r\n        timeEndPickerDialog: null,\r\n        hourStart: '',\r\n        hourEnd: '',\r\n        dates: [],\r\n        showSalesTable: null,\r\n        unfilteredData: [],\r\n        displayData: [],\r\n        attributeData: [],\r\n        hideDishes: [],\r\n        filterDishesData: [],\r\n        hideAttributes: [],\r\n        fixedHideAttributes: [],\r\n        fixedHideDishes: [],\r\n        mergedGroup: [],\r\n        allDishData: [],\r\n        allFixedDishesData: [],\r\n        fixedHeader: [\r\n          {\r\n            text: 'name',\r\n            value: 'name',\r\n          },\r\n          {\r\n            text: 'price',\r\n            value: 'price',\r\n          },\r\n          {\r\n            text: 'amount',\r\n            value: 'amount',\r\n          },\r\n        ],\r\n      }\r\n    },\r\n    computed: {\r\n      headers () {\r\n        return this.fixedHeader.concat(this.attributeHeader)\r\n      },\r\n      realAttributes () {\r\n        return this.attributeData.reduce((arr, a) => {\r\n          if (a.childAttributes) {\r\n            a.childAttributes.forEach(c => arr.push(c))\r\n          }\r\n\r\n          return arr\r\n        }, [])\r\n      },\r\n      attributeHeader () {\r\n        return this.realAttributes\r\n          .filter(i => !(this.hideAttributes.includes(i.id) || this.fixedHideAttributes.includes(i.id)))\r\n          .map(a => {\r\n            a.text = a.name\r\n            a.value = 'attr' + a.id\r\n            return a\r\n          })\r\n      },\r\n      tableData () {\r\n        const tableData = []\r\n        const formatDish = (d) => {\r\n          d.isDish = true\r\n          d.price = `${d.originPrice} (avg:${(d.totalPrice / d.totalCount).toFixed(2)})`\r\n          d.amount = d.totalCount\r\n          d.groupData.forEach(g => {\r\n            d['attr' + g.id] = g.count\r\n          })\r\n          return d\r\n        }\r\n        const formatVariant = (v, i) => {\r\n          v.name = 'v:' + i\r\n          v.amount = v.count\r\n          v.groupData.forEach(g => {\r\n            v['attr' + g.id] = g.count\r\n          })\r\n          return v\r\n        }\r\n        if (this.hideDishes.length > 0) {\r\n          this.filterDishesData.forEach(d => {\r\n            tableData.push(d)\r\n            d.variants.forEach((v, i) => {\r\n              tableData.push(formatVariant(v, i))\r\n            })\r\n          })\r\n        } else {\r\n          this.displayData.forEach(d => {\r\n            tableData.push(formatDish(d))\r\n            d.variants.forEach((v, i) => {\r\n              tableData.push(formatVariant(v, i))\r\n            })\r\n          })\r\n        }\r\n        return tableData\r\n      },\r\n    },\r\n    watch: {\r\n      dates (val) {\r\n        this.loadSalesData(val)\r\n      },\r\n      hourStart (val) {\r\n        this.loadSalesData(this.dates, val, this.hourEnd)\r\n      },\r\n      hourEnd (val) {\r\n        this.loadSalesData(this.dates, this.hourStart, val)\r\n      },\r\n    },\r\n    async mounted () {\r\n      await this.loadData()\r\n    },\r\n    methods: {\r\n      clearFixedHideAttribute () {\r\n        localStorage.removeItem('fixedHideAttribute')\r\n      },\r\n      clearFixedHideDishes () {\r\n        localStorage.removeItem('fixedHideDishes')\r\n      },\r\n      selectDishes (hideDishes) {\r\n        this.filterDishesData = this.displayData.filter(item => (hideDishes.includes(item.name)))\r\n      },\r\n      selectFixedDishes (fixedHideDishes) {\r\n        const fixedHideDishGroups = JSON.stringify(fixedHideDishes)\r\n        localStorage.setItem('fixedHideDishes', fixedHideDishGroups)\r\n        this.allDishData = this.allFixedDishesData.filter(item => !(fixedHideDishes.includes(item.dishName)))\r\n        this.displayData = this.unfilteredData.filter(item => !(fixedHideDishes.includes(item.name)))\r\n      },\r\n      selectAttributes (attributeId) {\r\n        const attributeIds = JSON.stringify(attributeId)\r\n        localStorage.setItem('fixedHideAttribute', attributeIds)\r\n      },\r\n      computeClass (item) {\r\n        return item.isDish ? 'dishRow normal' : 'normal'\r\n      },\r\n      groupElement (childList, childMatchKey) {\r\n        const on = function (parentList, matchKey) {\r\n          const _parentList = IKUtils.deepCopy(parentList)\r\n          const saveIn = function (resultKey) {\r\n            childList.forEach(c => {\r\n              const target = _parentList.find(p => c[childMatchKey] === p[matchKey])\r\n              if (target) {\r\n                if (!target[resultKey]) {\r\n                  target[resultKey] = []\r\n                }\r\n                target[resultKey].push(c)\r\n              }\r\n            })\r\n            return _parentList\r\n          }\r\n          return { saveIn }\r\n        }\r\n        return { on }\r\n      },\r\n      async getAllAttribute () {\r\n        return (await Attribute.getList())\r\n          .filter(a => a.optattributeGroupId.length > 0)\r\n      },\r\n      async getAttributeGrouped () {\r\n        const attributeGroup = await AttributeGroup.getList()\r\n        const attribute = await this.getAllAttribute()\r\n        return this.groupElement(attribute, 'attributeGroupId')\r\n          .on(attributeGroup, 'id').saveIn('childAttributes')\r\n      },\r\n      async getSalesInfo (timeSpan, hourStart, hourEnd) {\r\n        const data = await salesInsight(timeSpan, hourStart, hourEnd)\r\n        if (data.length === 0) {\r\n          return []\r\n        }\r\n        const dishList = StandardDishesListFactory()\r\n          .formatList((data).content)\r\n        const displayList = dishList.reduce((obj, i) => {\r\n          let dict = obj[i.code]\r\n          if (!dict) {\r\n            obj[i.code] = {\r\n              categoryId: parseInt(i.categoryId),\r\n              categoryTypeId: parseInt(i.categoryTypeId),\r\n              code: i.code,\r\n              // name: i.code + '/' + i.name,\r\n              name: i.name,\r\n              totalCount: i.count,\r\n              originPrice: i.originPrice,\r\n              totalPrice: i.realPrice * i.count,\r\n              variants: [],\r\n            }\r\n            dict = obj[i.code]\r\n          } else {\r\n            dict.totalCount += i.count\r\n            dict.totalPrice += i.realPrice * i.count\r\n          }\r\n          const variant = dict.variants.find(v => v.identity === i.identity)\r\n          if (variant) {\r\n            variant.count += i.count\r\n          } else {\r\n            dict.variants.push({\r\n              identity: i.identity,\r\n              count: parseInt(i.count),\r\n              displayApply: i.displayApply,\r\n              price: i.realPrice,\r\n            })\r\n          }\r\n          return obj\r\n        }, {})\r\n        return Object.values(displayList).map(u => {\r\n          u.group = this.groupAttribute(u)\r\n          return u\r\n        })\r\n      },\r\n      groupAttribute (dish) {\r\n        // group key\r\n        dish.groupData = IKUtils.deepCopy(this.realAttributes)\r\n        dish.variants.forEach(v => {\r\n          v.groupData = IKUtils.deepCopy(this.realAttributes)\r\n          v.displayApply.forEach(displayApply => {\r\n            const child = dish.groupData.find(x => x.id === parseInt(displayApply.aId))\r\n            const selfChild = v.groupData.find(x => x.id === parseInt(displayApply.aId))\r\n            if (!child || !selfChild) {\r\n              return\r\n            }\r\n            if (!selfChild.count) {\r\n              selfChild.count = 0\r\n            }\r\n            selfChild.count++\r\n            if (!child.count) {\r\n              child.count = 0\r\n            }\r\n            child.count++\r\n          })\r\n        })\r\n        return dish.variants.reduce((arr, v) => {\r\n          v.displayApply.forEach(displayApply => {\r\n            let group = arr.find(a => a.agId === displayApply.agId)\r\n            if (!group) {\r\n              group = {\r\n                ...displayApply,\r\n                values: [],\r\n              }\r\n              arr.push(group)\r\n            }\r\n            const child = group.values.find(x => x.aId === displayApply.aId)\r\n            if (child) {\r\n              child.count++\r\n            } else {\r\n              group.values.push({\r\n                ...displayApply,\r\n                count: 1,\r\n              })\r\n            }\r\n          })\r\n          return arr\r\n        }, [])\r\n      },\r\n      async loadSalesData (timeSpan, hourStart, hourEnd) {\r\n        const salesData = await this.getSalesInfo(timeSpan, hourStart, hourEnd)\r\n        const totalData = salesData.reduce((obj, i) => {\r\n          obj.totalPrice += i.totalPrice\r\n          obj.groupData.forEach((g, t) => {\r\n            if (!g.count) {\r\n              g.count = 0\r\n            }\r\n            g.count += (i.groupData[t].count ?? 0)\r\n          })\r\n          obj.totalCount += i.totalCount\r\n          return obj\r\n        }, {\r\n          code: '-',\r\n          name: 'Alle',\r\n          totalPrice: 0,\r\n          originPrice: 0,\r\n          totalCount: 0,\r\n          groupData: IKUtils.deepCopy(this.realAttributes),\r\n          variants: [],\r\n        })\r\n        this.unfilteredData = [totalData].concat(salesData)\r\n        this.displayData = this.unfilteredData.filter(item => !(this.fixedHideDishes.includes(item.name)))\r\n      },\r\n      async loadData () {\r\n        this.dates = [formatDate(0), formatDate(0)]\r\n        this.attributeData = await this.getAttributeGrouped()\r\n        this.allFixedDishesData = await Dish.getList()\r\n        this.hourStart = this.hourStart === '' ? '00:00:00' : this.hourStart\r\n        this.hourEnd = this.hourEnd === '' ? '23:59:59' : this.hourEnd\r\n        await this.loadSalesData(this.dates, this.hourStart, this.hourEnd)\r\n        if (localStorage.getItem('fixedHideAttribute')) {\r\n          this.fixedHideAttributes = JSON.parse(localStorage.getItem('fixedHideAttribute'))\r\n        }\r\n        if (localStorage.getItem('fixedHideDishes')) {\r\n          this.fixedHideDishes = JSON.parse(localStorage.getItem('fixedHideDishes'))\r\n        }\r\n        if (this.fixedHideDishes.length > 0) {\r\n          this.allDishData = this.allFixedDishesData.filter(item => !(this.fixedHideDishes.includes(item.dishName)))\r\n        } else {\r\n          this.allDishData = IKUtils.deepCopy(this.allFixedDishesData)\r\n        }\r\n      },\r\n      print () {\r\n        if (Date.parse(this.dates[0]) > Date.parse(this.dates[1])) {\r\n          [this.dates[0], this.dates[1]] = [this.dates[1], this.dates[0]]\r\n        }\r\n        const timeSpan = [this.dates[0] + ' ' + this.hourStart, this.dates[1] + ' ' + this.hourEnd]\r\n        Utils.showConfirm('Bist du sicher?', 'Mchten Sie die Statistike Bon drucken?', () => {\r\n          PrinterSalesInSightBon(timeSpan).then(() => {\r\n            Utils.toast('Erfolgreich drucken!')\r\n          })\r\n        })\r\n      },\r\n    },\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .bigHeadHorizontal {\r\n    background: #367aeb;\r\n    font-size: 24px;\r\n    padding: 8px 2px;\r\n    color: white;\r\n    grid-row: 1 / span 2;\r\n  }\r\n\r\n  .agHead {\r\n    background: #4caf50;\r\n    color: white;\r\n    padding: 8px 2px;\r\n  }\r\n\r\n  .dishRow > td{\r\n    font-weight: bold !important;\r\n    font-size: 18px !important;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n  }\r\n  th{\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n    font-size: 18px !important;\r\n  }\r\n  .dishRow {\r\n    background: #f6f6f6;\r\n    color: black;\r\n  }\r\n\r\n  .variantRow {\r\n    padding: 4px;\r\n  }\r\n\r\n  .attributeGrid {\r\n    border-right: 1px dotted #333333;\r\n  }\r\n\r\n  .aHead {\r\n    padding: 2px;\r\n\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SalesInsight.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SalesInsight.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SalesInsight.vue?vue&type=template&id=270758cb&\"\nimport script from \"./SalesInsight.vue?vue&type=script&lang=js&\"\nexport * from \"./SalesInsight.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SalesInsight.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTimePicker } from 'vuetify/lib/components/VTimePicker';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VCol,VContainer,VDataTable,VDatePicker,VDialog,VIcon,VRow,VSelect,VSpacer,VTextField,VTimePicker,VToolbar,VToolbarTitle})\n","export function formatDate (num) {\r\n  const now = new Date()\r\n  const nowTime = now.getTime()\r\n  const oneDayTime = 24 * 60 * 60 * 1000\r\n  const ShowTime = nowTime + num * oneDayTime\r\n  const myDate = new Date(ShowTime)\r\n  const y = myDate.getFullYear()\r\n  const m = myDate.getMonth() + 1\r\n  const d = myDate.getDate()\r\n  return [y, m, d].join('-')\r\n}\r\n\r\nexport function formatFullData (num) {\r\n  const now = new Date()\r\n  const nowTime = now.getTime()\r\n  const oneDayTime = 24 * 60 * 60 * 1000\r\n  const ShowTime = nowTime + num * oneDayTime\r\n  const myDate = new Date(ShowTime)\r\n  const y = myDate.getFullYear() + '-'\r\n  const m = myDate.getMonth() + 1\r\n  const d = myDate.getDate()\r\n  const h = myDate.getHours() < 10 ? '0' + myDate.getHours() : myDate.getHours()\r\n  const mm = myDate.getMinutes() < 10 ? '0' + myDate.getMinutes() : myDate.getMinutes()\r\n  const s = myDate.getSeconds() < 10 ? '0' + myDate.getSeconds() : myDate.getSeconds()\r\n  return y + m + '-' + d + ' ' + h + ':' + mm + ':' + s\r\n}\r\n\r\nexport function rundTimeSecondToMin (item) {\r\n  const temp = item\r\n  if (temp.maxDineTime) temp.maxDineTime = temp.maxDineTime / 60\r\n  if (temp.roundTime) temp.roundTime = temp.roundTime / 60\r\n  // if(item.)\r\n  return temp\r\n}\r\n"],"sourceRoot":""}