{"version":3,"sources":["webpack:///./src/views/dishes/DThresholdColorSetting.vue?4148","webpack:///./src/model/DThresholdColorSetting.js","webpack:///src/views/dishes/DThresholdColorSetting.vue","webpack:///./src/views/dishes/DThresholdColorSetting.vue?54d0","webpack:///./src/views/dishes/DThresholdColorSetting.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","model","$t","staticStyle","_v","_s","staticRenderFns","entity","id","type","IKDataEntity","Types","Integer","displayName","tableConfig","align","form","Ratio","minRatio","formConfig","overwriteRule","rule","v","isNaN","parseFloat","maxRatio","color","Color","required","config","add","item","hillo","get","op","itemList","content","sortedArray","sort","obj1","obj2","val1","val2","postWithUploadFile","showLoading","edit","remove","post","load","filter","tempItem","console","log","ModelFactory","component","VCard","VContainer","VIcon"],"mappings":"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","file":"js/chunk-2d0abc56.52386356.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('ik-data-table',{attrs:{\"model\":_vm.model,\"entity-name\":_vm.$t('阈值颜色'),\"icon\":'mdi-heart'}}),_c('v-card',{attrs:{\"min-height\":\"500px\"}},[_c('div',{staticStyle:{\"height\":\"50px\",\"display\":\"flex\",\"justify-content\":\"start\",\"background-color\":\"#707070\",\"position\":\"relative\",\"top\":\"0px\",\"bottom\":\"0px\"}},[_c('div',{staticStyle:{\"padding-left\":\"10px\"}},[_c('v-icon',[_vm._v(\"mdi-heart\")])],1),_c('div',{staticStyle:{\"padding-left\":\"5px\"}},[_vm._v(\" \"+_vm._s(_vm.$t('阈值颜色'))+\" \")])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { IKDataEntity } from 'metaflow-js'\nimport hillo from 'hillo'\n\nconst entity = {\n  id: {\n    type: IKDataEntity.Types.Integer,\n    displayName: 'id',\n    tableConfig: {\n      align: 'start',\n    },\n    form: false,\n  },\n\n  Ratio: {\n    displayName: 'Ratio',\n  },\n\n  minRatio: {\n    displayName: 'minRatio',\n    formConfig: {\n      overwriteRule: false,\n      rule: [\n        // v => /^(-)?[0-9]+\\.{0,1}[0-9]{0,2}$/.test(v) || 'please enter the correct min Ratio',\n        v => (!isNaN(parseFloat(v)) && parseFloat(v) > 0) || 'The min Ratio should be greater than 0',\n      ],\n    },\n  },\n\n  maxRatio: {\n    displayName: 'maxRatio',\n    formConfig: {\n      overwriteRule: true,\n      rule: [\n        v => (!isNaN(parseFloat(v)) && parseFloat(v) >= 0) || 'The max Ratio could not be negative',\n      ],\n    },\n  },\n  color: {\n    type: IKDataEntity.Types.Color,\n    formConfig: {\n      required: true,\n    },\n  },\n\n}\n\nconst config = {\n\n  add: async function (item) {\n    const itemList = (await hillo.get('DCache.php', {\n      op: 'showDCacheColor',\n    }))\n      .content\n\n    const sortedArray = itemList.sort(function (obj1, obj2) {\n      const val1 = obj1.maxRatio\n      const val2 = obj2.maxRatio\n      if (val1 < val2) return -1\n      else if (val1 > val2) return 1\n      else return 0\n    })\n\n    if (item.Ratio < sortedArray[0].maxRatio) {\n      item.minRatio = null\n      item.maxRatio = item.Ratio\n\n      sortedArray[0].minRatio = item.Ratio\n      hillo.postWithUploadFile('DCache.php?op=updateDCacheColor', sortedArray[0], {\n        showLoading: true,\n      })\n    }\n\n    return hillo.postWithUploadFile('DCache.php?op=createDCacheColor', item, {\n      showLoading: true,\n    })\n  },\n  edit: function (item) {\n    if (item.minRatio > item.maxRatio) {\n      [item.maxRatio, item.minRatio] = [item.minRatio, item.maxRatio]\n    }\n    if (item.minRatio <= 0) {\n      item.minRatio = 'null'\n    }\n\n    if (item.maxRatio > 1) {\n      item.maxRatio = 'null'\n    }\n\n    return hillo.postWithUploadFile('DCache.php?op=updateDCacheColor', item, {\n      showLoading: true,\n    })\n  },\n\n  remove: function (id) {\n    return hillo.post('DCache.php?op=deleteDCacheColor', { id: id })\n  },\n\n  load: async function (filter) {\n    const tempItem = (await hillo.get('DCache.php', {\n      op: 'showDCacheColor',\n      ...filter,\n    }))\n      .content\n\n    tempItem.Ratio = tempItem.maxRatio\n    console.log('tempItem', tempItem)\n    return tempItem\n  },\n\n}\n\nexport default IKDataEntity.ModelFactory(entity, config)\n","<template>\n  <v-container>\n    <ik-data-table\n      :model=\"model\"\n      :entity-name=\"$t('阈值颜色')\"\n      :icon=\"'mdi-heart'\"\n    />\n\n    <v-card\n      min-height=\"500px\"\n    >\n      <div style=\"height: 50px; display:flex; justify-content: start; background-color: #707070; position: relative; top: 0px; bottom: 0px\">\n        <div style=\"padding-left: 10px\">\n          <v-icon>mdi-heart</v-icon>\n        </div>\n        <div style=\"padding-left: 5px\">\n          {{ $t('阈值颜色') }}\n        </div>\n      </div>\n\n      <!--      <div style=\"display:flex; justify-content: center;\">-->\n      <!--        <div style=\"width: 50%; top: 50%\">-->\n      <!--          <v-range-slider-->\n      <!--            :hint=\"$t('阈值颜色区间')\"-->\n      <!--            step=\"0.5\"-->\n      <!--            append-icon=\"mdi-magnify-plus-outline\"-->\n      <!--            prepend-icon=\"mdi-magnify-minus-outline\"-->\n      <!--            thumb-size=\"14\"-->\n      <!--            @click:append=\"zoomIn\"-->\n      <!--            @click:prepend=\"zoomOut\"-->\n      <!--          />-->\n      <!--        </div>-->\n      <!--      </div>-->\n    </v-card>\n  </v-container>\n</template>\n\n<script>\n  import { IkDataTable } from 'metaflow-js'\n  import DThresholdColorSetting from '../../model/DThresholdColorSetting'\n\n  export default {\n\n    components: {\n      IkDataTable,\n    },\n    data: function () {\n      return ({\n        model: DThresholdColorSetting,\n      })\n    },\n  }\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DThresholdColorSetting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DThresholdColorSetting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DThresholdColorSetting.vue?vue&type=template&id=2e0390f5&scoped=true&\"\nimport script from \"./DThresholdColorSetting.vue?vue&type=script&lang=js&\"\nexport * from \"./DThresholdColorSetting.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2e0390f5\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VCard,VContainer,VIcon})\n"],"sourceRoot":""}