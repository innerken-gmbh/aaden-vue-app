{"version":3,"sources":["webpack:///./node_modules/aaden-base-model/lib/Models/Allergen.js","webpack:///../../../src/components/VGrid/VRow.ts","webpack:///./node_modules/aaden-base-model/lib/Models/CategoryType.js","webpack:///./node_modules/aaden-base-model/lib/Models/ParentCategoty.js","webpack:///../../../src/components/VToolbar/index.ts","webpack:///./node_modules/aaden-base-model/lib/Models/Category.js","webpack:///./src/model/Attribute.js","webpack:///./node_modules/aaden-base-model/lib/Models/Dish.js","webpack:///./src/views/dishes/SalesInsight.vue?8ab0","webpack:///./src/model/Category.js","webpack:///./node_modules/aaden-base-model/lib/Models/AadenBase.js","webpack:///./src/model/PrinterGroup.js","webpack:///./src/model/Allergen.js","webpack:///../../../src/components/VToolbar/VToolbar.ts","webpack:///./node_modules/aaden-base-model/lib/Models/AttributeGroup.js","webpack:///./src/model/StringEntity.js","webpack:///./node_modules/aaden-base-model/lib/Models/PrinterGroup.js","webpack:///./src/model/AttributeGroup.js","webpack:///./node_modules/aaden-base-model/lib/Models/StringEntity.js","webpack:///./src/model/Dish.js","webpack:///./src/components/Utlis/Utils.js","webpack:///./src/model/CategoryType.js","webpack:///./src/views/dishes/SalesInsight.vue?897d","webpack:///src/views/dishes/SalesInsight.vue","webpack:///./src/views/dishes/SalesInsight.vue?d1e4","webpack:///./src/views/dishes/SalesInsight.vue?804e","webpack:///./src/common/common.js"],"names":["Object","defineProperty","exports","value","default","_metaflowJs","_hillo","_interopRequireDefault","obj","__esModule","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","configurable","writable","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","err","undefined","entity","id","type","IKDataEntity","Types","Integer","displayName","tableConfig","align","form","name","icon","shortName","displayText","config","add","item","postWithUploadFile","showLoading","edit","remove","post","load","_load","get","op","content","_x","_default","ModelFactory","breakpoints","ALIGNMENT","makeProps","prefix","def","reduce","props","val","upperFirst","alignValidator","str","includes","alignProps","String","validator","justifyValidator","justifyProps","alignContentValidator","alignContentProps","propMap","justify","alignContent","classMap","breakpointClass","prop","className","breakpoint","replace","toLowerCase","cache","Map","Vue","extend","functional","tag","dense","Boolean","noGutters","render","h","data","children","cacheKey","classList","set","mergeData","staticClass","class","_GlobalSettings","formConfig","requiredNew","lang","getLang","_StringEntity","_langsname","langs","Group","groupName","supportLang","childLabelKey","displayCondition","toUpperCase","displayChild","childKey","labelKey","header","VToolbarTitle","createSimpleFunctional","VToolbarItems","VToolbar","_CategoryType","_AttributeGroup","_ConsumeType","_ParentCategoty","appliedAttributeGroup","attributeGroupId","join","catTypeId","dishesCategoryTypeId","appliedConsumeTypeIds","consumeTypeIds","appliedFreeInConsumeTypeIds","freeInConsumeTypeIds","JSON","stringify","categorySort","required","Option","selectItems","getList","multiple","color","Color","printOrder","requiredEdit","rule","v","test","parentId","itemText","image","Image","root","store","getters","rootUrl","GlobalSettings","dcImageRoot","AttributeGroup","forceGetList","isMultiChosen","printMod","priceMod","Float","overwriteRule","CategoryType","isAsDefault","isActive","hillo","_Category","_PrinterGroup","_Allergen","isShowOnTable","code","getEndPoint","dishImageRoot","dishName","price","printGroupId","categoryId","AllergenId","merge","disabledItem","editedItem","inheritAttributeGroupId","disabled","localAttributeGroupId","inNew","inEdit","dishWeight","dishAlias","printText","attributeGroup","allergenGroup","params","file","imageExt","split","map","dishId","flat","desc","description","DishModel","getBuffet","colorList","table","dcImage","width","console","log","StringEntity","response","randomColor","list","IKUtils","Math","round","random","toast","removeAllColor","removeCategoryImage","res","calculatePriceWithDiscount","calculateDiscountPrice","calculateDiscountMod","StandardDishesListFactory","getDishesInfo","getDishes","_Dish","_innerkenJsUtils","defaultDish","note","modShow","forceFormat","formatApplyInfo","dish","_dish$apply","_dish$agName","displayApply","agName","mod","modInfo","find","groupId","selectId","arr","index","selectValue","indexOf","concat","selectName","priceInfo","hash","agNameArr","aNameArr","priceInfoArr","agIdArr","aIdArr","aName","agId","aId","ag","getAddPrice","ap","_ap$priceInfo","parseFloat","buildApplyString","applyArr","dishIdentity","tempDiscountStr","currentName","overrideConsumeTypeId","processApplyInfo","_dish$note","_ref","_dish$originPrice","_dish$tempDiscountMod","_dish$price","_dish$currentName","_dish$overrideConsume","addPrice","originPrice","realPrice","tempDiscountMod","identity","discountStr","timesMod","minusMod","discountPattern","finish","endsWith","slice","dishDictionary","orderDictionary","counter","addDishToList","count","newDish","deepCopy","sumCount","change","changeNumber","setDishList","dishList","assign","preProcessDishNoCopy","rawDish","preProcessDish","_ref2","_dish$count","_ref3","_ref4","_dish$name","copy","parseInt","wellFormat","getDishList","k","dicDish","listDish","splice","formatList","total","t","d","loadTTDishList","ttDishList","loadList","_list","clear","_k","DCT","Category","Dishes","ParsedDCTInfo","rearrangeDish","categories","dishes","dct","c","_dct","sort","a","b","Manger","_getDishesInfo","consumeTypeId","all","_getDishes","isSingleLinePrint","isSingleOrderPrint","upsideDown","printerCount","defaultRetryCount","totalDishesCount","VSheet","absolute","bottom","collapse","extended","extensionHeight","Number","floating","prominent","short","src","isExtended","computed","computedHeight","height","computedContentHeight","isCollapsed","isNaN","isProminent","$vuetify","smAndDown","classes","options","call","styles","measurableStyles","convertToUnit","created","breakingProps","original","replacement","$attrs","hasOwnProperty","breaking","methods","genBackground","$scopedSlots","img","$createElement","VImg","genContent","style","getSlot","genExtension","extension","setBackgroundColor","on","$listeners","unshift","printTitle","multiSelect","attrubuteCount","showImage","filterable","displayCode","i18n","PrinterGroup","extraPrintGroupIds","Allergen","onlyActive","multipleAdd","_vm","_h","_c","_self","_v","_s","$t","attrs","ref","dates","$event","scopedSlots","_u","_g","_b","model","callback","$$v","expression","datePickerDialog","$refs","dialog","save","hourStart","timeStartPickerDialog","timeDialog","hourEnd","timeEndPickerDialog","timeEndDialog","realAttributes","selectAttributes","fixedHideAttributes","clearFixedHideAttribute","hideAttributes","allFixedDishesData","selectFixedDishes","fixedHideDishes","clearFixedHideDishes","allDishData","selectDishes","hideDishes","tableData","showSalesTable","print","computeClass","headers","staticRenderFns","unfilteredData","displayData","attributeData","filterDishesData","mergedGroup","fixedHeader","text","attributeHeader","watch","mounted","localStorage","attributeId","groupElement","childList","childMatchKey","saveIn","getAllAttribute","Attribute","getAttributeGrouped","attribute","getSalesInfo","timeSpan","salesInsight","displayList","dict","categoryTypeId","totalCount","totalPrice","variants","variant","u","groupAttribute","selfChild","child","group","values","loadSalesData","salesData","totalData","g","groupData","loadData","Dish","Utils","PrinterSalesInSightBon","component","VBtn","VCard","VCardText","VCardTitle","VCol","VContainer","VDataTable","VDatePicker","VDialog","VIcon","VRow","VSelect","VSpacer","VTextField","VTimePicker","formatDate","num","now","Date","nowTime","getTime","oneDayTime","ShowTime","myDate","y","getFullYear","m","getMonth","getDate","formatFullData","getHours","mm","getMinutes","s","getSeconds","rundTimeSecondToMin","temp","maxDineTime","roundTime"],"mappings":"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","file":"js/chunk-7b072497.a940cd33.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _metaflowJs = require(\"metaflow-js\");\n\nvar _hillo = _interopRequireDefault(require(\"hillo\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar entity = {\n  id: {\n    type: _metaflowJs.IKDataEntity.Types.Integer,\n    displayName: 'id',\n    tableConfig: {\n      align: 'start'\n    },\n    form: false\n  },\n  name: {\n    displayName: 'allergName'\n  },\n  icon: {\n    displayName: 'icon'\n  },\n  shortName: {\n    displayName: 'shortName'\n  },\n  displayText: {\n    displayName: 'displayText'\n  }\n};\nvar config = {\n  add: function add(item) {\n    return _hillo.default.postWithUploadFile('Dishes.php?op=addAllergen', item, {\n      showLoading: true\n    });\n  },\n  edit: function edit(item) {\n    return _hillo.default.postWithUploadFile('Dishes.php?op=updateAllergen', item, {\n      showLoading: true\n    });\n  },\n  remove: function remove(id) {\n    return _hillo.default.post('Dishes.php?op=deleteAllergen', {\n      id: id\n    });\n  },\n  load: function () {\n    var _load = _asyncToGenerator(function* (filter) {\n      return (yield _hillo.default.get('Dishes.php', _objectSpread({\n        op: 'showAllAllergen'\n      }, filter))).content;\n    });\n\n    function load(_x) {\n      return _load.apply(this, arguments);\n    }\n\n    return load;\n  }()\n};\n\nvar _default = _metaflowJs.IKDataEntity.ModelFactory(entity, config);\n\nexports.default = _default;","import './VGrid.sass'\n\nimport Vue, { PropOptions } from 'vue'\nimport mergeData from '../../util/mergeData'\nimport { upperFirst } from '../../util/helpers'\n\n// no xs\nconst breakpoints = ['sm', 'md', 'lg', 'xl']\n\nconst ALIGNMENT = ['start', 'end', 'center']\n\nfunction makeProps (prefix: string, def: () => PropOptions) {\n  return breakpoints.reduce((props, val) => {\n    props[prefix + upperFirst(val)] = def()\n    return props\n  }, {} as Dictionary<PropOptions>)\n}\n\nconst alignValidator = (str: any) => [...ALIGNMENT, 'baseline', 'stretch'].includes(str)\nconst alignProps = makeProps('align', () => ({\n  type: String,\n  default: null,\n  validator: alignValidator,\n}))\n\nconst justifyValidator = (str: any) => [...ALIGNMENT, 'space-between', 'space-around'].includes(str)\nconst justifyProps = makeProps('justify', () => ({\n  type: String,\n  default: null,\n  validator: justifyValidator,\n}))\n\nconst alignContentValidator = (str: any) => [...ALIGNMENT, 'space-between', 'space-around', 'stretch'].includes(str)\nconst alignContentProps = makeProps('alignContent', () => ({\n  type: String,\n  default: null,\n  validator: alignContentValidator,\n}))\n\nconst propMap = {\n  align: Object.keys(alignProps),\n  justify: Object.keys(justifyProps),\n  alignContent: Object.keys(alignContentProps),\n}\n\nconst classMap = {\n  align: 'align',\n  justify: 'justify',\n  alignContent: 'align-content',\n}\n\nfunction breakpointClass (type: keyof typeof propMap, prop: string, val: string) {\n  let className = classMap[type]\n  if (val == null) {\n    return undefined\n  }\n  if (prop) {\n    // alignSm -> Sm\n    const breakpoint = prop.replace(type, '')\n    className += `-${breakpoint}`\n  }\n  // .align-items-sm-center\n  className += `-${val}`\n  return className.toLowerCase()\n}\n\nconst cache = new Map<string, any[]>()\n\nexport default Vue.extend({\n  name: 'v-row',\n  functional: true,\n  props: {\n    tag: {\n      type: String,\n      default: 'div',\n    },\n    dense: Boolean,\n    noGutters: Boolean,\n    align: {\n      type: String,\n      default: null,\n      validator: alignValidator,\n    },\n    ...alignProps,\n    justify: {\n      type: String,\n      default: null,\n      validator: justifyValidator,\n    },\n    ...justifyProps,\n    alignContent: {\n      type: String,\n      default: null,\n      validator: alignContentValidator,\n    },\n    ...alignContentProps,\n  },\n  render (h, { props, data, children }) {\n    // Super-fast memoization based on props, 5x faster than JSON.stringify\n    let cacheKey = ''\n    for (const prop in props) {\n      cacheKey += String((props as any)[prop])\n    }\n    let classList = cache.get(cacheKey)\n\n    if (!classList) {\n      classList = []\n      // Loop through `align`, `justify`, `alignContent` breakpoint props\n      let type: keyof typeof propMap\n      for (type in propMap) {\n        propMap[type].forEach(prop => {\n          const value: string = (props as any)[prop]\n          const className = breakpointClass(type, prop, value)\n          if (className) classList!.push(className)\n        })\n      }\n\n      classList.push({\n        'no-gutters': props.noGutters,\n        'row--dense': props.dense,\n        [`align-${props.align}`]: props.align,\n        [`justify-${props.justify}`]: props.justify,\n        [`align-content-${props.alignContent}`]: props.alignContent,\n      })\n\n      cache.set(cacheKey, classList)\n    }\n\n    return h(\n      props.tag,\n      mergeData(data, {\n        staticClass: 'row',\n        class: classList,\n      }),\n      children\n    )\n  },\n})\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _GlobalSettings = _interopRequireDefault(require(\"./GlobalSettings\"));\n\nvar _metaflowJs = require(\"metaflow-js\");\n\nvar _hillo = _interopRequireDefault(require(\"hillo\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar entity = {\n  id: {\n    type: _metaflowJs.IKDataEntity.Types.Integer,\n    displayName: 'id',\n    tableConfig: {\n      align: 'start'\n    },\n    formConfig: {\n      requiredNew: false\n    }\n  },\n  name: {},\n  lang: {}\n};\nvar config = {\n  load: function () {\n    var _load = _asyncToGenerator(function* (filter) {\n      return (yield _hillo.default.get('CategoryType.php', _objectSpread({\n        lang: _GlobalSettings.default.getLang()\n      }, filter))).content;\n    });\n\n    function load(_x) {\n      return _load.apply(this, arguments);\n    }\n\n    return load;\n  }()\n};\n\nvar _default = _metaflowJs.IKDataEntity.ModelFactory(entity, config);\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _metaflowJs = require(\"metaflow-js\");\n\nvar _hillo = _interopRequireDefault(require(\"hillo\"));\n\nvar _StringEntity = _interopRequireDefault(require(\"./StringEntity\"));\n\nvar _GlobalSettings = _interopRequireDefault(require(\"./GlobalSettings\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar config = {\n  load: function () {\n    var _load = _asyncToGenerator(function* (filter) {\n      return (yield _hillo.default.get('Category.php', _objectSpread({}, filter))).content;\n    });\n\n    function load(_x) {\n      return _load.apply(this, arguments);\n    }\n\n    return load;\n  }()\n};\nvar entity = {\n  id: {\n    type: _metaflowJs.IKDataEntity.Types.Integer,\n    displayName: 'id',\n    tableConfig: {\n      align: 'start'\n    },\n    formConfig: {\n      requiredNew: false\n    }\n  },\n  _langsname: {\n    displayName: 'labelName',\n    form: false\n  },\n  langs: {\n    displayName: 'labelName',\n    type: _metaflowJs.IKDataEntity.Types.Group,\n    formConfig: {\n      groupName: 'labelName',\n      default: _GlobalSettings.default.supportLang,\n      childLabelKey: 'lang',\n      type: {}\n    },\n    tableConfig: {\n      displayCondition: item => {\n        return item.lang.toUpperCase() === _GlobalSettings.default.getLang();\n      },\n      displayChild: key => {\n        return key === 'name';\n      }\n    },\n    childKey: ['name', 'desc'],\n    labelKey: 'lang',\n    children: [_StringEntity.default, _StringEntity.default, _StringEntity.default],\n    header: false\n  }\n};\n\nvar _default = _metaflowJs.IKDataEntity.ModelFactory(entity, config);\n\nexports.default = _default;","// Components\nimport VToolbar from './VToolbar'\n\n// Utilities\nimport { createSimpleFunctional } from '../../util/helpers'\n\nconst VToolbarTitle = createSimpleFunctional('v-toolbar__title')\nconst VToolbarItems = createSimpleFunctional('v-toolbar__items')\n\nexport {\n  VToolbar,\n  VToolbarItems,\n  VToolbarTitle,\n}\n\nexport default {\n  $_vuetify_subcomponents: {\n    VToolbar,\n    VToolbarItems,\n    VToolbarTitle,\n  },\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _metaflowJs = require(\"metaflow-js\");\n\nvar _hillo = _interopRequireDefault(require(\"hillo\"));\n\nvar _CategoryType = _interopRequireDefault(require(\"./CategoryType\"));\n\nvar _AttributeGroup = _interopRequireDefault(require(\"./AttributeGroup\"));\n\nvar _StringEntity = _interopRequireDefault(require(\"./StringEntity\"));\n\nvar _GlobalSettings = _interopRequireDefault(require(\"./GlobalSettings\"));\n\nvar _ConsumeType = _interopRequireDefault(require(\"./ConsumeType\"));\n\nvar _ParentCategoty = _interopRequireDefault(require(\"./ParentCategoty\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar config = {\n  add: function add(item) {\n    item.appliedAttributeGroup = item.attributeGroupId.join(',');\n    item.catTypeId = item.dishesCategoryTypeId;\n    item.appliedConsumeTypeIds = item.consumeTypeIds.join(',');\n    item.appliedFreeInConsumeTypeIds = item.freeInConsumeTypeIds.join(',');\n    return _hillo.default.post('Category.php?op=add', _objectSpread(_objectSpread({}, item), {}, {\n      langs: JSON.stringify(item.langs)\n    }), {\n      showLoading: true\n    });\n  },\n  edit: function edit(item) {\n    item.appliedAttributeGroup = item.attributeGroupId.join(',');\n    item.catTypeId = item.dishesCategoryTypeId;\n    item.appliedConsumeTypeIds = item.consumeTypeIds.join(',');\n    item.appliedFreeInConsumeTypeIds = item.freeInConsumeTypeIds.join(',');\n    return _hillo.default.postWithUploadFile('Category.php?op=update', _objectSpread(_objectSpread({}, item), {}, {\n      langs: JSON.stringify(item.langs)\n    }), {\n      showLoading: true\n    });\n  },\n  remove: function remove(id) {\n    return _hillo.default.post('Category.php?op=delete', {\n      id: id\n    });\n  },\n  load: function () {\n    var _load = _asyncToGenerator(function* (filter) {\n      return (yield _hillo.default.get('Category.php', _objectSpread({}, filter))).content;\n    });\n\n    function load(_x) {\n      return _load.apply(this, arguments);\n    }\n\n    return load;\n  }()\n};\nvar entity = {\n  id: {\n    type: _metaflowJs.IKDataEntity.Types.Integer,\n    displayName: 'id',\n    tableConfig: {\n      align: 'start'\n    },\n    formConfig: {\n      requiredNew: false\n    }\n  },\n  categorySort: {\n    type: _metaflowJs.IKDataEntity.Types.Integer,\n    displayName: 'sectionSort',\n    formConfig: {\n      default: 50,\n      required: false\n    }\n  },\n  _langsname: {\n    displayName: 'labelName',\n    form: false\n  },\n  langs: {\n    displayName: 'labelName',\n    type: _metaflowJs.IKDataEntity.Types.Group,\n    formConfig: {\n      groupName: 'labelName',\n      default: _GlobalSettings.default.supportLang,\n      childLabelKey: 'lang',\n      type: {}\n    },\n    tableConfig: {\n      displayCondition: item => {\n        return item.lang.toUpperCase() === _GlobalSettings.default.getLang();\n      },\n      displayChild: key => {\n        return key === 'name';\n      }\n    },\n    childKey: ['name', 'desc'],\n    labelKey: 'lang',\n    children: [_StringEntity.default, _StringEntity.default, _StringEntity.default],\n    header: false\n  },\n  dishesCategoryTypeId: {\n    displayName: 'labelType',\n    type: _metaflowJs.IKDataEntity.Types.Option,\n    formConfig: {\n      type: {\n        selectItems: _CategoryType.default.getList\n      }\n    }\n  },\n  attributeGroupId: {\n    displayName: 'attributeGroupNames',\n    type: _metaflowJs.IKDataEntity.Types.Option,\n    formConfig: {\n      required: false,\n      type: {\n        selectItems: _AttributeGroup.default.getList,\n        multiple: true\n      }\n    }\n  },\n  consumeTypeIds: {\n    type: _metaflowJs.IKDataEntity.Types.Option,\n    formConfig: {\n      required: false,\n      type: {\n        selectItems: _ConsumeType.default.getList,\n        multiple: true\n      }\n    }\n  },\n  freeInConsumeTypeIds: {\n    type: _metaflowJs.IKDataEntity.Types.Option,\n    formConfig: {\n      required: false,\n      type: {\n        selectItems: _ConsumeType.default.getList,\n        multiple: true\n      }\n    }\n  },\n  color: {\n    type: _metaflowJs.IKDataEntity.Types.Color,\n    formConfig: {\n      required: false\n    }\n  },\n  printOrder: {\n    type: _metaflowJs.IKDataEntity.Types.Integer,\n    required: false,\n    formConfig: {\n      default: 50,\n      requiredNew: false,\n      requiredEdit: false,\n      rule: [// ^-[1-9]\\d*$\n      v => /^[0-9]\\d*$/.test(v) || 'Bitte geben Sie die ganze Zahl ein']\n    }\n  },\n  parentId: {\n    type: _metaflowJs.IKDataEntity.Types.Option,\n    formConfig: {\n      required: false,\n      type: {\n        selectItems: _ParentCategoty.default.getList,\n        itemText: '_langsname'\n      }\n    }\n  }\n};\n\nvar _default = _metaflowJs.IKDataEntity.ModelFactory(entity, config);\n\nexports.default = _default;","import GlobalSettings from '@/GlobalSettings'\nimport { IKDataEntity } from 'metaflow-js'\nimport hillo from 'hillo'\nimport AttributeGroup from './AttributeGroup'\nimport CategoryType from './CategoryType'\nimport store from '@/store'\n\nconst entity = {\n  id: {\n    type: IKDataEntity.Types.Integer,\n    displayName: 'id',\n    tableConfig: {\n      align: 'start',\n    },\n    form: false,\n  },\n  name: {\n    displayName: 'name',\n  },\n  image: {\n    type: IKDataEntity.Types.Image,\n    formConfig: {\n      required: false,\n      type: {\n        root: () => store.getters.rootUrl + GlobalSettings.dcImageRoot,\n      },\n    },\n  },\n  attributeGroupId: {\n    displayName: 'groupName',\n    type: IKDataEntity.Types.Option,\n    formConfig: {\n      type: {\n        selectItems: AttributeGroup.forceGetList,\n      },\n    },\n  },\n  isMultiChosen: {\n    type: IKDataEntity.Types.Boolean,\n  },\n  value: {\n    displayName: 'value',\n    formConfig: {\n      default: 1,\n    },\n  },\n  printMod: {\n    displayName: 'printMod',\n  },\n  priceMod: {\n    type: IKDataEntity.Types.Float,\n    displayName: 'priceMod',\n    formConfig: {\n      overwriteRule: true,\n      rule: [\n        v => /^(-)?[0-9]+\\.{0,1}[0-9]{0,2}$/.test(v) || 'please enter the correct price',\n      ],\n    },\n  },\n  dishesCategoryTypeId: {\n    displayName: 'warengruppe',\n    type: IKDataEntity.Types.Option,\n    formConfig: {\n      type: {\n        selectItems: CategoryType.getList,\n      },\n    },\n  },\n  isAsDefault: {\n    type: IKDataEntity.Types.Boolean,\n  },\n  isActive: {\n    type: IKDataEntity.Types.Boolean,\n  },\n\n}\nconst config = {\n  add: function (item) {\n    return hillo.postWithUploadFile('Category.php?op=addAttribute', item, {\n      showLoading: true,\n    })\n  },\n  edit: function (item) {\n    return hillo.postWithUploadFile('Category.php?op=updateAttribute', item, {\n      showLoading: true,\n    })\n  },\n  remove: function (id) {\n    return hillo.post('Category.php?op=deleteAttribute', { id: id })\n  },\n  load: async function (filter) {\n    return (await hillo.get('Category.php', {\n      op: 'showAttribute',\n      lang: GlobalSettings.getLang(),\n      ...filter,\n    }))\n      .content\n  },\n}\n\nexport default IKDataEntity.ModelFactory(entity, config)\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _metaflowJs = require(\"metaflow-js\");\n\nvar _hillo = _interopRequireDefault(require(\"hillo\"));\n\nvar _GlobalSettings = _interopRequireDefault(require(\"./GlobalSettings\"));\n\nvar _Category = _interopRequireDefault(require(\"./Category\"));\n\nvar _PrinterGroup = _interopRequireDefault(require(\"./PrinterGroup\"));\n\nvar _Allergen = _interopRequireDefault(require(\"./Allergen\"));\n\nvar _StringEntity = _interopRequireDefault(require(\"./StringEntity\"));\n\nvar _AttributeGroup = _interopRequireDefault(require(\"./AttributeGroup\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar i = Boolean(_GlobalSettings.default.isShowOnTable === '0');\nvar entity = {\n  id: {\n    type: _metaflowJs.IKDataEntity.Types.Integer,\n    displayName: 'id',\n    tableConfig: {\n      align: 'start'\n    },\n    form: false\n  },\n  code: {},\n  image: {\n    type: _metaflowJs.IKDataEntity.Types.Image,\n    formConfig: {\n      type: {\n        root: () => _GlobalSettings.default.getEndPoint() + _GlobalSettings.default.dishImageRoot\n      },\n      required: false\n    },\n    displayName: 'image',\n    header: i\n  },\n  dishName: {\n    displayName: 'name',\n    form: false\n  },\n  price: {\n    type: _metaflowJs.IKDataEntity.Types.Float,\n    formConfig: {\n      default: '',\n      overwriteRule: true,\n      rule: [v => /^[0-9]+\\.{0,1}[0-9]{0,2}$/.test(v) || 'Bitte geben Sie den richtigen Preis ein']\n    }\n  },\n  langs: {\n    displayName: 'name',\n    type: _metaflowJs.IKDataEntity.Types.Group,\n    formConfig: {\n      groupName: 'name',\n      default: _GlobalSettings.default.supportLang,\n      childLabelKey: 'lang',\n      type: {}\n    },\n    tableConfig: {\n      displayCondition: item => {\n        return item.lang.toUpperCase() === _GlobalSettings.default.getLang();\n      },\n      displayChild: key => {\n        return key === 'name';\n      }\n    },\n    childKey: ['name', 'desc'],\n    labelKey: 'lang',\n    children: [_StringEntity.default, _StringEntity.default, _StringEntity.default],\n    header: false\n  },\n  printGroupId: {\n    displayName: 'printCatName',\n    type: _metaflowJs.IKDataEntity.Types.Option,\n    formConfig: {\n      default: 1,\n      type: {\n        selectItems: _PrinterGroup.default.getList\n      }\n    }\n  },\n  categoryId: {\n    displayName: 'labelName',\n    type: _metaflowJs.IKDataEntity.Types.Option,\n    formConfig: {\n      type: {\n        selectItems: _Category.default.getList,\n        itemText: '_langsname'\n      }\n    }\n  },\n  AllergenId: {\n    type: _metaflowJs.IKDataEntity.Types.Option,\n    formConfig: {\n      type: {\n        selectItems: _Allergen.default.getList,\n        multiple: true\n      },\n      required: false\n    },\n    displayName: '过敏源'\n  },\n  attributeGroupId: {\n    displayName: 'attributeGroupNames',\n    type: _metaflowJs.IKDataEntity.Types.Option,\n    formConfig: {\n      merge: false,\n      required: false,\n      type: {\n        selectItems: _AttributeGroup.default.getList,\n        multiple: true,\n        disabledItem: (item, editedItem) => {\n          if (editedItem.inheritAttributeGroupId) {\n            return _objectSpread(_objectSpread({}, item), {}, {\n              disabled: editedItem.inheritAttributeGroupId.includes(item.id)\n            });\n          } else {\n            return item;\n          }\n        }\n      }\n    }\n  },\n  localAttributeGroupId: {\n    type: _metaflowJs.IKDataEntity.Types.Option,\n    formConfig: {\n      type: {\n        selectItems: _AttributeGroup.default.getList,\n        multiple: true\n      },\n      inNew: false,\n      inEdit: false\n    },\n    header: false\n  },\n  inheritAttributeGroupId: {\n    displayName: 'AttributeGroupName',\n    type: _metaflowJs.IKDataEntity.Types.Option,\n    formConfig: {\n      type: {\n        selectItems: _AttributeGroup.default.getList,\n        multiple: true\n      },\n      inNew: false,\n      inEdit: false\n    },\n    header: false\n  },\n  dishWeight: {\n    displayName: 'DishWeight',\n    type: _metaflowJs.IKDataEntity.Types.Integer,\n    formConfig: {\n      default: 1,\n      required: false,\n      rule: [// ^-[1-9]\\d*$\n      v => /^[0-9]\\d*$/.test(v) || 'Bitte geben Sie die ganze Zahl ein']\n    }\n  },\n  isActive: {\n    type: _metaflowJs.IKDataEntity.Types.Boolean,\n    displayName: 'isActive',\n    formConfig: {\n      default: 1,\n      required: false\n    }\n  },\n  dishAlias: {\n    required: false,\n    formConfig: {\n      requiredNew: false,\n      requiredEdit: false\n    }\n  },\n  printText: {\n    displayName: 'printTitle',\n    required: false,\n    formConfig: {\n      requiredNew: false,\n      requiredEdit: false\n    }\n  }\n};\nvar config = {\n  add: function add(item) {\n    item.attributeGroup = item.attributeGroupId.filter(i => !item.inheritAttributeGroupId.includes(i)).join(',');\n    item.allergenGroup = item.AllergenId.join(',');\n    return _hillo.default.postWithUploadFile('Dishes.php?op=add', _objectSpread(_objectSpread({}, item), {}, {\n      params: JSON.stringify(item)\n    }), {\n      showLoading: true\n    });\n  },\n  edit: function edit(item) {\n    item.attributeGroup = item.attributeGroupId.filter(i => !item.inheritAttributeGroupId.includes(i)).join(',');\n    item.allergenGroup = item.AllergenId.join(',');\n\n    if (item.file) {\n      item.imageExt = item.file.name.split('.')[1];\n    }\n\n    return _hillo.default.postWithUploadFile('Dishes.php?op=update', _objectSpread(_objectSpread({}, item), {}, {\n      params: JSON.stringify(item)\n    }), {\n      showLoading: true\n    });\n  },\n  remove: function remove(id) {\n    return _hillo.default.post('Dishes.php?op=delete', {\n      id: id\n    });\n  },\n  load: function () {\n    var _load = _asyncToGenerator(function* (filter) {\n      return (yield _hillo.default.get('Dishes.php', _objectSpread({\n        lang: _GlobalSettings.default.getLang()\n      }, filter))).content.map(function (item) {\n        item.id = item.dishId;\n        item.attributeGroupId = [item.inheritAttributeGroupId ? item.inheritAttributeGroupId.split(',') : [], item.localAttributeGroupId ? item.localAttributeGroupId.split(',') : []].flat().join(',');\n        item.langs = item.langs.map(i => {\n          return _objectSpread(_objectSpread({}, i), {}, {\n            desc: i.description\n          });\n        });\n        return item;\n      });\n    });\n\n    function load(_x) {\n      return _load.apply(this, arguments);\n    }\n\n    return load;\n  }()\n};\n\nvar DishModel = _metaflowJs.IKDataEntity.ModelFactory(entity, config);\n\nDishModel.getBuffet = /*#__PURE__*/_asyncToGenerator(function* () {\n  return (yield DishModel.getList()).filter(i => i.dishesCategoryTypeId === '8');\n});\nvar _default = DishModel;\nexports.default = _default;","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SalesInsight.vue?vue&type=style&index=0&lang=css&\"","import { IKDataEntity } from 'metaflow-js'\nimport hillo from 'hillo'\nimport CategoryType from './CategoryType'\nimport StringEntity from './StringEntity'\nimport GlobalSettings from '@/GlobalSettings'\nimport IKUtils from 'innerken-js-utils'\nimport store from '../store'\nimport AttributeGroup from './AttributeGroup'\n\nconst i = Boolean(GlobalSettings.isShowOnTable === '0')\n\nconst colorList = ['#FFCDD2', '#F8BBD0', '#E1BEE7',\n  '#D1C4E9', '#C5CAE9', '#BBDEFB',\n  '#B3E5FC', '#B2EBF2', '#B2DFDB',\n  '#C8E6C9', '#DCEDC8', '#F0F4C3',\n  '#FFF9C4', '#FFECB3', '#FFE0B2',\n  '#FFCCBC', '#D7CCC8', '#CFD8DC']\n\nconst entity = {\n  id: {\n    type: IKDataEntity.Types.Integer,\n    form: false,\n    table: false,\n  },\n  color: {\n    type: IKDataEntity.Types.Color,\n    formConfig: {\n      required: false,\n    },\n  },\n  dcImage: {\n    type: IKDataEntity.Types.Image,\n    formConfig: {\n      required: false,\n      type: {\n        root: () => store.getters.rootUrl + GlobalSettings.dcImageRoot,\n      },\n    },\n    displayName: 'image',\n    header: i,\n  },\n  attributeGroupId: {\n    displayName: 'attributeGroupNames',\n    type: IKDataEntity.Types.Option,\n    tableConfig: {\n      width: '100px',\n    },\n    formConfig: {\n      required: false,\n      type: {\n        selectItems: AttributeGroup.getList,\n        multiple: true,\n      },\n    },\n  },\n  _langsname: {\n    displayName: 'KategorieName',\n    form: false,\n  },\n  langs: {\n    displayName: 'labelName',\n    type: IKDataEntity.Types.Group,\n    formConfig: {\n      groupName: 'labelName',\n      default: GlobalSettings.supportLang,\n      childLabelKey: 'lang',\n      type: {},\n    },\n    tableConfig: {\n      displayCondition: (item) => {\n        return item.lang.toUpperCase() === GlobalSettings.getLang().toUpperCase()\n      },\n      displayChild: (key) => {\n        console.log(key)\n        return key === 'name'\n      },\n    },\n    childKey: ['name', 'desc'],\n    labelKey: 'lang',\n    children: [\n      StringEntity, StringEntity, StringEntity,\n    ],\n    header: false,\n  },\n  dishesCategoryTypeId: {\n    displayName: 'warengruppe',\n    type: IKDataEntity.Types.Option,\n    formConfig: {\n      type: {\n        selectItems: CategoryType.getList,\n      },\n    },\n  },\n\n  printOrder: {\n    type: IKDataEntity.Types.Integer,\n    required: false,\n    formConfig: {\n      default: 50,\n      requiredNew: false,\n      requiredEdit: false,\n      rule: [ // ^-[1-9]\\d*$\n        v => /^[0-9]\\d*$/.test(v) || 'Bitte geben Sie die ganze Zahl ein',\n      ],\n    },\n  },\n  categorySort: {\n    type: IKDataEntity.Types.Integer,\n    displayName: 'sectionSort',\n    formConfig: {\n      required: true,\n    },\n  },\n\n}\n\nconst config = {\n\n  add: function (item) {\n    item.appliedAttributeGroup = item.attributeGroupId.join(',')\n    item.catTypeId = item.dishesCategoryTypeId\n    return hillo.post('Category.php?op=add', {\n      ...item,\n      langs: JSON.stringify(item.langs),\n    }, {\n      showLoading: true,\n    })\n  },\n  edit: function (item) {\n    item.appliedAttributeGroup = item.attributeGroupId.join(',')\n    item.catTypeId = item.dishesCategoryTypeId\n\n    console.log('label-manage: item()', item)\n    return hillo.postWithUploadFile('Category.php?op=update', {\n      ...item,\n      langs: JSON.stringify(item.langs),\n    }, {\n      showLoading: true,\n    })\n  },\n  remove: function (id) {\n    return hillo.post('Category.php?op=delete', { id: id })\n  },\n  load: async function (filter) {\n    const response = (await hillo.get('Category.php', filter)).content\n    console.log(response, 'cate response')\n    return response\n  },\n  randomColor: async function (list) {\n    IKUtils.showLoading(true)\n    for (const item of list) {\n      item.appliedAttributeGroup = item.attributeGroupId.join(',')\n      item.catTypeId = item.dishesCategoryTypeId\n\n      item.color = colorList[Math.round(Math.random() * 18)]\n\n      await hillo.postWithUploadFile('Category.php?op=update', {\n        ...item,\n        langs: JSON.stringify(item.langs),\n      }, {\n        showLoading: false,\n      })\n    }\n    IKUtils.toast('OK')\n  },\n\n  removeAllColor: async function (list) {\n    IKUtils.showLoading(true)\n    for (const item of list) {\n      item.appliedAttributeGroup = item.attributeGroupId.join(',')\n      item.catTypeId = item.dishesCategoryTypeId\n      item.color = '#FFFFFF'\n      await hillo.postWithUploadFile('Category.php?op=update', {\n        ...item,\n        langs: JSON.stringify(item.langs),\n      }, {\n        showLoading: false,\n      })\n    }\n    IKUtils.toast('OK')\n  },\n\n  removeCategoryImage: async function (categoryId) {\n    await hillo.post('Category.php?op=removeCategoryImage', {\n      ...categoryId,\n    }, {\n      showLoading: true,\n    })\n  },\n\n}\n\n// export default IKDataEntity.ModelFactory(entity, config)\nexport const res = IKDataEntity.ModelFactory(entity, config)\nconsole.log('Category', res)\nexport default res\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.calculatePriceWithDiscount = calculatePriceWithDiscount;\nexports.calculateDiscountPrice = calculateDiscountPrice;\nexports.calculateDiscountMod = calculateDiscountMod;\nexports.StandardDishesListFactory = StandardDishesListFactory;\nexports.getDishesInfo = getDishesInfo;\nexports.getDishes = getDishes;\n\nvar _Dish = _interopRequireDefault(require(\"./Dish\"));\n\nvar _CategoryType = _interopRequireDefault(require(\"./CategoryType\"));\n\nvar _Category = _interopRequireDefault(require(\"./Category\"));\n\nvar _innerkenJsUtils = _interopRequireDefault(require(\"innerken-js-utils\"));\n\nvar _hillo = _interopRequireDefault(require(\"hillo\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar defaultDish = {\n  // basicInfo*/\n  note: '',\n  apply: [],\n  modShow: false,\n  forceFormat: false\n};\n\nfunction formatApplyInfo(dish) {\n  var _dish$apply, _dish$agName;\n\n  var displayApply = [];\n\n  if (!(dish.apply || dish.agName)) {\n    return displayApply;\n  }\n\n  if ((dish === null || dish === void 0 ? void 0 : (_dish$apply = dish.apply) === null || _dish$apply === void 0 ? void 0 : _dish$apply.length) > 0) {\n    dish.apply.forEach(mod => {\n      var modInfo = dish.modInfo.find(i => i.id === mod.groupId);\n      var groupName = modInfo.name;\n      var item = [mod.selectId].flat().reduce((arr, id) => {\n        if (!id) {\n          return arr;\n        }\n\n        var index = modInfo.selectValue.indexOf(id);\n        var value = \"\".concat(modInfo.selectName[index]);\n        var priceInfo = modInfo.priceInfo[index];\n        arr.push({\n          groupName,\n          value,\n          priceInfo,\n          hash: groupName + ':' + value + 'p' + priceInfo\n        });\n        return arr;\n      }, []);\n      displayApply = displayApply.concat(item);\n    });\n  } else if ((dish === null || dish === void 0 ? void 0 : (_dish$agName = dish.agName) === null || _dish$agName === void 0 ? void 0 : _dish$agName.length) > 0) {\n    [dish.agNameArr, dish.aNameArr, dish.priceInfoArr, dish.agIdArr, dish.aIdArr] = [dish.agName, dish.aName, dish.priceInfo, dish.agId, dish.aId].map(i => i.split(','));\n    dish.agNameArr.forEach((ag, i) => {\n      displayApply.push({\n        agId: dish.agIdArr[i],\n        aId: dish.aIdArr[i],\n        groupName: ag,\n        value: dish.aNameArr[i],\n        priceInfo: dish.priceInfoArr[i],\n        hash: ag + ':' + dish.aNameArr[i] + 'p' + dish.priceInfoArr[i] + 'g' + dish.agIdArr[i]\n      });\n    });\n  }\n\n  return displayApply;\n}\n\nfunction getAddPrice(dish) {\n  var price = 0;\n  dish.displayApply.forEach(ap => {\n    var _ap$priceInfo;\n\n    price += parseFloat((_ap$priceInfo = ap.priceInfo) !== null && _ap$priceInfo !== void 0 ? _ap$priceInfo : 0);\n  });\n  return price;\n}\n\nfunction buildApplyString(applyArr) {\n  return applyArr.reduce((arr, i) => {\n    arr.push(i.hash);\n    return arr;\n  }, []).join('/');\n}\n\nfunction dishIdentity(code, apply, note, tempDiscountStr, price, currentName, overrideConsumeTypeId) {\n  return code + '&' + buildApplyString(apply) + '-&-' + note + '-&-' + tempDiscountStr + '-&-' + price + '-&' + currentName + '-&' + overrideConsumeTypeId;\n}\n\nfunction processApplyInfo(dish) {\n  var _dish$note, _ref, _dish$originPrice, _dish$tempDiscountMod, _dish$price, _dish$currentName, _dish$overrideConsume;\n\n  dish.note = (_dish$note = dish.note) !== null && _dish$note !== void 0 ? _dish$note : '';\n  dish.displayApply = formatApplyInfo(dish);\n  dish.addPrice = getAddPrice(dish);\n  dish.originPrice = parseFloat(parseFloat(dish.price) === 0 ? 0 : (_ref = (_dish$originPrice = dish.originPrice) !== null && _dish$originPrice !== void 0 ? _dish$originPrice : dish.price) !== null && _ref !== void 0 ? _ref : 0);\n  dish.realPrice = parseFloat(dish.originPrice) + parseFloat(dish.addPrice) + parseFloat((_dish$tempDiscountMod = dish.tempDiscountMod) !== null && _dish$tempDiscountMod !== void 0 ? _dish$tempDiscountMod : 0);\n\n  if (dish.code.includes('ea')) {\n    dish.realPrice = dish.price;\n  }\n\n  dish.identity = dishIdentity(dish.code, dish.displayApply, dish.note, dish.tempDiscountStr, (_dish$price = dish.price) !== null && _dish$price !== void 0 ? _dish$price : dish.realPrice, (_dish$currentName = dish.currentName) !== null && _dish$currentName !== void 0 ? _dish$currentName : '', (_dish$overrideConsume = dish.overrideConsumeTypeId) !== null && _dish$overrideConsume !== void 0 ? _dish$overrideConsume : '');\n}\n\nfunction calculatePriceWithDiscount(price, discountStr) {\n  var {\n    timesMod,\n    minusMod\n  } = calculateDiscountMod(discountStr);\n  return parseFloat(price) * timesMod - minusMod;\n}\n\nfunction calculateDiscountPrice(price, discountStr) {\n  var {\n    timesMod,\n    minusMod\n  } = calculateDiscountMod(discountStr);\n  return parseFloat(price) - (parseFloat(price) * timesMod - minusMod);\n}\n\nfunction calculateDiscountMod(discountStr) {\n  var timesMod = 1;\n  var minusMod = 0;\n  var discountPattern = /^([0-9]+(\\.[0-9]+)?)?((p)+([kg])?)?$/;\n\n  var finish = () => {\n    return {\n      minusMod,\n      timesMod\n    };\n  };\n\n  if (!discountPattern.test(discountStr)) {\n    return finish();\n  }\n\n  if (discountStr.endsWith('p')) {\n    timesMod = 1 - parseFloat(discountStr.slice(0, -1)) * 0.01;\n  } else {\n    minusMod = parseFloat(discountStr);\n  }\n\n  return finish();\n}\n\nfunction StandardDishesListFactory() {\n  var list = [];\n  var dishDictionary = {}; // code as key\n\n  var orderDictionary = {}; // identity as key\n\n  var counter = 0;\n\n  var addDishToList = function addDishToList(dish, count) {\n    var newDish = _innerkenJsUtils.default.deepCopy(dish);\n\n    newDish.count = count !== null && count !== void 0 ? count : dish.count;\n    newDish.sumCount = newDish.count; // TODO: 兼容性同步，将移除\n\n    newDish.hash = counter;\n    processApplyInfo(newDish);\n    counter++;\n    orderDictionary[newDish.identity] = newDish;\n\n    newDish.change = function (count) {\n      changeNumber(newDish, count);\n    };\n\n    list.push(newDish);\n  };\n\n  function setDishList() {\n    var dishList = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    if ((dishList === null || dishList === void 0 ? void 0 : dishList.length) > 0) {\n      Object.assign(dishDictionary, dishList.reduce((obj, i) => {\n        obj[i.code] = i;\n        return obj;\n      }, {}));\n    }\n  }\n\n  function preProcessDishNoCopy(rawDish) {\n    return preProcessDish(rawDish, false);\n  }\n\n  function preProcessDish(rawDish) {\n    var _ref2, _dish$count, _ref3, _ref4, _dish$name;\n\n    var copy = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var dish = copy ? _innerkenJsUtils.default.deepCopy(rawDish) : rawDish;\n    dish.count = parseInt((_ref2 = (_dish$count = dish.count) !== null && _dish$count !== void 0 ? _dish$count : dish.sumCount) !== null && _ref2 !== void 0 ? _ref2 : 0);\n    dish.name = (_ref3 = (_ref4 = (_dish$name = dish.name) !== null && _dish$name !== void 0 ? _dish$name : dish.dishName) !== null && _ref4 !== void 0 ? _ref4 : dish._langsname) !== null && _ref3 !== void 0 ? _ref3 : dish.currentName;\n\n    if (dish.code.toLowerCase().includes('ea')) {\n      dish.name = dish.currentName;\n    }\n\n    processApplyInfo(dish);\n    dish.wellFormat = true;\n    return Object.assign({}, defaultDish, dish);\n  }\n\n  function getDishList() {\n    return Object.keys(dishDictionary).reduce((arr, k) => {\n      arr.push(dishDictionary[k]);\n      return arr;\n    }, []);\n  }\n\n  var changeNumber = function changeNumber(dish, count) {\n    var dicDish = dishDictionary[dish.code];\n\n    if (dicDish) {\n      if (parseInt(dicDish.count) + parseInt(count) > 0) {\n        dicDish.count += count;\n      } else {\n        dicDish.count = 0;\n      }\n    }\n\n    if (!dish.wellFormat || dish.forceFormat) {\n      dish.forceFormat = false;\n      dish = preProcessDish(dish);\n    }\n\n    var listDish = orderDictionary[dish.identity];\n\n    if (listDish) {\n      // we found a dish in the list\n      if (listDish.count + count > 0) {\n        listDish.count += count;\n        listDish.sumCount = listDish.count;\n      } else {\n        list.splice(list.indexOf(listDish), 1);\n        delete orderDictionary[dish.identity];\n      }\n    } else {\n      // we found no dish in the list\n      if (count >= 0 || dish.count >= 0) {\n        addDishToList(dish, count);\n      }\n    }\n  };\n\n  var formatList = function formatList(list) {\n    return list.map(preProcessDishNoCopy);\n  };\n\n  var add = function add(dish, count) {\n    changeNumber(dish, count);\n  };\n\n  var remove = function remove(dish, count) {\n    changeNumber(dish, count);\n  };\n\n  var total = function total() {\n    return list.reduce((t, d) => {\n      return t + parseFloat(d.realPrice * d.count);\n    }, 0);\n  };\n\n  var count = function count() {\n    return parseInt(list.reduce((t, d) => {\n      return t + parseInt(d.count);\n    }, 0));\n  };\n\n  var loadTTDishList = function loadTTDishList(ttDishList) {\n    loadList(ttDishList);\n  };\n\n  var loadList = function loadList(_list) {\n    clear();\n\n    for (var d of _list) {\n      add(d);\n    }\n  };\n\n  var clear = function clear() {\n    for (var k of Object.keys(dishDictionary)) {\n      dishDictionary[k].count = 0;\n    }\n\n    for (var _k of Object.keys(orderDictionary)) {\n      delete orderDictionary[_k];\n    }\n\n    list.splice(0, list.length);\n  };\n\n  return {\n    orderDictionary,\n    setDishList,\n    dishDictionary,\n    list,\n    getDishList,\n    add,\n    remove,\n    total,\n    count,\n    loadTTDishList,\n    formatList,\n    loadList,\n    clear\n  };\n}\n/* Dishes Information */\n\n\nvar DCT = [];\nvar Category = [];\nvar Dishes = [];\nvar ParsedDCTInfo = [];\n\nfunction rearrangeDish(categories, dishes, dct) {\n  categories = categories.map(c => {\n    c.dishes = dishes.filter(d => parseInt(d.categoryId) === parseInt(c.id)).map(d => {\n      d.count = 0;\n      d.note = '';\n      return d;\n    });\n    return c;\n  }).filter(c => c.dishes.length > 0);\n  return dct.map(_dct => {\n    _dct.categories = categories.filter(c => parseInt(_dct.id) === parseInt(c.dishesCategoryTypeId));\n    return _dct;\n  }).sort((a, b) => {\n    if (parseInt(b.id) === 9) {\n      return -1;\n    }\n\n    if (parseInt(a.id) === 9) {\n      return 1;\n    }\n\n    if (parseInt(a.id) < parseInt(b.id)) {\n      return -1;\n    }\n\n    if (parseInt(a.id) > parseInt(b.id)) {\n      return 1;\n    }\n\n    return 0;\n  });\n}\n\nvar Manger = StandardDishesListFactory();\n\nfunction getDishesInfo() {\n  return _getDishesInfo.apply(this, arguments);\n}\n\nfunction _getDishesInfo() {\n  _getDishesInfo = _asyncToGenerator(function* () {\n    var consumeTypeId = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var lang = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'DE';\n\n    if (ParsedDCTInfo.length === 0) {\n      [Dishes, Category, DCT] = yield Promise.all([getDishes(), _Category.default.getList(), _CategoryType.default.getList()]);\n\n      if (consumeTypeId !== false) {\n        Category = (yield _hillo.default.get('Category.php?op=withConsumeType', {\n          lang,\n          consumeTypeId\n        })).content;\n      }\n\n      ParsedDCTInfo = rearrangeDish(Category, Dishes, DCT);\n    }\n\n    return ParsedDCTInfo;\n  });\n  return _getDishesInfo.apply(this, arguments);\n}\n\nfunction getDishes() {\n  return _getDishes.apply(this, arguments);\n}\n\nfunction _getDishes() {\n  _getDishes = _asyncToGenerator(function* () {\n    if (Dishes.length === 0) {\n      Dishes = Manger.formatList(yield _Dish.default.getList());\n    }\n\n    return Dishes;\n  });\n  return _getDishes.apply(this, arguments);\n}","import { IKDataEntity } from 'metaflow-js'\nimport hillo from 'hillo'\n\nconst entity = {\n  id: {\n    type: IKDataEntity.Types.Integer,\n    displayName: 'id',\n    tableConfig: {\n      align: 'start',\n    },\n    form: false,\n  },\n  name: {\n    displayName: 'sectionName',\n  },\n  isSingleLinePrint: {\n    type: IKDataEntity.Types.Boolean,\n    displayName: 'isSingleLinePrint',\n  },\n  isSingleOrderPrint: {\n    type: IKDataEntity.Types.Boolean,\n    displayName: 'isSingleOrderPrint',\n  },\n  upsideDown: {\n    type: IKDataEntity.Types.Boolean,\n  },\n  printerCount: {\n    displayName: 'printerCount',\n    formConfig: {\n      inEdit: false,\n      inNew: false,\n    },\n  },\n  defaultRetryCount: {\n    formConfig: {\n      default: '0',\n    },\n  },\n  totalDishesCount: {\n    formConfig: {\n      inEdit: false,\n      inNew: false,\n    },\n  },\n}\nconst config = {\n  load: async function (filter) {\n    const res = (await hillo.get('Printer.php', {\n      op: 'showPrinterGroups',\n      ...filter,\n    }))\n      .content\n\n    console.log('printer', res)\n    return res\n  },\n  add: function (item) {\n    return hillo.postWithUploadFile('Printer.php?op=addPrinterGroups', item, {\n      showLoading: true,\n    })\n  },\n  edit: function (item) {\n    return hillo.postWithUploadFile('Printer.php?op=updatePrinterGroups', item, {\n      showLoading: true,\n    })\n  },\n  remove: function (id) {\n    return hillo.post('Printer.php?op=deletePrinterGroup', { id: id })\n  },\n}\n\nexport default IKDataEntity.ModelFactory(entity, config)\n","import { IKDataEntity } from 'metaflow-js'\nimport hillo from 'hillo'\n\nconst entity = {\n  id: {\n    type: IKDataEntity.Types.Integer,\n    displayName: 'id',\n    tableConfig: {\n      align: 'start',\n    },\n    form: false,\n  },\n  name: {\n    displayName: 'allergName',\n  },\n  icon: {\n    displayName: 'icon',\n  },\n  shortName: {\n    displayName: 'shortName',\n  },\n  displayText: {\n    displayName: 'displayText',\n  },\n}\nconst config = {\n  add: function (item) {\n    return hillo.postWithUploadFile('Dishes.php?op=addAllergen', item, {\n      showLoading: true,\n    })\n  },\n  edit: function (item) {\n    return hillo.postWithUploadFile('Dishes.php?op=updateAllergen', item, {\n      showLoading: true,\n    })\n  },\n  remove: function (id) {\n    return hillo.post('Dishes.php?op=deleteAllergen', { id: id })\n  },\n  load: async function (filter) {\n    return (await hillo.get('Dishes.php', {\n      op: 'showAllAllergen',\n      ...filter,\n    }))\n      .content\n  },\n}\n\nexport default IKDataEntity.ModelFactory(entity, config)\n","// Styles\nimport './VToolbar.sass'\n\n// Extensions\nimport VSheet from '../VSheet/VSheet'\n\n// Components\nimport VImg, { srcObject } from '../VImg/VImg'\n\n// Utilities\nimport { convertToUnit, getSlot } from '../../util/helpers'\nimport { breaking } from '../../util/console'\n\n// Types\nimport { VNode, PropType } from 'vue'\n\n/* @vue/component */\nexport default VSheet.extend({\n  name: 'v-toolbar',\n\n  props: {\n    absolute: Boolean,\n    bottom: Boolean,\n    collapse: Boolean,\n    dense: Boolean,\n    extended: Boolean,\n    extensionHeight: {\n      default: 48,\n      type: [Number, String],\n    },\n    flat: Boolean,\n    floating: Boolean,\n    prominent: Boolean,\n    short: Boolean,\n    src: {\n      type: [String, Object] as PropType<string | srcObject>,\n      default: '',\n    },\n    tag: {\n      type: String,\n      default: 'header',\n    },\n  },\n\n  data: () => ({\n    isExtended: false,\n  }),\n\n  computed: {\n    computedHeight (): number {\n      const height = this.computedContentHeight\n\n      if (!this.isExtended) return height\n\n      const extensionHeight = parseInt(this.extensionHeight)\n\n      return this.isCollapsed\n        ? height\n        : height + (!isNaN(extensionHeight) ? extensionHeight : 0)\n    },\n    computedContentHeight (): number {\n      if (this.height) return parseInt(this.height)\n      if (this.isProminent && this.dense) return 96\n      if (this.isProminent && this.short) return 112\n      if (this.isProminent) return 128\n      if (this.dense) return 48\n      if (this.short || this.$vuetify.breakpoint.smAndDown) return 56\n      return 64\n    },\n    classes (): object {\n      return {\n        ...VSheet.options.computed.classes.call(this),\n        'v-toolbar': true,\n        'v-toolbar--absolute': this.absolute,\n        'v-toolbar--bottom': this.bottom,\n        'v-toolbar--collapse': this.collapse,\n        'v-toolbar--collapsed': this.isCollapsed,\n        'v-toolbar--dense': this.dense,\n        'v-toolbar--extended': this.isExtended,\n        'v-toolbar--flat': this.flat,\n        'v-toolbar--floating': this.floating,\n        'v-toolbar--prominent': this.isProminent,\n      }\n    },\n    isCollapsed (): boolean {\n      return this.collapse\n    },\n    isProminent (): boolean {\n      return this.prominent\n    },\n    styles (): object {\n      return {\n        ...this.measurableStyles,\n        height: convertToUnit(this.computedHeight),\n      }\n    },\n  },\n\n  created () {\n    const breakingProps = [\n      ['app', '<v-app-bar app>'],\n      ['manual-scroll', '<v-app-bar :value=\"false\">'],\n      ['clipped-left', '<v-app-bar clipped-left>'],\n      ['clipped-right', '<v-app-bar clipped-right>'],\n      ['inverted-scroll', '<v-app-bar inverted-scroll>'],\n      ['scroll-off-screen', '<v-app-bar scroll-off-screen>'],\n      ['scroll-target', '<v-app-bar scroll-target>'],\n      ['scroll-threshold', '<v-app-bar scroll-threshold>'],\n      ['card', '<v-app-bar flat>'],\n    ]\n\n    /* istanbul ignore next */\n    breakingProps.forEach(([original, replacement]) => {\n      if (this.$attrs.hasOwnProperty(original)) breaking(original, replacement, this)\n    })\n  },\n\n  methods: {\n    genBackground () {\n      const props = {\n        height: convertToUnit(this.computedHeight),\n        src: this.src,\n      }\n\n      const image = this.$scopedSlots.img\n        ? this.$scopedSlots.img({ props })\n        : this.$createElement(VImg, { props })\n\n      return this.$createElement('div', {\n        staticClass: 'v-toolbar__image',\n      }, [image])\n    },\n    genContent () {\n      return this.$createElement('div', {\n        staticClass: 'v-toolbar__content',\n        style: {\n          height: convertToUnit(this.computedContentHeight),\n        },\n      }, getSlot(this))\n    },\n    genExtension () {\n      return this.$createElement('div', {\n        staticClass: 'v-toolbar__extension',\n        style: {\n          height: convertToUnit(this.extensionHeight),\n        },\n      }, getSlot(this, 'extension'))\n    },\n  },\n\n  render (h): VNode {\n    this.isExtended = this.extended || !!this.$scopedSlots.extension\n\n    const children = [this.genContent()]\n    const data = this.setBackgroundColor(this.color, {\n      class: this.classes,\n      style: this.styles,\n      on: this.$listeners,\n    })\n\n    if (this.isExtended) children.push(this.genExtension())\n    if (this.src || this.$scopedSlots.img) children.unshift(this.genBackground())\n\n    return h(this.tag, data, children)\n  },\n})\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _GlobalSettings = _interopRequireDefault(require(\"./GlobalSettings\"));\n\nvar _metaflowJs = require(\"metaflow-js\");\n\nvar _hillo = _interopRequireDefault(require(\"hillo\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar entity = {\n  id: {\n    type: _metaflowJs.IKDataEntity.Types.Integer,\n    displayName: 'id',\n    tableConfig: {\n      align: 'start'\n    },\n    form: false\n  },\n  name: {},\n  printTitle: {},\n  required: {\n    type: _metaflowJs.IKDataEntity.Types.Boolean\n  },\n  multiSelect: {\n    type: _metaflowJs.IKDataEntity.Types.Boolean\n  },\n  attrubuteCount: {\n    type: _metaflowJs.IKDataEntity.Types.Integer,\n    form: false\n  }\n};\nvar config = {\n  load: function () {\n    var _load = _asyncToGenerator(function* (filter) {\n      return (yield _hillo.default.get('Category.php', _objectSpread({\n        op: 'showAttributeGroup',\n        lang: _GlobalSettings.default.getLang()\n      }, filter))).content;\n    });\n\n    function load(_x) {\n      return _load.apply(this, arguments);\n    }\n\n    return load;\n  }(),\n  add: function add(item) {\n    return _hillo.default.postWithUploadFile('Category.php?op=addAttributeGroup', item, {\n      showLoading: true\n    });\n  },\n  edit: function edit(item) {\n    return _hillo.default.postWithUploadFile('Category.php?op=updateAttributeGroup', item, {\n      showLoading: true\n    });\n  },\n  remove: function remove(id) {\n    return _hillo.default.post('Category.php?op=deleteAttributeGroup', {\n      id: id\n    });\n  }\n};\n\nvar _default = _metaflowJs.IKDataEntity.ModelFactory(entity, config);\n\nexports.default = _default;","import { IKDataEntity } from 'metaflow-js'\n\nconst entity = {\n  id: {\n    type: IKDataEntity.Types.Integer,\n    displayName: 'id',\n    tableConfig: {\n      align: 'start',\n    },\n    formConfig: {\n      requiredNew: false,\n    },\n  },\n  name: {\n    displayName: 'Name',\n  },\n  lang: {},\n  desc: {\n    displayName: 'Beschreibung',\n    formConfig: {\n      required: false,\n    },\n  },\n}\nexport default IKDataEntity.ModelFactory(entity, {})\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _metaflowJs = require(\"metaflow-js\");\n\nvar _hillo = _interopRequireDefault(require(\"hillo\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar entity = {\n  id: {\n    type: _metaflowJs.IKDataEntity.Types.Integer,\n    displayName: 'id',\n    tableConfig: {\n      align: 'start'\n    },\n    form: false\n  },\n  name: {\n    displayName: 'sectionName'\n  },\n  isSingleLinePrint: {\n    type: _metaflowJs.IKDataEntity.Types.Boolean,\n    displayName: 'isSingleLinePrint'\n  },\n  isSingleOrderPrint: {\n    type: _metaflowJs.IKDataEntity.Types.Boolean,\n    displayName: 'isSingleOrderPrint'\n  },\n  printerCount: {\n    displayName: 'printerCount',\n    formConfig: {\n      inEdit: false,\n      inNew: false\n    }\n  },\n  defaultRetryCount: {\n    formConfig: {\n      default: '0'\n    }\n  },\n  totalDishesCount: {\n    formConfig: {\n      inEdit: false,\n      inNew: false\n    }\n  }\n};\nvar config = {\n  load: function () {\n    var _load = _asyncToGenerator(function* (filter) {\n      return (yield _hillo.default.get('Printer.php', _objectSpread({\n        op: 'showPrinterGroups'\n      }, filter))).content;\n    });\n\n    function load(_x) {\n      return _load.apply(this, arguments);\n    }\n\n    return load;\n  }(),\n  add: function add(item) {\n    return _hillo.default.postWithUploadFile('Printer.php?op=addPrinterGroups', item, {\n      showLoading: true\n    });\n  },\n  edit: function edit(item) {\n    return _hillo.default.postWithUploadFile('Printer.php?op=updatePrinterGroups', item, {\n      showLoading: true\n    });\n  },\n  remove: function remove(id) {\n    return _hillo.default.post('Printer.php?op=deletePrinterGroup', {\n      id: id\n    });\n  }\n};\n\nvar _default = _metaflowJs.IKDataEntity.ModelFactory(entity, config);\n\nexports.default = _default;","import GlobalSettings from '@/GlobalSettings'\n\nimport { IKDataEntity } from 'metaflow-js'\nimport hillo from 'hillo'\n\nconst entity = {\n  id: {\n    type: IKDataEntity.Types.Integer,\n    displayName: 'id',\n    tableConfig: {\n      align: 'start',\n    },\n    form: false,\n  },\n  name: {},\n  printTitle: {},\n  required: {\n    type: IKDataEntity.Types.Boolean,\n  },\n  multiSelect: {\n    type: IKDataEntity.Types.Boolean,\n  },\n  attrubuteCount: {\n    type: IKDataEntity.Types.Integer,\n    form: false,\n  },\n}\nconst config = {\n  load: async function (filter) {\n    return (await hillo.get('Category.php', {\n      op: 'showAttributeGroup',\n      lang: GlobalSettings.getLang(),\n      ...filter,\n    }))\n      .content\n  },\n  add: function (item) {\n    return hillo.postWithUploadFile('Category.php?op=addAttributeGroup', item, {\n      showLoading: true,\n    })\n  },\n  edit: function (item) {\n    return hillo.postWithUploadFile('Category.php?op=updateAttributeGroup', item, {\n      showLoading: true,\n    })\n  },\n  remove: function (id) {\n    return hillo.post('Category.php?op=deleteAttributeGroup', { id: id })\n  },\n}\n\nexport default IKDataEntity.ModelFactory(entity, config)\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _metaflowJs = require(\"metaflow-js\");\n\nvar entity = {\n  id: {\n    type: _metaflowJs.IKDataEntity.Types.Integer,\n    displayName: 'id',\n    tableConfig: {\n      align: 'start'\n    },\n    formConfig: {\n      requiredNew: false\n    }\n  },\n  name: {\n    displayName: 'Name'\n  },\n  lang: {},\n  desc: {\n    displayName: 'Beschreibung',\n    formConfig: {\n      required: false\n    }\n  }\n};\n\nvar _default = _metaflowJs.IKDataEntity.ModelFactory(entity, {});\n\nexports.default = _default;","import { IKDataEntity } from 'metaflow-js'\nimport hillo from 'hillo'\nimport GlobalSettings from '@/GlobalSettings'\nimport store from '../store'\nimport Category from './Category'\nimport PrinterGroup from './PrinterGroup'\nimport Allergen from './Allergen'\nimport StringEntity from './StringEntity'\nimport AttributeGroup from './AttributeGroup'\nimport i18n from '../i18n'\n\nconst showImage = Boolean(GlobalSettings.isShowOnTable === '0')\n\nconst entity = {\n  id: {\n    type: IKDataEntity.Types.Integer,\n    displayName: 'id',\n    form: false,\n    header: true,\n  },\n  image: {\n    type: IKDataEntity.Types.Image,\n    formConfig: {\n      type: {\n        root: () => store.getters.rootUrl + GlobalSettings.dishImageRoot,\n      },\n      required: false,\n    },\n    tableConfig: { filterable: false },\n    displayName: 'image',\n    header: showImage,\n  },\n  color: {\n    type: IKDataEntity.Types.Color,\n    formConfig: {\n      required: false,\n    },\n    tableConfig: { filterable: false },\n  },\n  code: {\n    tableConfig: {\n      width: '60px',\n    },\n    header: false,\n  },\n  displayCode: {\n    displayName: 'code',\n    form: false,\n    tableConfig: {},\n  },\n\n  dishName: {\n    displayName: 'name',\n    form: false,\n    tableConfig: {},\n  },\n  price: {\n    type: IKDataEntity.Types.Float,\n    formConfig: {\n      default: '',\n      overwriteRule: true,\n      rule: [\n        v => /^[0-9]+\\.{0,1}[0-9]{0,2}$/.test(v) || 'Bitte geben Sie den richtigen Preis ein',\n      ],\n    },\n  },\n\n  langs: {\n    displayName: 'name',\n    type: IKDataEntity.Types.Group,\n    formConfig: {\n      groupName: 'name',\n      default: GlobalSettings.supportLang,\n      childLabelKey: 'lang',\n      type: {},\n    },\n    tableConfig: {\n      displayCondition: (item) => {\n        return item.lang.toLowerCase() === GlobalSettings.getLang().toLowerCase()\n      },\n      displayChild: (key) => {\n        return key === 'name'\n      },\n    },\n    childKey: ['name', 'desc'],\n    labelKey: 'lang',\n    children: [\n      StringEntity, StringEntity, StringEntity,\n    ],\n    header: false,\n  },\n\n  printGroupId: {\n    displayName: i18n.t('printCatName'),\n    type: IKDataEntity.Types.Option,\n    formConfig: {\n      default: 1,\n      type: {\n        selectItems: PrinterGroup.getList,\n      },\n    },\n  },\n  extraPrintGroupIds: {\n    displayName: i18n.t('extraPrintGroup'),\n    type: IKDataEntity.Types.Option,\n    formConfig: {\n      type: {\n        multiple: true,\n        selectItems: PrinterGroup.getList,\n      },\n      required: false,\n    },\n    header: false,\n  },\n  categoryId: {\n    displayName: '分类',\n    tableConfig: { filterable: false },\n    type: IKDataEntity.Types.Option,\n    formConfig: {\n      type: {\n        selectItems: Category.getList,\n        itemText: '_langsname',\n      },\n    },\n  },\n  AllergenId: {\n    displayName: i18n.t('过敏源'),\n    type: IKDataEntity.Types.Option,\n    formConfig: {\n      type: {\n        selectItems: Allergen.getList,\n        multiple: true,\n      },\n      required: false,\n    },\n    header: false,\n  },\n  attributeGroupId: {\n    displayName: i18n.t('attributeGroupNames'),\n    type: IKDataEntity.Types.Option,\n    formConfig: {\n      merge: false,\n      required: false,\n      type: {\n        selectItems: AttributeGroup.getList,\n        multiple: true,\n        disabledItem: (item, editedItem) => {\n          if (editedItem.inheritAttributeGroupId) {\n            return ({\n              ...item,\n              disabled: editedItem.inheritAttributeGroupId.includes(item.id),\n            })\n          } else {\n            return item\n          }\n        },\n      },\n    },\n    header: false,\n  },\n  localAttributeGroupId: {\n    type: IKDataEntity.Types.Option,\n    formConfig: {\n      type: {\n        selectItems: AttributeGroup.getList,\n        multiple: true,\n      },\n    },\n    form: false,\n    header: false,\n  },\n\n  inheritAttributeGroupId: {\n    displayName: 'AttributeGroupName',\n    type: IKDataEntity.Types.Option,\n    formConfig: {\n      type: {\n        selectItems: AttributeGroup.getList,\n        multiple: true,\n      },\n    },\n    form: false,\n    header: false,\n  },\n  dishWeight: {\n    displayName: 'DishWeight',\n    type: IKDataEntity.Types.Integer,\n    formConfig: {\n      default: 1,\n      required: false,\n      rule: [\n        v => /^[0-9]\\d*$/.test(v) || 'Bitte geben Sie die ganze Zahl ein',\n      ],\n    },\n    header: false,\n  },\n  isActive: {\n    type: IKDataEntity.Types.Boolean,\n    displayName: 'isActive',\n    formConfig: {\n      default: 1,\n      required: false,\n    },\n  },\n  dishAlias: {\n    required: false,\n    formConfig: {\n      requiredNew: false,\n      requiredEdit: false,\n    },\n    header: false,\n  },\n\n}\nconst config = {\n\n  load: async function (filter) {\n    // const allPfands = await Pfand.getList()\n    // console.log('allPfands', allPfands)\n\n    return (await hillo.get('Dishes.php', {\n      lang: GlobalSettings.getLang(),\n      onlyActive: 0,\n      ...filter,\n    }))\n      .content.map(function (item) {\n        item.displayCode = item.code.length > 5 ? item.code.slice(0, 5) + '...' : item.code\n        item.id = item.dishId\n        item.attributeGroupId = [\n          item.inheritAttributeGroupId ? item.inheritAttributeGroupId.split(',') : [],\n          item.localAttributeGroupId ? item.localAttributeGroupId.split(',') : [],\n        ].flat().join(',')\n        item.langs = item.langs.map(i => {\n          return {\n            ...i,\n            desc: i.description,\n          }\n        })\n        return item\n      })\n  },\n\n  multipleAdd: function (item) {\n    return hillo.postWithUploadFile('Dishes.php?op=add', {\n      ...item,\n      params: JSON.stringify(item),\n    }, { showLoading: false })\n  },\n  add: function (item) {\n    item.attributeGroup = item.attributeGroupId\n      .filter(i => !item.inheritAttributeGroupId.includes(i)).join(',')\n    item.allergenGroup = item.AllergenId.join(',')\n    console.log(item.extraPrintGroupIds)\n    item.extraPrintGroupIds = item.extraPrintGroupIds?.join ? item.extraPrintGroupIds.join(',') : ''\n\n    return hillo.postWithUploadFile('Dishes.php?op=add', {\n      ...item,\n      params: JSON.stringify(item),\n    }, { showLoading: true })\n  },\n\n  remove: function (id) {\n    return hillo.post('Dishes.php?op=delete', { id: id })\n  },\n  edit: function (item) {\n    item.attributeGroup = item.attributeGroupId\n      .filter(i => !item.inheritAttributeGroupId.includes(i)).join(',')\n    item.allergenGroup = item.AllergenId.join(',')\n    item.extraPrintGroupIds = item.extraPrintGroupIds?.join ? item.extraPrintGroupIds.join(',') : ''\n    if (item.file) {\n      item.imageExt = item.file.name.split('.')[1]\n    }\n    item.isActive = item.isActive ? 1 : 0\n\n    // hillo.postWithUploadFile('Dishes.php?op=flipManyCombination', {\n    //   dishIdComboDishIds: JSON.stringify(item),\n    // })\n\n    return hillo.postWithUploadFile('Dishes.php?op=update', {\n      ...item,\n      params: JSON.stringify(item),\n    }, { showLoading: true })\n  },\n\n}\nconst DishModel = IKDataEntity.ModelFactory(entity, config)\nDishModel.getBuffet = async function () {\n  return (await DishModel.getList()).filter(i => i.dishesCategoryTypeId === '8')\n}\nexport default DishModel\n","import IKUtils from 'innerken-js-utils'\n\nexport default {\n  ...IKUtils,\n}\n","import GlobalSettings from '@/GlobalSettings'\nimport { IKDataEntity } from 'metaflow-js'\nimport hillo from 'hillo'\n\nconst entity = {\n  id: {\n    type: IKDataEntity.Types.Integer,\n    displayName: 'id',\n    tableConfig: {\n      align: 'start',\n    },\n    formConfig: {\n      requiredNew: false,\n    },\n  },\n  name: {},\n  lang: {},\n}\nconst config = {\n  load: async function (filter) {\n    return (await hillo.get('CategoryType.php', {\n      lang: GlobalSettings.getLang(),\n      ...filter,\n    }))\n      .content\n  },\n}\n\nexport default IKDataEntity.ModelFactory(entity, config)\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-card',[_c('v-card-title',[_vm._v(_vm._s(_vm.$t('高级销售分析')))]),_c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-dialog',{ref:\"dialog\",attrs:{\"return-value\":_vm.dates,\"persistent\":\"\",\"width\":\"290px\"},on:{\"update:returnValue\":function($event){_vm.dates=$event},\"update:return-value\":function($event){_vm.dates=$event}},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":_vm.$t('日期筛选'),\"prepend-icon\":\"mdi-calendar\",\"readonly\":\"\"},model:{value:(_vm.dates),callback:function ($$v) {_vm.dates=$$v},expression:\"dates\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.datePickerDialog),callback:function ($$v) {_vm.datePickerDialog=$$v},expression:\"datePickerDialog\"}},[_c('v-date-picker',{attrs:{\"range\":\"\",\"scrollable\":\"\"},model:{value:(_vm.dates),callback:function ($$v) {_vm.dates=$$v},expression:\"dates\"}},[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.datePickerDialog = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$refs.dialog.save(_vm.dates)}}},[_vm._v(\" OK \")])],1)],1)],1),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-dialog',{ref:\"timeDialog\",attrs:{\"return-value\":_vm.hourStart,\"persistent\":\"\",\"width\":\"290px\"},on:{\"update:returnValue\":function($event){_vm.hourStart=$event},\"update:return-value\":function($event){_vm.hourStart=$event}},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":_vm.$t('startTime'),\"prepend-icon\":\"mdi-calendar\",\"readonly\":\"\"},model:{value:(_vm.hourStart),callback:function ($$v) {_vm.hourStart=$$v},expression:\"hourStart\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.timeStartPickerDialog),callback:function ($$v) {_vm.timeStartPickerDialog=$$v},expression:\"timeStartPickerDialog\"}},[_c('v-time-picker',{attrs:{\"range\":\"\",\"scrollable\":\"\"},model:{value:(_vm.hourStart),callback:function ($$v) {_vm.hourStart=$$v},expression:\"hourStart\"}},[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.timeStartPickerDialog = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$refs.timeDialog.save(_vm.hourStart)}}},[_vm._v(\" OK \")])],1)],1)],1),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-dialog',{ref:\"timeEndDialog\",attrs:{\"return-value\":_vm.hourEnd,\"persistent\":\"\",\"width\":\"290px\"},on:{\"update:returnValue\":function($event){_vm.hourEnd=$event},\"update:return-value\":function($event){_vm.hourEnd=$event}},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":_vm.$t('endTime'),\"prepend-icon\":\"mdi-calendar\",\"readonly\":\"\"},model:{value:(_vm.hourEnd),callback:function ($$v) {_vm.hourEnd=$$v},expression:\"hourEnd\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.timeEndPickerDialog),callback:function ($$v) {_vm.timeEndPickerDialog=$$v},expression:\"timeEndPickerDialog\"}},[_c('v-time-picker',{attrs:{\"range\":\"\",\"scrollable\":\"\"},model:{value:(_vm.hourEnd),callback:function ($$v) {_vm.hourEnd=$$v},expression:\"hourEnd\"}},[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.timeEndPickerDialog = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$refs.timeEndDialog.save(_vm.hourEnd)}}},[_vm._v(\" OK \")])],1)],1)],1),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-select',{attrs:{\"label\":_vm.$t('永久隐藏属性'),\"item-text\":\"name\",\"item-value\":\"id\",\"multiple\":\"\",\"clearable\":\"\",\"items\":_vm.realAttributes},on:{\"change\":function($event){return _vm.selectAttributes(_vm.fixedHideAttributes)},\"click:clear\":_vm.clearFixedHideAttribute},model:{value:(_vm.fixedHideAttributes),callback:function ($$v) {_vm.fixedHideAttributes=$$v},expression:\"fixedHideAttributes\"}})],1),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-select',{attrs:{\"label\":_vm.$t('隐藏属性'),\"item-text\":\"name\",\"item-value\":\"id\",\"multiple\":\"\",\"clearable\":\"\",\"items\":_vm.realAttributes},model:{value:(_vm.hideAttributes),callback:function ($$v) {_vm.hideAttributes=$$v},expression:\"hideAttributes\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-select',{attrs:{\"label\":_vm.$t('永久隐藏菜品'),\"item-text\":\"dishName\",\"item-value\":\"dishName\",\"multiple\":\"\",\"clearable\":\"\",\"items\":_vm.allFixedDishesData},on:{\"change\":function($event){return _vm.selectFixedDishes(_vm.fixedHideDishes)},\"click:clear\":_vm.clearFixedHideDishes},model:{value:(_vm.fixedHideDishes),callback:function ($$v) {_vm.fixedHideDishes=$$v},expression:\"fixedHideDishes\"}})],1),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-select',{attrs:{\"label\":_vm.$t('选择菜品(不选即为选择所有菜品)'),\"item-text\":\"dishName\",\"item-value\":\"dishName\",\"multiple\":\"\",\"items\":_vm.allDishData},on:{\"change\":function($event){return _vm.selectDishes(_vm.hideDishes)}},model:{value:(_vm.hideDishes),callback:function ($$v) {_vm.hideDishes=$$v},expression:\"hideDishes\"}})],1),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-btn',{attrs:{\"disabled\":_vm.tableData.length<2,\"x-large\":\"\",\"color\":\"primary\",\"block\":\"\"},on:{\"click\":function($event){_vm.showSalesTable=true}}},[_vm._v(\" \"+_vm._s(_vm.$t('查看分析报告'))+\" \")])],1)],1)],1)],1),_c('v-dialog',{attrs:{\"fullscreen\":\"\",\"scrollable\":\"\"},model:{value:(_vm.showSalesTable),callback:function ($$v) {_vm.showSalesTable=$$v},expression:\"showSalesTable\"}},[_c('v-card',[_c('v-toolbar',{attrs:{\"dense\":\"\",\"dark\":\"\"}},[_c('v-toolbar-title',[_vm._v(\" \"+_vm._s(_vm.$t('销售统计'))+\" \")]),_c('v-spacer'),_c('v-btn',{staticClass:\"mr-4\",on:{\"click\":_vm.print}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\" mdi-printer \")]),_vm._v(\" \"+_vm._s(_vm.$t('打印统计单'))+\" \")],1),_c('v-icon',{on:{\"click\":function($event){_vm.showSalesTable=!_vm.showSalesTable}}},[_vm._v(\" mdi-close \")])],1),_c('v-card-text',[_c('v-data-table',{attrs:{\"fixed-header\":\"\",\"dense\":\"\",\"hide-default-footer\":\"\",\"disable-pagination\":\"\",\"height\":\"calc(100vh - 72px)\",\"item-class\":_vm.computeClass,\"headers\":_vm.headers,\"items\":_vm.tableData,\"items-per-page\":100}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-card>\n      <v-card-title>{{ $t('高级销售分析') }}</v-card-title>\n      <v-container>\n        <v-row>\n          <v-col cols=\"4\">\n            <v-dialog\n              ref=\"dialog\"\n              v-model=\"datePickerDialog\"\n              :return-value.sync=\"dates\"\n              persistent\n              width=\"290px\"\n            >\n              <template v-slot:activator=\"{ on, attrs }\">\n                <v-text-field\n                  v-model=\"dates\"\n                  :label=\"$t('日期筛选')\"\n                  prepend-icon=\"mdi-calendar\"\n                  readonly\n                  v-bind=\"attrs\"\n                  v-on=\"on\"\n                />\n              </template>\n              <v-date-picker\n                v-model=\"dates\"\n                range\n                scrollable\n              >\n                <v-spacer/>\n                <v-btn\n                  text\n                  color=\"primary\"\n                  @click=\"datePickerDialog = false\"\n                >\n                  Cancel\n                </v-btn>\n                <v-btn\n                  text\n                  color=\"primary\"\n                  @click=\"$refs.dialog.save(dates)\"\n                >\n                  OK\n                </v-btn>\n              </v-date-picker>\n            </v-dialog>\n          </v-col>\n          <v-col cols=\"4\">\n            <v-dialog\n              ref=\"timeDialog\"\n              v-model=\"timeStartPickerDialog\"\n              :return-value.sync=\"hourStart\"\n              persistent\n              width=\"290px\"\n            >\n              <template v-slot:activator=\"{ on, attrs }\">\n                <v-text-field\n                  v-model=\"hourStart\"\n                  :label=\"$t('startTime')\"\n                  prepend-icon=\"mdi-calendar\"\n                  readonly\n                  v-bind=\"attrs\"\n                  v-on=\"on\"\n                />\n              </template>\n              <v-time-picker\n                v-model=\"hourStart\"\n                range\n                scrollable\n              >\n                <v-spacer/>\n                <v-btn\n                  text\n                  color=\"primary\"\n                  @click=\"timeStartPickerDialog = false\"\n                >\n                  Cancel\n                </v-btn>\n                <v-btn\n                  text\n                  color=\"primary\"\n                  @click=\"$refs.timeDialog.save(hourStart)\"\n                >\n                  OK\n                </v-btn>\n              </v-time-picker>\n            </v-dialog>\n          </v-col>\n          <v-col cols=\"4\">\n            <v-dialog\n              ref=\"timeEndDialog\"\n              v-model=\"timeEndPickerDialog\"\n              :return-value.sync=\"hourEnd\"\n              persistent\n              width=\"290px\"\n            >\n              <template v-slot:activator=\"{ on, attrs }\">\n                <v-text-field\n                  v-model=\"hourEnd\"\n                  :label=\"$t('endTime')\"\n                  prepend-icon=\"mdi-calendar\"\n                  readonly\n                  v-bind=\"attrs\"\n                  v-on=\"on\"\n                />\n              </template>\n              <v-time-picker\n                v-model=\"hourEnd\"\n                range\n                scrollable\n              >\n                <v-spacer/>\n                <v-btn\n                  text\n                  color=\"primary\"\n                  @click=\"timeEndPickerDialog = false\"\n                >\n                  Cancel\n                </v-btn>\n                <v-btn\n                  text\n                  color=\"primary\"\n                  @click=\"$refs.timeEndDialog.save(hourEnd)\"\n                >\n                  OK\n                </v-btn>\n              </v-time-picker>\n            </v-dialog>\n          </v-col>\n          <v-col cols=\"4\">\n            <v-select\n              v-model=\"fixedHideAttributes\"\n              :label=\"$t('永久隐藏属性')\"\n              item-text=\"name\"\n              item-value=\"id\"\n              multiple\n              clearable\n              :items=\"realAttributes\"\n              @change=\"selectAttributes(fixedHideAttributes)\"\n              @click:clear=\"clearFixedHideAttribute\"\n            />\n          </v-col>\n          <v-col cols=\"4\">\n            <v-select\n              v-model=\"hideAttributes\"\n              :label=\"$t('隐藏属性')\"\n              item-text=\"name\"\n              item-value=\"id\"\n              multiple\n              clearable\n              :items=\"realAttributes\"\n            />\n          </v-col>\n        </v-row>\n        <v-row>\n          <v-col cols=\"4\">\n            <v-select\n              v-model=\"fixedHideDishes\"\n              :label=\"$t('永久隐藏菜品')\"\n              item-text=\"dishName\"\n              item-value=\"dishName\"\n              multiple\n              clearable\n              :items=\"allFixedDishesData\"\n              @change=\"selectFixedDishes(fixedHideDishes)\"\n              @click:clear=\"clearFixedHideDishes\"\n            />\n          </v-col>\n          <v-col cols=\"4\">\n            <v-select\n              v-model=\"hideDishes\"\n              :label=\"$t('选择菜品(不选即为选择所有菜品)')\"\n              item-text=\"dishName\"\n              item-value=\"dishName\"\n              multiple\n              :items=\"allDishData\"\n              @change=\"selectDishes(hideDishes)\"\n            />\n          </v-col>\n          <v-col cols=\"4\">\n            <v-btn\n              :disabled=\"tableData.length<2\"\n              x-large\n              color=\"primary\"\n              block\n              @click=\"showSalesTable=true\"\n            >\n              {{ $t('查看分析报告') }}\n            </v-btn>\n          </v-col>\n        </v-row>\n      </v-container>\n    </v-card>\n    <v-dialog\n      v-model=\"showSalesTable\"\n      fullscreen\n      scrollable\n    >\n      <v-card>\n        <v-toolbar\n          dense\n          dark\n        >\n          <v-toolbar-title>\n            {{ $t('销售统计') }}\n          </v-toolbar-title>\n          <v-spacer/>\n          <v-btn\n            class=\"mr-4\"\n            @click=\"print\"\n          >\n            <v-icon left>\n              mdi-printer\n            </v-icon>\n            {{ $t('打印统计单') }}\n          </v-btn>\n          <v-icon @click=\"showSalesTable=!showSalesTable\">\n            mdi-close\n          </v-icon>\n        </v-toolbar>\n        <v-card-text>\n          <v-data-table\n            fixed-header\n            dense\n            hide-default-footer\n            disable-pagination\n            height=\"calc(100vh - 72px)\"\n            :item-class=\"computeClass\"\n            :headers=\"headers\"\n            :items=\"tableData\"\n            :items-per-page=\"100\"\n          />\n        </v-card-text>\n      </v-card>\n    </v-dialog>\n  </div>\n</template>\n<script>\n  import { PrinterSalesInSightBon, salesInsight } from '../../components/Utlis/api'\n  import { StandardDishesListFactory } from 'aaden-base-model/lib/Models/AadenBase'\n  import Attribute from '../../model/Attribute'\n  import AttributeGroup from '../../model/AttributeGroup'\n  import Dish from '../../model/Dish'\n  import { IKUtils } from 'innerken-js-utils'\n  import { formatDate } from '../../common/common'\n  import Utils from '../../components/Utlis/Utils'\n\n  export default {\n    name: 'SalesInsight',\n    data: function () {\n      return {\n        datePickerDialog: null,\n        timeStartPickerDialog: null,\n        timeEndPickerDialog: null,\n        hourStart: '',\n        hourEnd: '',\n        dates: [],\n        showSalesTable: null,\n        unfilteredData: [],\n        displayData: [],\n        attributeData: [],\n        hideDishes: [],\n        filterDishesData: [],\n        hideAttributes: [],\n        fixedHideAttributes: [],\n        fixedHideDishes: [],\n        mergedGroup: [],\n        allDishData: [],\n        allFixedDishesData: [],\n        fixedHeader: [\n          {\n            text: 'name',\n            value: 'name',\n          },\n          {\n            text: 'price',\n            value: 'price',\n          },\n          {\n            text: 'amount',\n            value: 'amount',\n          },\n        ],\n      }\n    },\n    computed: {\n      headers () {\n        return this.fixedHeader.concat(this.attributeHeader)\n      },\n      realAttributes () {\n        return this.attributeData.reduce((arr, a) => {\n          if (a.childAttributes) {\n            a.childAttributes.forEach(c => arr.push(c))\n          }\n\n          return arr\n        }, [])\n      },\n      attributeHeader () {\n        return this.realAttributes\n          .filter(i => !(this.hideAttributes.includes(i.id) || this.fixedHideAttributes.includes(i.id)))\n          .map(a => {\n            a.text = a.name\n            a.value = 'attr' + a.id\n            return a\n          })\n      },\n      tableData () {\n        const tableData = []\n        const formatDish = (d) => {\n          d.isDish = true\n          d.price = `${d.originPrice} (avg:€${(d.totalPrice / d.totalCount).toFixed(2)})`\n          d.amount = d.totalCount\n          d.groupData.forEach(g => {\n            d['attr' + g.id] = g.count\n          })\n          return d\n        }\n        const formatVariant = (v, i) => {\n          v.name = 'v:' + i\n          v.amount = v.count\n          v.groupData.forEach(g => {\n            v['attr' + g.id] = g.count\n          })\n          return v\n        }\n        if (this.hideDishes.length > 0) {\n          this.filterDishesData.forEach(d => {\n            tableData.push(d)\n            d.variants.forEach((v, i) => {\n              tableData.push(formatVariant(v, i))\n            })\n          })\n        } else {\n          this.displayData.forEach(d => {\n            tableData.push(formatDish(d))\n            d.variants.forEach((v, i) => {\n              tableData.push(formatVariant(v, i))\n            })\n          })\n        }\n        return tableData\n      },\n    },\n    watch: {\n      dates (val) {\n        this.loadSalesData(val)\n      },\n      hourStart (val) {\n        this.loadSalesData(this.dates, val, this.hourEnd)\n      },\n      hourEnd (val) {\n        this.loadSalesData(this.dates, this.hourStart, val)\n      },\n    },\n    async mounted () {\n      await this.loadData()\n    },\n    methods: {\n      clearFixedHideAttribute () {\n        localStorage.removeItem('fixedHideAttribute')\n      },\n      clearFixedHideDishes () {\n        localStorage.removeItem('fixedHideDishes')\n      },\n      selectDishes (hideDishes) {\n        this.filterDishesData = this.displayData.filter(item => (hideDishes.includes(item.name)))\n      },\n      selectFixedDishes (fixedHideDishes) {\n        const fixedHideDishGroups = JSON.stringify(fixedHideDishes)\n        localStorage.setItem('fixedHideDishes', fixedHideDishGroups)\n        this.allDishData = this.allFixedDishesData.filter(item => !(fixedHideDishes.includes(item.dishName)))\n        this.displayData = this.unfilteredData.filter(item => !(fixedHideDishes.includes(item.name)))\n      },\n      selectAttributes (attributeId) {\n        const attributeIds = JSON.stringify(attributeId)\n        localStorage.setItem('fixedHideAttribute', attributeIds)\n      },\n      computeClass (item) {\n        return item.isDish ? 'dishRow normal' : 'normal'\n      },\n      groupElement (childList, childMatchKey) {\n        const on = function (parentList, matchKey) {\n          const _parentList = IKUtils.deepCopy(parentList)\n          const saveIn = function (resultKey) {\n            childList.forEach(c => {\n              const target = _parentList.find(p => c[childMatchKey] === p[matchKey])\n              if (target) {\n                if (!target[resultKey]) {\n                  target[resultKey] = []\n                }\n                target[resultKey].push(c)\n              }\n            })\n            return _parentList\n          }\n          return { saveIn }\n        }\n        return { on }\n      },\n      async getAllAttribute () {\n        return (await Attribute.getList())\n          .filter(a => a.optattributeGroupId.length > 0)\n      },\n      async getAttributeGrouped () {\n        const attributeGroup = await AttributeGroup.getList()\n        const attribute = await this.getAllAttribute()\n        return this.groupElement(attribute, 'attributeGroupId')\n          .on(attributeGroup, 'id').saveIn('childAttributes')\n      },\n      async getSalesInfo (timeSpan, hourStart, hourEnd) {\n        const data = await salesInsight(timeSpan, hourStart, hourEnd)\n        if (data.length === 0) {\n          return []\n        }\n        const dishList = StandardDishesListFactory()\n          .formatList((data).content)\n        const displayList = dishList.reduce((obj, i) => {\n          let dict = obj[i.code]\n          if (!dict) {\n            obj[i.code] = {\n              categoryId: parseInt(i.categoryId),\n              categoryTypeId: parseInt(i.categoryTypeId),\n              code: i.code,\n              // name: i.code + '/' + i.name,\n              name: i.name,\n              totalCount: i.count,\n              originPrice: i.originPrice,\n              totalPrice: i.realPrice * i.count,\n              variants: [],\n            }\n            dict = obj[i.code]\n          } else {\n            dict.totalCount += i.count\n            dict.totalPrice += i.realPrice * i.count\n          }\n          const variant = dict.variants.find(v => v.identity === i.identity)\n          if (variant) {\n            variant.count += i.count\n          } else {\n            dict.variants.push({\n              identity: i.identity,\n              count: parseInt(i.count),\n              displayApply: i.displayApply,\n              price: i.realPrice,\n            })\n          }\n          return obj\n        }, {})\n        return Object.values(displayList).map(u => {\n          u.group = this.groupAttribute(u)\n          return u\n        })\n      },\n      groupAttribute (dish) {\n        // group key\n        dish.groupData = IKUtils.deepCopy(this.realAttributes)\n        dish.variants.forEach(v => {\n          v.groupData = IKUtils.deepCopy(this.realAttributes)\n          v.displayApply.forEach(displayApply => {\n            const child = dish.groupData.find(x => x.id === parseInt(displayApply.aId))\n            const selfChild = v.groupData.find(x => x.id === parseInt(displayApply.aId))\n            if (!child || !selfChild) {\n              return\n            }\n            if (!selfChild.count) {\n              selfChild.count = 0\n            }\n            selfChild.count++\n            if (!child.count) {\n              child.count = 0\n            }\n            child.count++\n          })\n        })\n        return dish.variants.reduce((arr, v) => {\n          v.displayApply.forEach(displayApply => {\n            let group = arr.find(a => a.agId === displayApply.agId)\n            if (!group) {\n              group = {\n                ...displayApply,\n                values: [],\n              }\n              arr.push(group)\n            }\n            const child = group.values.find(x => x.aId === displayApply.aId)\n            if (child) {\n              child.count++\n            } else {\n              group.values.push({\n                ...displayApply,\n                count: 1,\n              })\n            }\n          })\n          return arr\n        }, [])\n      },\n      async loadSalesData (timeSpan, hourStart, hourEnd) {\n        const salesData = await this.getSalesInfo(timeSpan, hourStart, hourEnd)\n        const totalData = salesData.reduce((obj, i) => {\n          obj.totalPrice += i.totalPrice\n          obj.groupData.forEach((g, t) => {\n            if (!g.count) {\n              g.count = 0\n            }\n            g.count += (i.groupData[t].count ?? 0)\n          })\n          obj.totalCount += i.totalCount\n          return obj\n        }, {\n          code: '-',\n          name: 'Alle',\n          totalPrice: 0,\n          originPrice: 0,\n          totalCount: 0,\n          groupData: IKUtils.deepCopy(this.realAttributes),\n          variants: [],\n        })\n        this.unfilteredData = [totalData].concat(salesData)\n        this.displayData = this.unfilteredData.filter(item => !(this.fixedHideDishes.includes(item.name)))\n      },\n      async loadData () {\n        this.dates = [formatDate(0), formatDate(0)]\n        this.attributeData = await this.getAttributeGrouped()\n        this.allFixedDishesData = await Dish.getList()\n        this.hourStart = this.hourStart === '' ? '00:00:00' : this.hourStart\n        this.hourEnd = this.hourEnd === '' ? '23:59:59' : this.hourEnd\n        await this.loadSalesData(this.dates, this.hourStart, this.hourEnd)\n        if (localStorage.getItem('fixedHideAttribute')) {\n          this.fixedHideAttributes = JSON.parse(localStorage.getItem('fixedHideAttribute'))\n        }\n        if (localStorage.getItem('fixedHideDishes')) {\n          this.fixedHideDishes = JSON.parse(localStorage.getItem('fixedHideDishes'))\n        }\n        if (this.fixedHideDishes.length > 0) {\n          this.allDishData = this.allFixedDishesData.filter(item => !(this.fixedHideDishes.includes(item.dishName)))\n        } else {\n          this.allDishData = IKUtils.deepCopy(this.allFixedDishesData)\n        }\n      },\n      print () {\n        if (Date.parse(this.dates[0]) > Date.parse(this.dates[1])) {\n          [this.dates[0], this.dates[1]] = [this.dates[1], this.dates[0]]\n        }\n        const timeSpan = [this.dates[0] + ' ' + this.hourStart, this.dates[1] + ' ' + this.hourEnd]\n        Utils.showConfirm('Bist du sicher?', 'Möchten Sie die Statistike Bon drucken?', () => {\n          PrinterSalesInSightBon(timeSpan).then(() => {\n            Utils.toast('Erfolgreich drucken!')\n          })\n        })\n      },\n    },\n  }\n</script>\n\n<style>\n  .bigHeadHorizontal {\n    background: #367aeb;\n    font-size: 24px;\n    padding: 8px 2px;\n    color: white;\n    grid-row: 1 / span 2;\n  }\n\n  .agHead {\n    background: #4caf50;\n    color: white;\n    padding: 8px 2px;\n  }\n\n  .dishRow > td{\n    font-weight: bold !important;\n    font-size: 18px !important;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  th{\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    font-size: 18px !important;\n  }\n  .dishRow {\n    background: #f6f6f6;\n    color: black;\n  }\n\n  .variantRow {\n    padding: 4px;\n  }\n\n  .attributeGrid {\n    border-right: 1px dotted #333333;\n  }\n\n  .aHead {\n    padding: 2px;\n\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SalesInsight.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SalesInsight.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SalesInsight.vue?vue&type=template&id=270758cb&\"\nimport script from \"./SalesInsight.vue?vue&type=script&lang=js&\"\nexport * from \"./SalesInsight.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SalesInsight.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTimePicker } from 'vuetify/lib/components/VTimePicker';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VCol,VContainer,VDataTable,VDatePicker,VDialog,VIcon,VRow,VSelect,VSpacer,VTextField,VTimePicker,VToolbar,VToolbarTitle})\n","export function formatDate (num) {\n  const now = new Date()\n  const nowTime = now.getTime()\n  const oneDayTime = 24 * 60 * 60 * 1000\n  const ShowTime = nowTime + num * oneDayTime\n  const myDate = new Date(ShowTime)\n  const y = myDate.getFullYear()\n  const m = myDate.getMonth() + 1\n  const d = myDate.getDate()\n  return [y, m, d].join('-')\n}\n\nexport function formatFullData (num) {\n  const now = new Date()\n  const nowTime = now.getTime()\n  const oneDayTime = 24 * 60 * 60 * 1000\n  const ShowTime = nowTime + num * oneDayTime\n  const myDate = new Date(ShowTime)\n  const y = myDate.getFullYear() + '-'\n  const m = myDate.getMonth() + 1\n  const d = myDate.getDate()\n  const h = myDate.getHours() < 10 ? '0' + myDate.getHours() : myDate.getHours()\n  const mm = myDate.getMinutes() < 10 ? '0' + myDate.getMinutes() : myDate.getMinutes()\n  const s = myDate.getSeconds() < 10 ? '0' + myDate.getSeconds() : myDate.getSeconds()\n  return y + m + '-' + d + ' ' + h + ':' + mm + ':' + s\n}\n\nexport function rundTimeSecondToMin (item) {\n  const temp = item\n  if (temp.maxDineTime) temp.maxDineTime = temp.maxDineTime / 60\n  if (temp.roundTime) temp.roundTime = temp.roundTime / 60\n  // if(item.)\n  return temp\n}\n"],"sourceRoot":""}